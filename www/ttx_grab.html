<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/HTMLlat1.ent">
<HTML lang="en">
<!-- $Id: ttx_grab.html,v 1.4 2011/01/09 20:27:14 tom Exp $ -->
<HEAD>
<TITLE>Teletext EPG Grabber Software</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<META name="language" content="en">
<META name="keywords" lang="en" content="teletext, EPG grabber, XMLTV, software, freeware, GPL, ZVBI, Perl, Video-ZVBI, VBI, vertical blanking interval, TV tuner card, capture, TTX, tv_grab">
<META name="description" lang="en" content="This teletext EPG grabber is a Perl script which allows to grab TV programme schedules (EPG) from teletext pages by use of a TV capture card.">
<META name="author" content="Tom Zoerner">
<META name="copyright" content="Tom Zoerner">
<META name="robots" content="index, follow">
<META name="revisit-after" content="01 month">
<LINK rel="stylesheet" type="text/css" href="nxtvepg.css">
<LINK rel="shortcut icon" type="image/x-icon" href="nxtvepg.ico">
</HEAD>
<BODY>

<DIV CLASS="navBar">
<P><SMALL>
<IMG ALT="" SRC="nxtv_icon.gif">&nbsp;nxtvepg&nbsp;
<A HREF="index.html">home</A>
</SMALL></P></DIV>

<DIV class="navBlock">
<H2 class="navhead">Language</H2>
<P>
<IMG ALT="" SRC="en.png" WIDTH="16" HEIGHT="10"> English<BR>
<IMG ALT="" SRC="de.png" WIDTH="16" HEIGHT="10"> <A HREF="index-de.html">Deutsch</A><BR>
<IMG ALT="" SRC="fr.png" WIDTH="16" HEIGHT="10"> <SPAN class="navDisabled">Français</SPAN><BR>
</P>

<H2 class="navhead">Documentation</H2>
<P>
<A HREF="man-ttx_grab.html">tv_grab_ttx</A><BR>
</P>
<H2 class="navhead">Related Links</H2>
<P>
<A HREF="http://nxtvepg.sourceforge.net/">nxtvepg</A><BR>
<A HREF="http://xmltv.org/">XMLTV</A><BR>
</P>
<H2 class="navhead">Hosted by</H2>
<P>
<span class="center"><span class="logo"><a href="http://sourceforge.net"><img
src="http://sourceforge.net/sflogo.php?group_id=64430&amp;type=4"
width="125" height="37" alt="SourceForge.net Logo"></a></span></span>
</P>
</DIV>

<DIV class="mainBlock">

<H1>Teletext EPG grabber</H1>
<P>
This EPG grabber allows to extract TV programme listings in
<A HREF="http://xmltv.org/">XMLTV format</A>
from teletext pages as broadcast by most European TV networks.
The grabber works by reading teletext pages via a TV card from all
individual networks, then extracting programme title and starting times
from programme tables (e.g. in Germany usually pages 301-304) and
finally adding description texts from pages which are referenced in
the overviews.
</P><P>
The grabber can be used stand-alone, but is best used as addition to the
<A HREF="intro.html">Nextview EPG</A> grabber
<I><A HREF="index.html">nxtvepg</A></I> (version 2.8.0 or later),
which can also be used to view the programme listings in the generated
XMLTV files.  The grabber is integrated into the nxtvepg acquisition
control and can be activated via the configuration menus. The main intent
of the combination is firstly to compensate for the recent loss of several
<A HREF="provnets.html">Nextview EPG providers</A>
(such as German providers 3sat and RTL2) and secondly to add more
description texts to the Nextview EPG.  In teletext, many networks
have good descriptions not only for movies, but especially also for
weekly magazines, daily soaps or current events.
</P><P>
Since the grabber has to read each individual network's teletext stream
and many networks use sub-pages at least for descriptions, the
process unfortunately takes relatively long. For full EPG grabbing,
at least 90 seconds per network are required. There's a fast scan mode
which requires only 10-20 seconds per network in average, however in
this mode overview and descriptions may be incomplete if sub-pages are
used by the respective network.
</P><P>
For now, only nation-wide German networks are supported. For other
networks the parser will need to be adapted to different page
formats. That's because almost every network formats tables, dates,
times and descriptions slightly differently, so that the parser will
have trouble locating the EPG data among all the advertisements and
other content in teletext.
</P>

<H2>Download</H2>
<P>
This download is mainly inteded for users who want to use the
grabber stand-alone, i.e. without nxtvepg.  In this case you need the
"libzvbi" library, see below.
</P><P>
This download can also be used to update the teletext grabber used by
nxtvepg. To do so, unpack the archive and copy <I>tv_grab_ttx.pl</I>
into the directory where you start nxtvepg, or on Linux, copy the file
into directory <KBD>/usr/share/nxtvepg/</KBD>.
</P>
<H3>Latest Release: Version 2.0 from January 9th 2011</H3>
<P>
Under the hood the grabber has been completely rewritten in the C++
language instead of Perl. To the user this is a benefit only insofar
as the grabber runs now slightly faster and Windows users no longer
need to obtain a Perl interpreter.
</P><P>
Additionally, many minor updates, enhancements and fixes both in
in overview and description page parsing were done. In essence, the
quantity and quality of the XMLTV output has been improved.
</P><P>
Note using this grabber version in nxtvepg requires
<A HREF="pre-releases.html#pre_rel_nxtvepg">version 2.9.pre4</A> or later.
</P>

<DIV CLASS="box">
<H3><A NAME="download_source">Sources</A></H3>
<P>
Note the grabber is no longer implemented in Perl, thus a compiler is
required to compile, unless you can use one of the pre-compiled-packages
below. Note the grabber requires the "libzvbi" library. For this reason,
compilation on Windows is currently not supported (use an
<A HREF="pre-releases.html">nxtvepg pre-release</A> instead.)
</P>
<UL>
<LI>Teletext grabber sources (requires a C++ compiler):
    <A HREF="http://nxtvepg.sourceforge.net/tmp/tv_grab_ttx-2.0.tar.gz">tv_grab_ttx-2.0.tar.gz</A> (apx. 130 kB)
</UL>
</DIV>

<DIV CLASS="box">
<H3><A NAME="download_unix">Binary packages for Linux</A></H3>
<P>
These packages can be installed with "dpkg -i PACKAGE" on Debian, Ubuntu
and all other platforms using the Debian package format.
<P>
<UL>
<LI CLASS="spaced">Teletext grabber:
    <!-- <A HREF="http://nxtvepg.sourceforge.net/tmp/libxmltv-ttx_2.0_i386.deb">libxmltv-ttx_2.0_i386.deb</A> (Intel/AMD 32-bit, apx. 274 kB) -->
    <A HREF="http://nxtvepg.sourceforge.net/tmp/libxmltv-ttx_2.0_amd64.deb">libxmltv-ttx_2.0_amd64.deb</A> (Intel/AMD 64-bit, apx. 274 kB)
</UL>
</DIV>

<H3>Dependencies</H3>
<P>
When not used inside of nxtvepg, you'll also need the
<A HREF="http://zapping.sourceforge.net/doc/libzvbi/index.html">ZVBI library</A>
(a VBI, i.e. teletext data capturing library.)
</P>

<H2>Usage</H2>
<P>
The following is a usage example: First the channel is switched to network
ARD using xawtv's tool v4lctl. The following command captures teletext for
1.5 minutes and then extracts EPG data from the captured pages into an XMLTV file.
Finally the XMLTV file is loaded into nxtvepg for display.
</P>
<PRE>
  v4lctl -c /dev/vbi0 setstation ARD
  tv_grab_ttx -duration 90 -page 301-309 &gt; ARD.xml
  nxtvepg ARD.xml
</PRE>
<P>
Note capturing from DVB devices requires option "<I>-dvbpid</I>".
For additional options invoke <I>tv_grab_ttx</I> with command line option
"<I>-help</I>".
</P>


<H2><A NAME="feedback">Questions and feedback</A></H2>
<P>
Your feedback is always welcome.  If you have specific questions, suggestions,
bug reports or any other kind of feedback, please use the
<A HREF="http://sourceforge.net/forum/forum.php?forum_id=217872">nxtvepg discussion forum</A>
or mail me directly to tomzo at users.sf.net
</P>

<H2><A NAME="copyright">Copyright</A></H2>
<P>
&copy; Copyright 2006 - 2011 by T. Zoerner.
</P><P>
This program is free software; you can redistribute it and/or modify
it under the terms of the
<A HREF="http://www.fsf.org/copyleft/gpl.html">GNU General Public License</A>
as published by the <A HREF="http://www.fsf.org/">Free Software Foundation.</A>
This program is distributed in the hope that it will be useful,
but <B>without any warranty</B>; without even the implied warranty of
merchantability or fitness for a particular purpose.
</P><P>
Content copyright: Please note that content providers do hold a
copyright on the programme data which can be received by means of this
software.  The data is free for personal use, but you must not publically
redistribute it (e.g. make it available on the Internet) without prior
permission.
</P>

</DIV>
</BODY>
</HTML>
