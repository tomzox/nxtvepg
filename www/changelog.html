<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/HTMLlat1.ent">
<HTML lang="en">
<!-- $Id: changelog.html,v 1.32 2002/06/02 19:36:33 tom Exp $ -->
<HEAD>
<TITLE>Nextview EPG Decoder Change-Log</TITLE>
<LINK href="nxtvepg.css" rel=stylesheet type=text/css>
<META http-equiv="Content-Type" content="text/html; charset=iso8859-1">
<META name="language" content="en">
<META name="author" content="Tom Zoerner">
<META name="copyright" content="Tom Zoerner">
<META name="keywords" lang="en" content="Bt848, video capture, capture, browser, Pro7, RTL2, 3Sat, Canal+, EuroNews, nexTView, EPG, nxtvepg, teletext, Bt878, Booktree, electronic program guide, TV-Guide, Premiere, TV program listing, TV schedule, Nextview decoder, Linux, software download, bttv, video4linux, VBI, vertical blanking interval, multimedia, data service, subscription free, TV tuner card">
<META name="description" content="History of releases and changes inbetween for the nxtvepg decoder software">
<META name="robots" content="index, follow">
<META name="revisit-after" content="01 month">
</HEAD>
<BODY BGCOLOR=#f8f8f8>

<P><HR><P>
<H1>Nextview EPG Decoder Change-Log</H1>

<P>
This document contains a list of all major changes between releases
of the <A HREF="http://nxtvepg.tripod.com/">nxtvepg</A>
nexTView EPG decoder software.
<BR>
It also contains information about the next release and is regularily
updated while work is in progress and new bugs are fixed or features added.
If you're interested in beta testing pre-releases, just send me a mail.
</P>

<!---
<H2>From x.x.x to y.y.y (yet unreleased)</H2>
<P>
This feature was planned for 0.7.1 but was postponed in favor of
improvements for the M$ Windows platform (see changelog for 0.7.1):
</P>
<UL>
<LI>Added Remote control for the acquisition daemon, to allow changing the
  daemon's acquisition mode, TV card and network parameters via the client GUI
  (there's already an <I>"Enable remote control"</I> option in the Client/Server
  configuration dialog in version 0.7.0, but it's not doing anything yet,
  in case you haven't noticed :-)
</UL>
-->

<H2>From 0.7.3 to 0.7.4 aka 2.1.2 (June/2/2002)</H2>
<P>
This release contains one single bugfix:
</P>
<UL>
<LI>Bugfix TV application interaction: no EPG information was forwarded to the
  TV app under certain circumstances (only if the station name was unknown
  to nxtvepg and the VPS/PDC id was unchanged since the last request)
</UL>
<P>
Note: unless I find any more severe bugs that warrant a bugfix release, this
will be the last release with a "0." version number.  Starting with the next
version UNIX and Windows will use the same version number, i.e. 2.x.x
</P>

<H2>From 0.7.2 to 0.7.3 aka 2.1.1 (May/30/2002)</H2>
<P>
This release contains one notable bugfix (at least for French users)
and a few minor feature improvements:
</P>
<UL>
<LI>Bugfix in PDC decoding: didn't work at all before (this affects the EPG scan
  and TV app interaction). Thanks to e-nek for helping to debug this problem
<LI>Added PDC and P8/30/1 "status display" text decoding; currently used only
  during EPG scan for networks without CNI -&gt; e.g. MTV and some local
  TV channels are now identified, too
<LI>Main window can be scrolled by dragging the mouse outside the window
<LI>Acquisition database window can be opened before acq enabled
<LI>Important EPG scan messages now marked by use of bold font
<LI>Windows-95 compatibility: resolved two missing symbols
<LI>Windows Bt8x8 driver: added new error checks for driver installation
</UL>

<H2>From 0.7.1 to 0.7.2 aka 2.1.0 (May/20/2002)</H2>
<P>
This release contains the following new features and fixes:
</P>
<UL>
<LI>Windows: Enabled TV application interaction feature and added documentation
  for the demo and debugging tools tvsim, vbirec and vbiplay.
<LI>Windows: Added option "Hide on minimize", i.e. when the main window is
  minimized, it's removed from the taskbar and an icon is installed in the
  system tray with a small popup menu.
<LI>Windows TV app. interaction: VPS/PDC is now evaluated if EPG acquisition
  is disabled (or -in the future- if EPG acq. uses a different TV card)
<LI>Windows TV card input dialog: warn if TV app. was changed but config not
  loaded; same for TV app. interaction dialog if "Test" button was not used.
<LI>Windows Bt8x8 driver DSdrv: improved robustness by attempting uninstall
  and re-install of the service if driver start fails (with certain types
  of errors)
<LI>Windows TV card input dialog: list only as many TV cards as are available
  (do a scan of all TV cards upon first Bt8x8 driver start; requires that
  the driver was started at least once since program start)
<LI>Windows daemon port finished: option -daemon is now available (note that
  the daemon currently does not support TV app. interaction)
<BR><BR>

<LI>Bugfix EPG scan (Linux only): after an EPG scan acquisition could not be
  enabled because the VBI device was allegedly busy. The cause was that an
  acquisition thread kept running after the EPG scan.
<LI>The wheel mouse now scrolls only 5 lines instead of 1 page and the cursor
  remains on the previously selected item.
<LI>Improved automatic mode selection for internal/remote acquisition during
  startup: wait until an connection is completely established until changing
  the default mode to remote acq in the rc/ini file (esp. when connecting
  via TCP/IP)
<LI>EPG scan is no longer prevented with "cannot start scan while in
  client/server mode" unless currently connected to an acq daemon.
<LI>EPG scan: reset 45-seconds timer when EPG is found to be transmitted on a
  non-default teletext page nunmber. This should fix the problem that Canal+
  is reliably detected only when in "slow" mode.
<LI>Removed the last remaints of long integer usage to improve 64-bit CPU
  compatibility.
<LI>Bugfix: crash when there was a .xawtv file with zero channel definitions
<LI>Bugfix: the EPG scan was not stopped when the program was terminated by a
  signal or logging out, causing a crash.
<LI>Bugfix: crashed with SEGV when the acq timescales were open when the EPG
  scan was started.
<LI>Bugfixes in timescales: network highlighting and "acquisition tails" for
  the browser database timescales were sometimes not enabled or disabled
  when acquisition was en-/disabled or moved from/to the browser database.
</UL>


<H2>From 0.7.0 to 0.7.1 aka 2.0.0 (May/05/2002)</H2>
<P>
This release contains the following new features and fixes:
</P>
<UL>
<LI>Windows: exchanged the driver with the free (GPL'ed) DSdrv, a driver
  developed in the <A HREF="http://dscaler.org">DScaler</A> project.  This
  means that I finally can include a Bt8x8 driver with nxtvepg!  Many thanks
  to <I>e-nek</I> for doing the initial port; also many thanks to <I>John Adcock</I>
  and the other members of the DScaler team.
<LI>Windows: simplified the initial setup procedure by adding the possibility
  to load configuration files or registry of some well known TV applications
  (MoreTV, FreeTV, DScaler, K!TV, MultiDec) to extract their TV card setup.
  The channel tables can also be extracted, to allow for network name
  synchronization (via the Network name configuration dialog)
<LI>Windows: Prepared the possibility to interact with TV applications.  This
  allows for the same features that already were available on UNIX with xawtv
  This feature is disabled in the regular release as there are no TV applications
  yet that support it officially.  (The first one will be
  <A HREF="http://perso.wanadoo.fr/quenottetv/">K!TV</A> - note: an English
  language version of this application is currently in development.
  If you are an author of a TV app, feel free to mail me if you want to add
  EPG support to your application.  A demo application and reference
  implementation are available.)
<LI>Windows: brought back a lost workaround (lost due to a crash of an almost
  new <I>Deskstar</I> drive - thank you, IBM) in the Tk83.dll for message boxes
  (do not use the native Windows message box from inside Tcl/Tk procedures,
  because it sometimes destroys the main window for unkown reasons)

<LI>Fixed bug in support for big-endian CPU architectures: there was an
  alignment error in one of the database structures which caused an abort
  with a bus error (e.g. on Sun Sparc CPUs); also endian mismatches were
  not reported in acquisition daemon connect attempts.
<LI>Fixed bug in the EPG scan that caused a crash 64-bit architectures
  (e.g. PowerPC). Thanks to Helge Kreutzmann for reporting this bug.
<LI>Added automatic endian conversion during database reload and acquisition
  daemon connections. In earlier versions the reload was simply refused.
  Note: the data is still written in the native format and only converted if
  neccessary, so there is no performance impact for little-endian machines
  (e.g. in contrast to writing always in network byte order)
<LI>Improved channel change handling (handshake between acq master &amp; slave)
<LI>Reduced latency in VPS/PDC decoding after channel changes (the latency
  was increased due to a change in 0.7.0)
<LI>UNIX: improved startup of acquisition process/thread; fixed the design bug
  due to which the TV tuner was programmed even if the VBI could not be opened.
<LI>Improved hyperlinks in help pages: can now link into sub-sections too,
  which is esp. useful for the "Configuration" chapter.
<LI>Fixed a bug in the decoder for language and sub-title information blocks
  (currently only broadcasted in France by M6 and Canal+).
</UL>

Please note that Windows TV interaction support is intentionally disabled
in this release, because the interface is not yet finalized.  But if you
want to see a demonstration of the capabilities, go to the
<A HREF="http://www.nefkom.net/tomzo/prj/nxtvepg/devel/">Developer's page</A>
where you'll find a package with an nxtvepg executable with TV app interaction
support and debugging output enabled plus several demo and debugging tools.

<H2>From 0.6.4 to 0.7.0 (March/02/2002)</H2>
<P>
Note that as of this release the database format is changed (due to a
bugfix and several extensions); it's recommended to delete all database
files from the nxtvepg directory before the next program start (expect
to see a few warnings, which you can ignore in this case). Then
start an EPG scan with the option "Refresh only" (this checkbox is
located below the EPG scan message window)
</P><P>
This release contains the following new features:
</P><P>
<UL>
<LI>Added a network connection between the acquisition daemon and the GUI.
  While connected, the browser receives updates for opened Nextview databases
  (i.e. all incoming EPG blocks are forwarded) and constant updates about
  the acquisition progress.
<LI>Added compile-time option to use multi-threading for VBI acquisition
  instead of a separate process. The advantage is that the threads are only
  created when acquisition is enabled and not when connected to a daemon.
<LI>Added support for wheel mouse in main and help windows,
  thanks to Serge Koenigsmann.
<LI>xawtv popup is immediately removed when xawtv is terminated or iconified
<LI>Fixed bug in status line statistics output: expired percentage did not
  reach 100% even after the database appeared empty because the total of
  "defective" blocks was erronously included in the quotient.
<LI>Added scollbars to network list in network selection dialog and limited
  listbox height to 27 networks.
<LI>Added field with official network description in network name config dialog
  to avoid confusion in case different stations have similar logos
  (e.g. there's "ntv" in Turkey and "n-tv" in Germany)
<LI>Added network name output during EPG scan (e.g. "ARD" instead of "0x0DC1")
  generally improved diagnostic output (summary at the end)
<LI>The timescales windows now show all blocks in the database; they used
  to start with the current time, omitting all expired blocks.
  That was confusing esp. in case all blocks were expired, because the
  status line said "100% complete" but no blocks were displayed.
<LI>Added "acquisition tail" to timescales: the most recently updated ranges
  are marked with a white bar which fades to the background color over time
<LI>Added callback to timescale windows: mouse click on a scale now filters
  the slected netwop in the main window and jumps to the given time
<LI>Fixed bug in database structure which holds navigation menu entries
  (a fixed length array was too short and caused memory overwrites)
<LI>Both acquisition and EPG scan now extract channel frequecies from both
  databases and rc/ini file, so that in case of loss of either databases
  or rc/ini file they still can be recovered.
<LI>Fixed bug which let the browser hang in wait(2) after the process group
  was delivered a STOP signal (i.e. CTRL-Z in the controlling terminal)
<LI>Made dialog windows which display lists resizable, e.g. netwop selection
<LI>Bugfix in database merge (yes, yet another one): the merged netwop table
  could contain uninitialized entries, if the user network selection contained
  networks that were included in none of the merged databases (e.g. remains
  of a previous merge with different providers)
<LI>Implemented "Index" filters for merged database; due to technical
  limitations currently only "now" &amp; "next" searches are supported; others
  will return empty lists.  Thanks to Mathias Homann for prompting this fix.
</UL>
<P>
Thanks to Jan Schuster for alpha testing and much useful feedback
and to Mario Kemper for beta testing and adaptions for NetBSD.
</P>

<H2>From 0.6.3 to 0.6.4 (November/06/2001)</H2>
<P>
This release contains the following fixes:
</P>
<UL>
<LI>Bugfix database merge: merging used to produce only empty databases, because
  zero networks were loaded (the user was forced to manually add networks via
  the network selection dialog.) This bug was introduced in version 0.6.2.
  Thanks to Mathias Homann and Jan Schubert for reporting this nasty bug.
<LI>Bugfix xawtv popup: percentage was displayed as 10000% for programmes
  running later than the announced stop time (on channels with VPS/PDC).
  Thanks to Ulrich Mueller for the bug report &amp; fix.
</UL>

<H2>From 0.6.2 to 0.6.3 (September/16/2001)</H2>
<P>
This release contains the following fixes and improvements;<BR>
note that all of them are available in the UNIX version only:
</P>
<UL>
<LI>Added daemon mode to allow background acquisition without GUI.
  Added new command line options <KBD>-daemon</KBD> and <KBD>-acqpassive</KBD>
<LI>Signal HUP can now be used to toggle acquisition on and off (with GUI only;
  the daemon terminates when acquisition is disabled). Before, the signal
  used to disable acquisition only.
<LI>Fix: catch death of acquisition slave process (i.e. after deadly signal)
  and mark acquisition as disabled in the master process.
</UL>

<H2>From 0.6.1 to 0.6.2 (September/07/2001)</H2>
<P>
This release contains the following fixes and improvements:
</P>
<UL>
<LI>The merged database now only contains those networks that were selected by
  the user in the network configuration dialog, and in the same order.
  The first change reduces memory and CPU consumption; the second one ensures
  that programmes with identical start time are presented in order of your
  network preference (particularily useful e.g. at 20:15 in Germany)
<LI>Fixed daylight saving time handling for Linux: got rid of mktime() in
  Julian date to UNIX epoch conversion for incoming PI blocks, so the LTO is
  out of the equation. Before the fix, all blocks that were acquired before
  a DST change appeared shifted by one hour after the DST had changed.
<LI>Fixed "program index" filter: index calculation was broken since an
  internal change in the database in release 0.5.1
<LI>Fixed Navigate menu: due to a bug the "expire time" filter was undone so
  that expired TV programmes showed up in the listing and could not be removed
  even by pressing the Reset button.<BR>
  Thanks to Frank Mauler for the bug report.
<LI>Improved acquisition strategies for multiple databases in "manual" and
  "cyclic" modes by adding a new phase which is entered after one pass over
  all databases. 
<LI>Fixed several possible acquisition cycle "hangups" (i.e. acquisition never
  switched to the following provider) which could occur in abnormal situations,
  e.g. when a provider did not transmit all blocks that were listed in his AI
  inventory, or when the AI was completely empty. Also added a global timeout
  of 30 minutes for all acquisition phases.
<LI>Added documentation for main window status line in chapter STATISTICS.
  Added "?" button to database statistics popup to link to the new description.
<LI>Improved timescale popup ("control" menu): time ranges with missing PI blocks
  (TV programmes) are now marked gray. Note that the ranges can only be
  estimated, as the time range a block covers is not known until the actual
  block is available.  This is useful when a provider enlarges the preview
  range for selected networks only; now you can see which these are.
<LI>Improved timescale popup ("control" menu): upon provider or version change
  the old content is no longer destroyed before the new one is filled in
  so that the popup doesn't flash as much anymore.
<LI>Timescales popup: removed restriction that only one time scale popup window
  could be opened per database, i.e. the acq time scale popup now remains open
  even when the acquisition works on the browser database.
<LI>New item in acq statistics output: added "PI rx repetition", i.e. how often
  each block in both streams have been received in average since start of
  acquisition.
<LI>Fixed bug in database statistics popup: when the popup remained open for
  a long time it ate up a lot of CPU, because the refresh every 10 secs
  did not correctly delete the previous content.
<LI>Added transmission error handling for AI block (as already done for PI):
  check if a new block is a equivalent; if yes refuse it if the string segment
  (service and network names) has more parity errors than the previous copy.
</UL>

<H2>From 0.6.0 to 0.6.1 (August/30/2001)</H2>
<P>
This release contains the following bugfixes:
</P>
<UL>
<LI>Fixed bug in the GUI: when the listbox column headers were disabled in the
  Configure menu, the main window appeared much too wide (calculated width as
  pixels, but applied as if millimeters).<BR>
  Thanks to Peter Suetterlin for the bug report.
<LI>Fixed bug in block management which allowed for PI blocks to remain in the
  database although the valid network block range was declared void in the AI.
  This could result in fill percentages &gt; 100 in the statistic output
  (as seen on provider Pro7 on 08/28/2001).
</UL>

<H2>From 0.5.2 to 0.6.0 (August/25/2001)</H2>
<P>
This release contains the following new features:
</P>
<UL>
<LI>Possibility to add references to external applications to the context
  popup menu in the browser listbox, e.g. to program an alarm timer for the
  selected TV show in your favourite scheduler.
<LI>Added new dialog in the control menu to dump the complete programme list or
  selected descriptions into a file in HTML format, from where they can be
  loaded by any WWW browser. This may be of interest for people who want to
  print out TV schedules.
<LI>New text search option <I>Match full</I> to allow exact title matches,
  e.g. a search for "heute" will no longer match on "heute journal" when
  full match is enabled.
<LI>Alphabetically sorted series list in the filter menu.
<LI>Added RPM spec which allows to install directly from the source tarball.
<LI>Bugfix Windows-95: the browser listbox cursor always followed movements of
  the mouse pointer, even when no button was pressed.
<LI>Bugfix in epgblock.c for Power-PC platform; thanks to Gerd Knorr.
</UL>

<H2>From 0.5.1 to 0.5.2 (June/14/2001)</H2>
<P>
This release contains two bugfixes:
</P><P>
<UL>
<LI>Bugfix programme listbox: the network filter did not follow xawtv channel
  changes. Thanks to Werner Renhardt (werner at kangaroo.at)
<LI>Bugfix cyclic acquisition (bug was introduced in release 0.5.1): expired programmes
  were not counted for acquisition statistics, hence sometimes the acquisition engine
  did not detect when the database was complete and did not move on to the
  next provider.
</UL></P>

<H2>From 0.5.0 to 0.5.1 (June/5/2001)</H2>
<P>
This release completes the integration of nxtvepg with
the <I>xawtv</I> TV application (UNIX only). Now you can not only switch the
TV channel from inside nxtvepg's TV listings, but also zap through the channels
with xawtv and nxtvepg's description will follow the currently tuned channel.
The program's title and running times will also be sent back to xawtv.
See the <A HREF="man.html#CONFIGURATION">manual page</A>, sections
<I>Xawtv connection</I> and <I>Network names</I>, for details
or see this <A HREF="screenshot-xawtv.jpg">xawtv screenshot</A> to see
the title popup in action.
</P><P>
<UL>
<LI>Monitor the <TT>_XAWTV_STATION</TT> property on the xawtv window and VPS/PDC
  (during EPG acquisition) to detect channel changes (new source module
  <TT>epgui/xawtv.c</TT>; communication with xawtv is now done directly via X11
  calls, and no longer uses the <TT>xawtv-remote</TT> utility)
<LI>After a channel change, optionally set the programme listing's cursor on
  the programme currently running on this channel and/or display the programme
  title and running time information inside xawtv, either in a popup, as
  overlay (requires xfree4 and the XVideo extension) or window title message.
<LI>Improved handling of the network name configuration dialog by addition of
  a "Closest match" (in the .xawtv station name list) button.
<LI>fix: during refresh, the cursor now remains on the same start time and network
<LI>fix: short info text view is no longer set to line 1.0 during every update
<LI>fix: possible crash due to reference to freed memory when acq timescale
  popup was open &amp; bad reception (block discarded due to parity errors)
<LI>fix: in cyclic or follow-ui acquisition modes when acquisition was forced
  passive on a non-provider channel, e.g. by a busy video device, acq control
  did not automatically switch to active when the device was freed.
<LI>fix: network name configuration: name selection from the provider listbox
  was handled incorrectly for networks which were not covered by all providers,
  so that another than the selected name was actually used.
<LI>Added support for multi-network channel names (e.g. Arte / Kinderkanal)
  to network name configuration: split xawtv station names around '/' and
  use all resulting segments for matching with Nextview network names.
<LI>Added support for Turkish charset in national option table; 6 characters
  which are not in latin-1 are replaced by their ASCII counterparts.
<LI>Fixed two memory leaks in the EPG scan and wrong handling of the EPG MIP
  entry, which slowed down the scan on several channels.
<LI>changed Makefile.win32 to use gcc/mingw32 for compilation. The supplied
  Tcl/Tk libraries are compiled with gcc too (on NT using cygwin)
</UL></P>

<H2>From 0.4.5 to 0.5.0 (Apr/21/2001)</H2>
<UL>
<LI>The main window is now vertically resizable. The proportions of the program listbox
  and the info text can be adjusted with a "panning" button (slider).
<LI>Added a button called "Tune TV" in the main window to remote-control xawtv (UNIX only).
<LI>Added network name configuration dialog to synchronize names with the <I>.xawtv</I>
  configuration file and to allow consistant network naming across all providers.
<LI>Allow using channel assignments in .xawtv to speed up the EPG scan (UNIX only).
<LI>Added "Update filter shortcut" dialog to the filter menu to simplify changing
  existing shortcuts.
<LI>Made handling of filter shortcut dialog fool-proof.
<LI>Added filter settings description to the shortcut configuration dialog.
  Removed the filter combination checkboxes (were disabled anyway).
<LI>Added acquisition mode "external" for Composite/S-Video input source (or
  unknown win32 tuner types).  Win32: suppressed obsolete acq mode "passive".
<LI>Fixed command line option -rcfile for Win32: backslash chars in path vanished.
<LI>Restructured software to simplify reuse as library in other projects.
</UL>

<H2>From 0.4.4 to 0.4.5 (Apr/1/2001)</H2>
<UL>
<LI>Fixed bug in NetBSD daylight saving time handling, due to which programmes
  were shifted by 60 minutes. Thanks to Mario Kemper for the patch.
<LI>Fixed bug in Tcl proc LoadRc, due to which reload of the rc/ini configuration file could fail.
  Thanks to Dan Lindstroem for the patch.
</UL>

<H2>From 0.4.3 to 0.4.4 (Feb/27/2001)</H2>
<UL>
<LI>Please note my new email address: tomzo <I>at</I> nefkom.net
<LI>Fixed severe bug in database reload (reference to freed memory;
  Curiously this led to crashes under Windows only)
<LI>Fixed compatibility with old bttv driver versions (versions &lt;= 0.6.x produced
  error "VIDIOCSCHAN: operation not supported" during TV channel changes)
<LI>Added detection of lost VBI frames (Linux, for debugging/optimization only)
<LI>Added frequency table for France; Minor fixes in Western Europe table;
  Tables can be selected via the TV card input popup.
<LI>Updated tuner type table for Windows Bt8x8 driver -&gt; support for new tuners
<LI>Implemented hyperlinks in help pages for references between chapters
</UL>

<P><HR><P>
<H3>New features between release 0.3 and 0.4</H3>

<DL>
<DT><STRONG>Database Merging</STRONG>
<DD><P>
If you compare databases of different Nextview providers, you will often
find that each has one or more nice features, or covers networks, that the
others lack. Instead of changing back and forth between several providers
all the time, database merging allows to select and combine features or
networks from several original databases into one newly created database.
</P>
<DT><STRONG>Extended Acquisition Control</STRONG>
<DD><P>
Previously, acquisition always worked for the provider you had chosen
for the browser. If you were interested in more than one provider's
database, you had to manually select them one after each other to get
them up to date. Now, you can put your favorite providers into a list
and have them automatically updated one-by-one. There are several modes
that allow for a faster start-up time, e.g. by loading just the "Now"
data of all providers in a first pass (takes about 2 minutes each) and
afterwards the complete databases (takes about 20 minutes each).
</P>
<DT><STRONG>Browser listbox column configuration</STRONG>
<DD><P>
Previously the format of the programme listings was fixed. Now you have
the free choice which attributes you're interested in. Usually you'll
have at least the title, running time and channel name, and then add
whatever you need most often, e.g. the major theme (movie/series/show etc.),
rating, picture format, ...
</P>
<DT><STRONG>Improved database and acquisition statistics</STRONG>
<DD><P>
(1) Database statistics are now available independently of acquisition,
and include new catagories, e.g. percentage of expired program blocks.
(2) Acquisition stats can be invoked before a provider was found, and
contain an regularily updated VPS/PDC and teletext reception summary,
to allow debugging of reception problems.
(3) Added a status line at the bottom of the browser window to give a
quick overview of the database and acquisition state.
</P>
<DT><STRONG>Support for other operating systems</STRONG>
<DD><P>
Last but not least, nxtvepg has been ported to NetBSD (many Thanks to
Mario Kemper, who's also my valued beta tester) and to Micro$oft Windows
(thanks to "Es/presso", from whose Multi-Dec the driver was derived)
</P>
</DL>

For a detailed description of these new features please refer to the
<A HREF="man.html">Manual</A>.

<P><HR><P>
<H3>History of additions and bug fixes inbetween previous releases</H3>

<H2>From 0.4.pre2 to 0.4.3 (Feb. 2001)</H2>
<UL>
<LI>Fixed various glitches in acquisition mode handling and warnings
<LI>Added warning when acq mode is forced passive due to non-tuner input source
<LI>Finally added chapter about merged databases to documentation
<LI>Split off EPG scan sources from epgacqctl.c into separate module epgscan.c
<LI>Temp workaround for merged db statistics: supress unsupported categories
<LI>Improved presentation of merged descriptions: suppress redundant text
<LI>added transmission error handling: do not replace equivalent block with a
  copy with more parity errors (in the string segment)
<LI>Introduced EPG scan options "Slow" and "Refresh" for bad reception or
  database loss, respectively
<LI>Added OI header and message to provider selection popup
<LI>Network selection popup: added possibility to copy CNI order and suppression
  between providers
<LI>Added infos to README about Windows driver installation; thanks to Mario.
<LI>Browser listbox format now configurable: now columns can be freely selected
  from 16 attribute types, including title, time, date, theme, ratings, etc.
<LI>Added browser listbox column header buttons with drop-down menus
<LI>Fixed substring search with latin-1 chars: did not work due to new internal
  encoding in Tcl 8.3 (UTF8)
<LI>Fixed dynamic menus on Win32 (e.g. context menu, series menu, Navigate):
  Windows does not generate unmap event, hence the menu content always
  remained the same, regardless of PI selection or even provider changes
<LI>Fixed program crash on Win32 while error MessageBox was displayed via Tcl:
  crashed when the mouse was moved from the desktop directly into the main win
</UL>

<H2>From 0.4.pre1 to 0.4.pre2 (Jan. 2001)</H2>
<UL>
<LI>Added status line below browser window for db coverage and acq status
<LI>Statistics windows now available separately for browser and acq databases.
  Added pie chart in addition to history diagram.
<LI>Acquisition statistics are now updated even while no EPG reception, to
  allow analysis of reception trouble. Added output of VPS/PDC CNI.
<LI>NetBSD: patch from Mario to fix possible hangup of VBI slave after an
  external /dev/video application is terminated.
<LI>Windows Bt8x8 driver: added PLL init for 35MHz; Improved driver start on NT;
  Fixed blue screen during shutdown and crashes: exceptions and the shutdown
  message are now catched and the driver stopped before the program exits;
  Disabled registry hack for legal reasons.
</UL>

<H2>From 0.4.pre0 to 0.4.pre1 (Jan. 2001)</H2>
<UL>
<LI>presentation of descriptions of merged databases improved
  by adding a separator image (horizontal line) between the texts.
<LI>added support for Net/Free/OpenBSD Unix in btdrv4linux by Mario Kemper
<LI>described Windows installation in more depth and length in the README file
<LI>compatibility with Windows driver version 4.00
<LI>updated registry hack for Windows Bt8x8 driver 4.31 and later
<LI>command line can take database path as last argument
  This is intended for Windows, to be able to drag and drop a database file
  onto the executable, but can generally be used to set -dbdir and -provider
<LI>added warning messages for database reload errors or missing frequencies
</UL>

<H2>From 0.3.4 to 0.4.pre0 (Dec. 2000)</H2>
<UL>
<LI>added possibility to merge several provider databases into one
<LI>cyclic acquisition between several databases
<LI>added TV input configuration popup
<LI>added Help button to all popups
  order of Help, Abort, Ok identical in all popups
<LI>port to M$ Windows (in new module epgvbi/btdrv4win.c)
</UL>

<H2>From 0.3.3 to 0.3.4 (Nov. 2000)</H2>
<UL>
<LI>added -demo cmd line option for users without live Nextview reception
</UL>

<H2>From 0.3.2 to 0.3.3 (Oct. 2000)</H2>
<UL>
<LI>fixed bug in context menu: arbitrary themes could get listed (pifilter.c)
<LI>fixed possible heap corruption in string conversion (epgblock.c)
</UL>

<H2>From 0.3.1 to 0.3.2 (Oct. 2000)</H2>
<UL>
<LI>fixed bug (SIGSEGV) in CreateContextMenu()
<LI>fixed bug in epgui.tcl, proc DeleteSortCritSelection: deletion failed
<LI>added -c to install in Makefile for NetBSD compatibility
<LI>added credits to manpage
</UL>

<H2>From 0.02a to 0.3.1 (Sep./Oct. 2000)</H2>
<UL>
<LI>added netwop, start time &amp; sorting criterion filters to menus &amp; shortcuts
<LI>fixed bugs in shortcut selection: series were not set in the menu checkbuttons
  and series filter not disabled in filter context after deselection
<LI>automatic shortcut deselection when it's filters are manually undone
<LI>timescale windows are reloaded after AI version changed and
  not closed anymore upon provider change
<LI>created manual page &amp; help menu
<LI>added install rule to Makefile and added installations instructions to README
<LI>changed default for db directory to /usr/tmp/nxtvepg; added option -dbdir
<LI>added command line option -card for alternate vbi &amp; video devices
  (needed when there's more than one TV card)
<LI>added context menu, invoked by right mouse button: allows quick filter
  selection, depending on currently selected title
<LI>show copyright &amp; helpful message if no provider known or db empty
<LI>added programme title &amp; feature summary to short-info field
<LI>fixed LTO (GMT offset) computation during daylight saving time
</UL>

<H2>From 0.01a to 0.02a</H2>
<UL>
<LI>added rc/ini file to save filter shortcuts and other config options
<LI>added netwop configuration for general exclusion of non-receptable
  netwops and for personalized network ordering
<LI>added command line options (UNIX only)
<LI>added shortcut add&amp;edit popup and implemented "merge" mode
<LI>added EPG scan and "active acquisition mode"; the tuner is set
  to the chanel of the selected ui db, if possible (UNIX only)
<LI>maintain list of "obsolete" PI, i.e. PI that could not be added
  to the db or are expired. This now allows to generate an exact
  statistic on how many blocks on the range given in AI were
  acquired.
</UL>

