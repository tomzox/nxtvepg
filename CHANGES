This file summarizes changes between releases.  It does not necessarily list
every single change between two versions.  For major or minor version changes
only modifications which are visible to the user will be included (e.g. added
features).  For patchlevel releases also internal changes might be listed in
case they may fix bugs (or cause new ones)


Work in progress:

- UNIX: added support for libzvbi (with or without proxy daemon), enabled by
  compiler switch -DUSE_LIBZVBI in the Makefile (note this is mutually
  exclusive with the -DZVBI_DECODER switch)


from 2.5.1 to 2.5.2 (2003-July-01)

- Windows BT8x8 driver: restore settings for all PCI registers upon shutdown
  (solves problem with Hauppauge WinTV, thanks to Peter Rolf for pointing this
  out; also solves problem with BtWinCap driver, as pointed out anonymously
  in the discussion forum 2003-June-07)
- Windows: fixed support for Microtune tuner "MT2032" (e.g. on Pinnacle cards)
  Many thanks to Oliview Avenel for debugging support.
- Windows: updated & added TV card configuration from DScaler CVS
- Windows: added "Close this menu" entry to systray menu (workaround)
- removed German network 3sat from list of known Nextview EPG providers
- XML export via control menu dialog no longer applies current filter setting,
  i.e. all programmes of all networks in the database are exported.
- fixed compiler warnings for gcc 3.3 (signed/unsigned type conflicts)
- UNIX: added compiler switch -DZVBI_DECODER in the Makefile to replace VBI
  (Teletext) slicer with code from libzvbi which performs better on channels
  with weak reception; sometimes this slicer seems to eat up a lot of CPU
  (up to 25% on my 400MHz K6-2)


from 2.5.0 to 2.5.1 (2003-April-21)

- fixed French default shortcut "Météo" (did pop up an error message when
  invoked.  At first start of 2.5.1 the broken shortcut is replaced in the
  rc file; if that does not work remove and re-define the shortcut manually
  via the "Shortcuts" menu)
- improved resizing: status line no longer vanishes when reducing
  (however the window bottom now "jitters" during vertical resizing)
- allow horizontal resizing of main window when in "grid" layout (UNIX only)
- display warning about "lost changes" when the window is closed via it's
  title bar "close" button, same as with the "Abort" button
- TV app interaction configuration dialog: added TV app selection for UNIX,
  to select which channel table to use, i.e. select between xawtv or xawdecode
- don't require existance of .xawtv for TV app interaction on UNIX
  Thanks to "Sir Pingus" for suggesting this fix.
- programme list can now be scrolled by dragging with the middle mouse button
- grid layout: added +/- buttons to control column count;
  Thanks to Thorsten for suggesting these features in the discussion forum
- disabled "Show column headers" option for the grid layout
- grid layout: refresh no longer brings scrolled-out elements back into view
- Added French network "M6" back to the EPG scan's list of "known providers"
  and documentation. Thanks to Thierry for pointing this out first.
- major bugfix in grid layout: when scrolling horizontally one programme
  could be inserted into the wrong network column under certain conditions
- bugfix EPG provider scan in non-TV-app-assisted mode: channels without
  signal often were not skipped due to uninitialized variable (bug was
  introduced in nxtvepg version 0.7.2).  Thanks to Florian Zierer for
  indirectly triggering discovery of this bug.
- UNIX: added new command line option "-tvdisplay" to allow communication
  with a TV app running on a different X11 server (e.g. a remote host).
  Thanks to Stefan Zoller for suggesting this feature.


from 2.4.2 to 2.5.0 (2003-March-22)

- Added an alternate layout for GUI: programmes are still sorted by start
  time, but presented in separate columns for each network.  Schedules of
  different networks are aligned, so that programmes which run at the same
  time are approximately at the same height.  The new layout also supports
  user-defined presentation, i.e. free selection of all attributes which
  are printed for each programme, possibly depending on filter shortcuts
  (for example you can print more details for movies), plus marking selected
  programmes by use of colors and icons.
- Added support for Philips SAA7134 capture chip on Linux and M$ Windows.
  This chip is used in Tevion MD9717, Medion 5044, Terratec Cinergy 400,
  Typhoon TV+Radio 90031, LifeView FlyVIDEO3000 & 2000 and more.
  Note: for Linux driver version saa7134-0.2.6 or newer is required.
  (Thanks to Gerd Knorr and SuSE labs for the Linux saa7134 driver and to
  the DScaler team for their SAA7134 support on M$ Windows - the driver in
  nxtvepg is effectively a stripped-down version of the DScaler driver,
  with some extensions to allow VBI-only acquisition)
- Also added support for Conexant CX23881 on M$ Windows (Linux driver for
  this chip is currently in development and should automatically work with
  nxtvepg.)  This Chip is used in Hauppauge WinTV Go and PCI-FM (model 718)
  cards since September 2002.  (Driver code was derived from DScaler, too)
- Windows: Redesigned TV card configuration dialog to include lists of known
  cards and auto-detection (for cards which support it).  This finally allows
  to support cards with "special" hardware configurations, e.g. from  Pinnacle.
  For convenience the dialog can be accessed from the EPG provider scan dialog.
  Also updated Bt8x8 I2C bus code and improved support for tuner MT2032.
- Windows: Added ACPI handling to prevent "freeze" with the btwincap driver
  (http://btwincap.sourceforge.net/)
- UNIX xawtv: implemented "overlay" EPG popup based on nxtvepg controlled
  window (no longer uses "vtx" removed command, which was removed in xawtv-3.7x)
  The colors can be configured via the new resources xawtv_overlay_fg and
  xawtv_overlay_bg (see manual for details)
- UNIX: the Nxtvepg app-defaults file is now loaded during startup because
  most users didn't realize they should have copied modified entries into
  their $HOME/.Xdefaults
- Fixed bug in description text redundancy removal from 2.4.2: texts with
  less than 30 characters length were not removed. Thanks to Thierry for
  pointing this out.  Also fixed a bug which caused text truncation.
- Fixed bug in text decoder which caused some national characters to be
  displayed falsely, e.g. "D'ECONSEILL'" instead of "DÉCONSEILLÉ".
- Fixed bug in "global invert" filter matching (depending on which filter
  types were inverted, expired programmes could have shown up in the listing)
- added possibility to combine several text searches (logical OR)
- added fixes for FreeBSD and NetBSD provided by Simon Barner
- added Linux "devfs" compatibility, i.e. find /dev/v4l/vbi
- added Makefile fixes provided by Debian maintainer Gerd Knorr
- fixed SEGV during build on IA64 due to missing include in tcl2c tool
  (reported to Debian bug tracking by Bdale Garbee)

Note that this version has a changed rc/ini file format.  Your previous
rc/ini file will be automatically converted and can then no longer be loaded
into older nxtvepg versions.

Windows users should also note that this release comes with a new version
of the DScaler TV card driver (files dsdrv4.sys and dsdrv4.vxd).  This
driver version is backwards compatible, i.e. it will work with applications
which expect an older version, unless these applications don't allow newer
driver version numbers.


from 2.4.1 to 2.4.2 (2002-December-08)

- Windows: Fixed Tuner parameters for "Philips SECAM/PAL-BG";
  Thanks to Rami el Baida and Pascal for reporting this bug.
- Windows: Fixed "maximizing" the main window: now only the window's height
  is maximized, the width remains unchanged.
- Windows: use bold font for clock (suggested by Thierry)
- Fixed keyboard input handling for various configuration dialogs: popup
  menus can now invoked by ALT-<underlined char> (note there's still a Windows
  bug which prevents opening the popup multiple times subsequently); buttons
  with dynamically changed labels do accept input focus by the TAB key.
- Implemented redundancy removal in description texts of French providers
  (e.g. multiple "Au sommaire: ..." paragraphs).  (Note that these repetitions
  exist because both a short and long version of the programme description is
  broadcasted; nxtvepg displays these together, but in TV sets they would
  normally appear on different pages)


from 2.4.0 to 2.4.1 (2002-December-01)

- In generated HTML files the ".png" extension was missing in references to
  images used in user-defined columns.
- Tuner parameters for "Philips PAL/SECAM multi (FQ1216ME)" were incorrect
  in version 2.4.0.  Thanks to Volker Beck for pointing this out.
- invert flag for "Program index" filter was not reset with the "Reset" button
- the main window's column selection config button was not removed when
  the "column header" menu buttons were hidden via the "Show/hide" sub-menu
  of the Configure menu.
- bugfix in XML output: removed linebreaks inside the <title>...</title>
  element, which appearently caused mythtv to display empty title lines.
  Thanks to David Klotz for reporting this bug.
- bugfix in importing tuner types from DScaler INI file & update for DScaler
  version 4.0.  Thanks to Ronceval for reporting this bug.
- Added a new "column header" popup menu for user-defined columns, which
  consists of the shortcuts used to define the column.
- Improved handling of start time and duration filter dialogs (more flexible
  parsing; removed requirement to press Return key after every single change;
  made it possible to enter value "23:59" with the scales)
- Added preliminary support for tuner MT2032 (e.g. used in Pinnacle PCTVpro)
  by copying the required source code from the DScaler project (who seem to
  have copied it from the Linux BTTV driver).  Note that some cards with MT2032
  still will not work because they use an additional chip besides the tuner
  which is not yet supported.


from 2.3.1 to 2.4.0 (2002-November-19)

- implemented user-defined columns in TV schedule output, which allow to
  define the column content depending on matches against a number of filter
  shortcuts; the content can consist of static text, pre-defined images or
  a standard attribute. See the manual for details.
- implemented inverted filters, i.e. you can now search for all programmes
  which do not match one or more of given filter criteria or simply invert
  the outcome of a complete filter setting.
- improved filter shortcut edit dialog: added "invoke" and "update" buttons
  to transfer a shortcut's filter setting to and from the programme browser
  for easier management of filter settings. Also fixed several bugs in
  the filter decription output for the "feature" filter type.
- changed background color of text output elements to a lighter gray (note:
  if you don't like the new colors you can change them by adding resource
  definitions to your .Xdefaults file on UNIX or by editing Nxtvepg.ad
  on Windows; details see FILES section in the HTML manual page or help)
- new pre-defined column type: duration (suggested by Thierry)
- fixed copy & paste in short-info window for Win32 (Thierry)
- added a new filter type: "VPS/PDC" which allows to search for programmes
  with a VPS/PDC timestamp attached, and/or whose VPS/PDC start time differs
  from the actual start time (i.e. shifted or newly added programmes)
- enhanced start time filter: added an option "ignore date" which allows to
  search for programmes in a daily time window (e.g. restrict a search for
  German new magazine "Tagesschau" to 20:00-20:10)
- added key binding for F1 key in all dialog windows and added a context menu
  to the shortcut list (Thierry); also changed some bindings in the main
  window: a double-click on a programme now invokes the "TuneTV" function;
  CTRL-up/down scroll the list +/- 1 line
- added a new option to the "Show/Hide" configuration menu, which allows to
  map the network filter list below the shortcut list (Thierry)
- localized shortcut defaults for Germany and France (Thierry)
- weekday names are now printed in the local language (defined by the locale
  setting)  (This change was formerly listed for version 2.3.1 but missing)
- added database export in XML format (according to xmltv.dtd),
  provided by Massis Sirapian.
- extended wheel-mouse support for M$ Windows (appearently before it worked
  only with a few mouse driver configurations)
- improved help text formatting: now bulleted items are indented
- added support for FreeBSD; Thanks to Simon Barner for providing the patch.
- fixed database directory and files mode handling on UNIX:
  1-  do not "repair" dbdir mode to 777 upon every start,
  2-  create db files with mode 644,
  3-  allow to put dbdir into each user's $HOME via the Makefile.
  Thanks to Matthias Brill for the suggestions.
- HTML export improved: in addition to support for user-defined columns,
  different columns than the main window is using can be specified for the
  title table.
- added "TV5" back to the list of active providers; Thanks to Anthony
  for pointing out that TV5 is providing Nextview service again.
- Windows: implemented workaround for Hauppauge "WinTV2000" app: TV image was
  too dark when the app was started after nxtvepg; Thanks to Peter Rolf for
  debugging the problem.
- Windows Bt8x8 driver: fixed parameters for several TV tuners
- UNIX: improved error messages upon failure to access /dev/vbi or /dev/vbi at
  start of acquisition and EPG scan: now the system error mesage is included
  (e.g. "permission denied"); the previous message was misleading.
  Thanks to Thomas Hartmann for reporting this problem.
- bugfix for Power-PC architecture in pioutput.c; Thanks to Gerhard Tonn
- internal changes: split Tcl/Tk script for GUI into modules (the daemon only
  loads the script which manages the rcfile - saves apx. 400 kB RAM)

Thanks to everyone who provided feedback and suggestions, especially to
Thierry Ménétrier.


from 2.3.0 to 2.3.1 (2002-October-13)

- bugfix: crash when selecting a network with unknown ID in the network
  selection configuration dialog (uninitialized pointer variable; crashes
  not on all platforms). Thanks to Udo A. Steinberg for reporting this bug.
- fixed the case of French theme names: first character is now upper case
- fixed "Time" column header drop-down menu (was broken with 2.3.0): the NEXT
  entry behaved like NOW, discrete times used to jumped to the first programme
  which was running at the given time, opposed to the first which started at
  or after the given time (a matter of taste, but I found it to be confusing)
- improved "Date" column-header drop-down menu: it now has as many entries as
  days covered by the database (also depends on current filter setting)
- improved "Getting Started" section in the manual
- Windows: fixed permissions for TV card driver: before, admin or power-user
  status was often required to start the driver (i.e. to start acquisition);
  now there's a workaround that lets the driver "try harder" to grant this
  right to everyone.

Also note that the nxtvepg Internet homepage has moved from tripod.com to
http://nxtvepg.sourceforge.net/ because the old site no longer could handle
the traffic. Many thanks to the sourceforge.net team for accepting the project
and to Thomas Schlebusch and Peter Schumacher for providing temporary mirrors
during the transition period.


from 2.2.1 to 2.3.0 (2002-September-17)

- bugfix in user-defined context menu entries: variables using modifiers
  (e.g. ${start: %H:%M %d.%m.%Y}) sometimes had trailing garbage; this
  bug was introduced in 2.2.0. Thanks to Friedrich Delgado Friedrichs
  for pointing this out.
- bugfix in decoding of description texts (newlines were not processed
  correctly sometimes); also improved text display by inserting paragraph
  breaks when there is a completely empty line in the original description text
- added "duration" filter, so that programmes ouside of given running time
  length boundaries can be suppressed (e.g. filler programmes which are
  less then 10 minutes long)
- added possibility to manually resize all listbox columns by dragging the
  right border of the column header menu buttons (not possible if headers are
  disabled in the "show" options of the configure menu). Note that the
  automatic resizing of the network name column was dropped in favour
  of this feature.
- timescale windows are now always made large enough to display the time range
  covered by all programmes in the database (formerly only the next 5 days were
  covered, which was by far not enough for the German provider Kabel1)
- added zoom and help buttons to the timescale windows
- improved key bindings and default keyboard focus in main browser and dialog
  windows; CTRL-F in main window now opens the text search dialog;
  CTRL-C opens the context menu; digit keys now toggle shortcuts;
  Return tunes the channel like pressing the Tune-TV button
- the search text history is now accessible from inside the text search filter
  dialog (by pressing the down cursor key or clicking the arrow button next to
  the text entry field)
- the "Refresh" mode of the EPG scan now allows to remove databases of obsolete
  providers which no longer transmit Nextview EPG (e.g. Pro7 or TV5).
  Thanks to Frank Mauler for pointing out the need for this feature.
- added a "Load all used" button to the sorting criterion filter dialog
  which fills the sorting criterion selection listbox with a list of all
  codes that are actually used in the current database. This allows a quick
  overview which criterions will produce any matches when filtered for.
- Linux only: fixed tuner frequency setting (in particular the EPG scan) for
  SECAM/PAL multi-norm tuners. Thanks to "Keuleu 36" for debugging this problem
- UNIX only: fine tuning offsets and TV norm in the .xawtv file are now
  evaluated for the EPG scan
- Windows: enabled multi-card support (see changelog of version 2.2.0)
- internal reorganization of the interface between Tcl/Tk and C modules
  (using the "object-based" Tcl interface for function arguments and results)

Note that this release comes with a new version of the Win32 DScaler TV card
driver (files dsdrv4.sys and dsdrv4.vxd) which is not compatible with K!TV
versions 1.2.0.2 and earlier.  Except for multi-card support nxtvepg will
work with older drivers too, hence if K!TV complains you can simply replace
the driver files with older versions.


from 2.2.0 to 2.2.1 (2002-August-24)

- Major bugfix: nxtvepg crashed randomly due to a memory overwrite bug
  in the short-info description text display function. The bug was present
  in all previous versions but surfaced only now because some very long
  description texts were transmitted by the German provider Kabel1.
- Bugfix in database merge: merge failed when no networks were manually
  selected yet
- Network name column in the programme listing now automatically adapts
  its width so that network names no longer have to be cut off.
- Windows: bugfix in K!TV interaction: with K!TV versions up to 1202
  VPS/PDC decoding was disabled so that for some networks no title info
  was displayed in K!TV.

Thanks to Thierry Ménétrier for his excellent feedback.


from 0.7.4 aka 2.1.2 to 2.2.0 (2002-August-18)

- network selection config dialog: allow to specify time windows for each
  network (e.g. for ARTE 19:00 - 06:00 o'clock). Programmes that are
  completely outside this window are suppressed in the listing.
- PDC theme descriptors were translated to French and German; the language
  can be either selected automatically or manually.  Thanks to Matthieu for
  triggering this improvement and for the French translation.
- the programme database can be exported into a text file in TAB separated
  format, so that it can be directly loaded into an SQL database.
  (This feature has been added to support the HTML converter
  E*plore EPG nexTView written in PHP by sysmik.)
- bugfix in the EPG scan due to which on channels which could not be
  identified via VPS/PDC no EPG provider was found.  Thanks to Helge
  Kreutzmann for pointing out this problem.
- manual size changes of the help window are now remembered; also
  improved a few details in help text formatting
- Windows: upgraded to version 8.3.4 of the Tcl/Tk library (from 8.3.2);
  all OS: prepared for the latest version 8.4(b1)
- Windows: prepared support for using different TV card than a connected
  TV app. so that EPG can be acquired from a different channel than you're
  currently watching (note: requires update of DSdrv4 drivers, which are
  not part of this release yet to maintain compatibility with K!TV)
- Windows: support for the K!TV plugin "ZoomOut": automatically add a
  "Record this show" entry to the context menu (right mouse button)
- Windows-95 compatibility: resolved two missing symbols
  (this was already supposed to be in 0.7.2 but forgotten to include)


from 0.7.3 to 0.7.4 aka 2.1.2 (2002-June-02)

- bugfix TV application interaction: no EPG information was forwarded to the
  TV app under certain circumstances (only if the station name was unknown
  to nxtvepg and the VPS/PDC id was unchanged since the last request)


from 0.7.2 to 0.7.3 aka 2.1.1 (2002-May-30)

- bugfix PDC decoding: didn't work at all before (this affects the EPG scan
  and TV app interaction). Thanks to e-nek for helping to debug this problem.
- added PDC and P8/30/1 "status display" text decoding; currently used only
  during EPG scan for networks without CNI -> e.g. MTV is now identified
- main window can be scrolled by dragging the mouse outside the window
- acquisition database window can be opened before acq enabled
- important EPG scan messages now marked by use of bold font
- Windows-95 compatibility: resolved two missing symbols
- Windows Bt8x8 driver: added new error checks for driver installation


from 0.7.1 to 0.7.2 aka 2.1.0 (2002-May-20)

- Windows: Enabled TV application interaction feature and added documentation
  for the demo and debugging tools tvsim, vbirec and vbiplay.
- Windows: Added option "Hide on minimize", i.e. when the main window is
  minimized, it's removed from the taskbar and an icon is installed in the
  system tray with a small popup menu.
- Windows TV app. interaction: VPS/PDC is now evaluated if EPG acquisition
  is disabled (or -in the future- if EPG acq. uses a different TV card)
- Windows TV card input dialog: warn if TV app. was changed but config not
  loaded; same for TV app. interaction dialog if "Test" button was not used.
- Windows Bt8x8 driver DSdrv: improved robustness by attempting uninstall
  and re-install of the service if driver start fails (with certain types
  of errors)
- Windows TV card input dialog: list only as many TV cards as are available
  (do a scan of all TV cards upon first Bt8x8 driver start; requires that
  the driver was started at least once since program start)
- Windows daemon port finished: option -daemon is now available (note that
  the daemon currently does not support TV app interaction)

- bugfix EPG scan (Linux only): after an EPG scan acquisition could not be
  enabled because the VBI device was allegedly busy. The cause was that an
  acquisition thread kept running after the EPG scan.
- the wheel mouse now scrolls only 5 lines instead of 1 page and the cursor
  remains on the previously selected item.
- improved automatic mode selection for internal/remote acquisition during
  startup: wait until an connection is completely established until changing
  the default mode to remote acq in the rc/ini file (esp. when connecting
  via TCP/IP)
- EPG scan is no longer prevented with "cannot start scan while in
  client/server mode" unless currently connected to an acq daemon.
- EPG scan: reset 45-seconds timer when EPG is found to be transmitted on a
  non-default teletext page nunmber. This should fix the problem that Canal+
  is reliably detected only when in "slow" mode.
- removed the last remaints of long integer usage to improve 64-bit CPU
  compatibility.
- bugfix: crash when there was an .xawtv file with zero channel definitions
- bugfix: the EPG scan was not stopped when the program was terminated by a
  signal or logging out, causing a crash.
- bugfix: crashed with SEGV when the acq timescales were open when the EPG
  scan was started
- bugfixes in timescales: network highlighting and "acquisition tails" for
  the browser database timescales were sometimes not enabled or disabled
  when acquisition was en-/disabled or moved from/to the browser database.


from 0.7.0 to 0.7.1 aka 2.0.0 (2002-May-05)

- Windows: exchanged the driver with the free (GPL'ed) DSdrv, a driver
  developed in the DScaler project (see http://dscaler.org).  This
  means that I finally can include a Bt8x8 driver with nxtvepg!  Many thanks
  to e-nek for doing the initial port; also many thanks to John Adcock
  and the other members of the DScaler team.
- Windows: simplified the initial setup procedure by adding the possibility
  to load configuration files or registry of some well known TV applications
  (MoreTV, FreeTV, DScaler, K!TV, MultiDec) to extract their TV card setup.
  The channel tables can also be extracted, to allow for network name
  synchronization (via the Network name configuration dialog)
- Windows: Prepared the possibility to interact with TV applications.  This
  allows for the same features that already were available on UNIX with xawtv
  This feature is disabled in the regular release as there are no TV apps
  yet that support it officially. (The first one will be K!TV, see
  <URL:http://perso.wanadoo.fr/quenottetv/>.  If you are an author of a
  TV app, feel free to mail me if you want to add EPG support to your
  application. A demo application and reference implementation are available.)
- Windows: brought back a lost workaround (lost due to a crash of an almost
  new Deskstar drive - thank you, IBM) in the Tk83.dll for message boxes
  (do not use the native Windows message box from inside Tcl/Tk procedures,
  because it sometimes destroys the main window for unkown reasons)

- Fixed bug in support for big-endian CPU architectures: there was an
  alignment error in one of the database structures which caused an abort
  with a bus error (e.g. on Sun Sparc CPUs); also endian mismatches were
  not reported in acquisition daemon connect attempts.
- Fixed bug in the EPG scan that caused a crash 64-bit architectures
  (e.g. PowerPC). Thanks to Helge Kreutzmann for reporting this bug.
- Added automatic endian conversion during database reload and acquisition
  daemon connections. In earlier versions the reload was simply refused.
  Note: the data is still written in the native format and only converted if
  neccessary, so there is no performance impact for little-endian machines
  (e.g. in contrast to writing always in network byte order)
- Improved channel change handling (handshake between acq master & slave)
- Reduced latency in VPS/PDC decoding after channel changes (the latency
  was increased due to a change in 0.7.0)
- UNIX: improved startup of acquisition process/thread; fixed the design bug
  due to which the TV tuner was programmed even if the VBI could not be opened.
- Improved hyperlinks in help pages: can now link into sub-sections too,
  which is esp. useful for the "Configuration" chapter.
- Fixed a bug in the decoder for language and sub-title information blocks
  (currently only broadcasted in France by M6 and Canal+).


from 0.6.4 to 0.7.0 (2002-March-02)

Note that as of this release the database format is changed (due to a
bugfix and several extensions); it's recommended to delete all database
files from the nxtvepg directory before the next program start (expect
to see a few warnings, which you can ignore in this case). Then
start an EPG scan with the option "Refresh only" (this checkbox is
located below the EPG scan message window)

- Added a network connection between the acquisition daemon and the GUI.
  While connected, the browser receives updates for opened Nextview databases
  (i.e. all incoming EPG blocks are forwarded) and constant updates about
  the acquisition progress.
- Added compile-time option to use multi-threading for VBI acquisition
  instead of a separate process. The advantage is that the threads are only
  created when acquisition is enabled and not when connected to a daemon.
- Added support for wheel mouse in main and help windows,
  thanks to Serge Koenigsmann.
- xawtv popup is immediately removed when xawtv is terminated or iconified
- Fixed bug in status line statistics output: expired percentage did not
  reach 100% even after the database appeared empty because the total of
  "defective" blocks was erronously included in the quotient.
- Added scollbars to network list in network selection dialog and limited
  listbox height to 27 networks.
- Added field with official network description in network name config dialog
  to avoid confusion in case different stations have similar logos
  (e.g. there's "ntv" in Turkey and "n-tv" in Germany)
- Added network name output during EPG scan (e.g. "ARD" instead of "0x0DC1")
  generally improved diagnostic output (summary at the end)
- The timescales windows now show all blocks in the database; they used
  to start with the current time, omitting all expired blocks.
  That was confusing esp. in case all blocks were expired, because the
  status line said "100% complete" but no blocks were displayed.
- Added "acquisition tail" to timescales: the most recently updated ranges
  are marked with a white bar which fades to the background color over time
- Added callback to timescale windows: mouse click on a scale now filters
  the slected netwop in the main window and jumps to the given time
- Fixed bug in database structure which holds navigation menu entries
  (a fixed length array was too short and caused memory overwrites)
- Both acquisition and EPG scan now extract channel frequecies from both
  databases and rc/ini file, so that in case of loss of either databases
  or rc/ini file they still can be recovered.
- Fixed bug which let the browser hang in wait(2) after the process group
  was delivered a STOP signal (i.e. CTRL-Z in the controlling terminal)
- Made dialog windows which display lists resizable, e.g. netwop selection
- Bugfix in database merge (yes, yet another one): the merged netwop table
  could contain uninitialized entries, if the user network selection contained
  networks that were included in none of the merged databases (e.g. remains
  of a previous merge with different providers)
- Implemented "Index" filters for merged database; due to technical
  limitations currently only "now" & "next" searches are supported; others
  will return empty lists.  Thanks to Mathias Homann for prompting this fix.

Thanks to Jan Schuster for alpha testing and much useful feedback
and to Mario Kemper for beta testing and adaptions for NetBSD.


from 0.6.3 to 0.6.4 (2001-November-06)
- bugfix database merge: merging used to produce only empty databases, because
  zero networks were loaded (the user was forced to manually add networks via
  the network selection dialog.) This bug was introduced in version 0.6.2.
  Thanks to Mathias Homann and Jan Schubert for reporting this nasty bug.
- bugfix xawtv popup: percentage was displayed as 10000% for programmes
  running later than the announced stop time (on channels with VPS/PDC).
  Thanks to Ulrich Mueller for the bug report & fix.

from 0.6.2 to 0.6.3 (2001-September-16)
All of these changes are available in the UNIX version only:
- added daemon mode to allow background acquisition without GUI.
  added new cmd line opts -daemon and -acqpassive
- signal HUP can now be used to toggle acquisition on and off (with GUI only;
  the daemon terminates when acquisition is disabled). Before the signal
  used to disable acquisition only.
- fix: catch death of acquisition slave process (i.e. after deadly signal)
  and mark acquisition as disabled in the master process.

from 0.6.1 to 0.6.2 (2001-September-07)
- the merged database now only contains those networks that were selected by
  the user in the network configuration dialog, and in the same order.
  The first change reduces memory and CPU consumption; the second ensures
  that programmes with identical start time are presented in order of your
  network preference (particularily useful e.g. at 20:15 in Germany)
- fixed daylight saving time handling for Linux: got rid of mktime() in
  Julian date to UNIX epoch conversion for incoming PI blocks, so the LTO is
  out of the equation. Before the fix, all blocks that were acquired before
  a DST change appeared shifted by one hour after the DST had changed.
- fixed "program index" filter: index calculation was broken since an
  internal change in the database in release 0.5.1
- fixed Navigate menu: due to a bug the "expire time" filter was undone so
  that expired TV programmes showed up in the listing and could not be removed
  even by pressing the Reset button.
- improved acquisition strategies for multiple databases in "manual" and
  "cyclic" modes by adding a new phase which is entered after one pass over
  all databases. 
- fixed several possible acquisition cycle "hangups" (i.e. acquisition never
  switched to the following provider) which could occur in abnormal situations,
  e.g. when a provider did not transmit all blocks that were listed in his AI
  inventory, or when the AI was completely empty. Also added a global timeout
  of 30 minutes for all acquisition phases.
- added documentation for main window status line in chapter STATISTICS.
  Added "?" button to database statistics popup to link to the new description.
- improved timescale popup ("control" menu): time ranges with missing PI blocks
  (TV programmes) are now marked gray. Note that the ranges can only be
  estimated, as the time range a block covers is not known until the actual
  block is available.  This is useful when a provider enlarges the preview
  range for selected networks only; now you can see which these are.
- improved timescale popup ("control" menu): upon provider or version change
  the old content is no longer destroyed before the new one is filled in
  so that the popup doesn't flash as much anymore.
- timescales popup: removed restriction that only one time scale popup window
  could be opened per database, i.e. the acq time scale popup now remains open
  even when the acquisition works on the browser database.
- new item in acq statistics output: added "PI rx repetition", i.e. how often
  each block in both streams have been received in average since start of
  acquisition.
- fixed bug in database statistics popup: when the popup remained open for
  a long time it ate up a lot of CPU, because the refresh every 10 secs
  did not correctly delete the previous content.
- added transmission error handling for AI block (as already done for PI):
  check if a new block is a equivalent; if yes refuse it if the string segment
  (service and network names) has more parity errors than the previous copy.

from 0.6.0 to 0.6.1 (2001-August-30)
- fixed bug in GUI: when programme listbox column headers were disabled,
  the main window was much too wide (calculated width as pixels, but applied
  as if millimeters). Thanks to Peter Suetterlin for the bug report.
- fixed bug in block management which allowed for PI blocks to remain in the
  database although the valid network block range was declared void in the AI.
  This could result in fill percentages > 100 in the statistic output.

from 0.5.2 to 0.6.0 (2001-August-25)
- possibility to add references to external applications to the context
  popup menu in the browser listbox, e.g. to program an alarm timer for the
  selected TV show in your favourite scheduler.
- new dialog in the control menu to dump the complete programme list or
  selected descriptions into a file in HTML format, from where they can be
  loaded by any WWW browser. This may be of interest for people who want to
  print out TV schedules.
- added option Match full to the text search dialog to allow exact
  title matches, e.g. a search for "heute" will no longer match on
  "heute journal" when full match is enabled.
- alphabetically sorted series list in the filter menu.
- internal change only: separated the EPG scan cleanly from the acq control
  state machine.
- added RPM spec which allows to install directly from the source tarball
- bugfix Windows-95: the browser listbox cursor always followed movements of
  the mouse pointer, even when no button was pressed.
- bugfix in epgblock.c for Power-PC platform; thanks to Gerd Knorr.

from 0.5.1 to 0.5.2 (2001-June-14)
- bugfix programme listbox: the network filter did not follow xawtv channel
  changes. Thanks to Werner Renhardt (werner at kangaroo.at)
- bugfix cyclic acquisition (bug was introduced in 0.5.1): expired programmes
  were not counted for acquisition statistics, hence sometimes the acq engine
  did not detect when the database was complete and did not move on to the
  next provider.

from 0.5.0 to 0.5.1 (June/5/2001)
- monitor the _XAWTV_STATION property on the xawtv window and VPS/PDC (during
  EPG acquisition) to detect channel changes (new source module epgui/xawtv.c;
  communication with xawtv is now done directly via X11 calls, and no longer
  uses the xawtv-remote utility)
- after a channel change, optionally set the programme listing's cursor on
  the programme currently running on this channel and/or display the programme
  title and running time information inside xawtv, either in a popup, as
  overlay (requires xfree4 and the XVideo extension) or window title message.
- improved handling of the network name configuration dialog by addition of
  a "Closest match in xawtv" button.
- fix: during refresh, the cursor now remains on the same start time and network
- fix: short info text view is no longer set to line 1.0 during every update
- fix: possible crash due to reference to freed memory when acq timescale
  popup was open & bad reception (block discarded due to parity errors)
- fix: in cyclic or follow-ui acquisition modes when acquisition was forced
  passive on a non-provider channel (e.g. by a busy video device) acq control
  did not automatically switch to active when the device was freed.
- fix: network name configuration: name selection from the provider listbox
  was handled incorrectly for networks which were not covered by all providers,
  so that another than the selected name was actually used.
- added support for multi-network channel names (e.g. [Arte / Kinderkanal])
  to network name configuration: split xawtv station names around '/' and
  use all resulting segments for matching with Nextview network names.
- added support for Turkish charset in national option table; 6 characters
  which are not in latin-1 are replaced by their ASCII counterparts.
- fixed two memory leaks in the EPG scan and wrong handling of the EPG MIP
  entry, which slowed down the scan on several channels.
- changed Makefile.win32 to use gcc/mingw32 for compilation. The supplied
  Tcl/Tk libraries are compiled with gcc too (on NT using cygwin)

from 0.4.5 to 0.5.0 (Apr. 2001)
- main window is now vertically resizable. The proportions of program listbox
  and info text can be adjusted with a "panning" button (slider)
- added "Tune TV" button in the main window to remote control xawtv (UNIX only)
- added network name configuration dialog to sync names with .xawtv
  and to allow consistant network naming across all providers
- use channel assignments in .xawtv rc file to speed up EPG scan (UNIX only)
- added "Update filter shortcut" dialog to the filter menu to simplify changing
  existing shortcuts
- made handling of filter shortcut dialog fool-proof
- added filter settings description to the shortcut configuration dialog.
  Removed the filter combination checkboxes (were disabled anyway)
- added acquisition mode "external" for Composite/S-Video input source (or
  unknown win32 tuner types)  Win32: suppressed obsolete acq mode "passive".
- fixed command line option -rcfile for Win32: backslash chars in path vanished
- restructured software to simplify reuse as library in other projects

from 0.4.4 to 0.4.5 (Mar. 2001)
- fixed bug in NetBSD daylight saving time handling, due to which programmes
  were shifted by 60 minutes. Thanks to Mario Kemper for the patch.
- fixed bug in Tcl proc LoadRc, due to which rc reload failed.
  Thanks to Dan Lindstroem for the patch (Dan.Lindstroem@t-online.de)

from 0.4.3 to 0.4.4 (Feb. 2001)
- please note my new email address: tomzo at nefkom.net
- fixed severe bug in database reload (reference to freed block;
  curiously this led to crashes under Windows only)
- fixed compatibility with old bttv driver versions (versions <= 0.6.x produced
  error "VIDIOCSCHAN: operation not supported" during TV channel changes)
- added detection of lost VBI frames (Linux, for debugging/optimization only)
- added frequency table for France; minor fixes in Western Europe table;
  tables can be selected via the TV card input popup
- updated tuner type table for Windows Bt8x8 driver -> support for new tuners
- implemented hyperlinks in help pages for references between chapters

from 0.4.pre2 to 0.4.3 (Feb. 2001)
- fixed various glitches in acquisition mode handling and warnings
- added warning when acq mode is forced passive due to non-tuner input source
- finally added chapter about merged databases to documentation
- split off EPG scan sources from epgacqctl.c into separate module epgscan.c
- temp workaround for merged db statistics: supress unsupported categories
- improved presentation of merged descriptions: suppress redundant text
- added transmission error handling: do not replace equivalent block with a
  copy with more parity errors (in the string segment)
- introduced EPG scan options "Slow" and "Refresh" for bad reception or
  database loss, respectively
- added OI header and message to provider selection popup
- network selection popup: added possibility to copy CNI order and suppression
  between providers
- added infos to README about Windows driver installation; thanks to Mario.
- browser listbox format now configurable: now columns can be freely selected
  from 16 attribute types, including title, time, date, theme, ratings, etc.
- added browser listbox column header buttons with drop-down menus
- fixed substring search with latin-1 chars: did not work due to new internal
  encoding in Tcl 8.3 (UTF8)
- fixed dynamic menus on Win32 (e.g. context menu, series menu, Navigate):
  Windows does not generate unmap event, hence the menu content always
  remained the same, regardless of PI selection or even provider changes
- fixed program crash on Win32 while error MessageBox was displayed via Tcl:
  crashed when the mouse was moved from the desktop directly into the main win

from 0.4.pre1 to 0.4.pre2 (Jan. 2001)
- Added status line below browser window for db coverage and acq status
- Statistics windows now available separately for browser and acq databases.
  Added pie chart in addition to history diagram.
- Acquisition statistics are now updated even while no EPG reception, to
  allow analysis of reception trouble. Added output of VPS/PDC CNI.
- NetBSD: patch from Mario to fix possible hangup of VBI slave after an
  external /dev/video application is terminated.
- Windows Bt8x8 driver: added PLL init for 35MHz; Improved driver start on NT;
  Fixed blue screen during shutdown and crashes: exceptions and the shutdown
  message are now catched and the driver stopped before the program exits;
  Disabled registry hack for legal reasons.

from 0.4.pre0 to 0.4.pre1 (Jan. 2001)
- presentation of descriptions of merged databases improved
  by adding a separator image (horizontal line) between the texts.
- added support for Net/Free/OpenBSD Unix in btdrv4linux by Mario Kemper
- described Windows installation in more depth and length in the README file
- compatibility with Windows driver version 4.00
- updated registry hack for Windows Bt8x8 driver 4.31 and later
- command line can take database path as last argument
  This is intended for Windows, to be able to drag and drop a database file
  onto the executable, but can generally be used to set -dbdir and -provider
- added warning messages for database reload errors or missing frequencies

from 0.3.4 to 0.4.pre0 (Dec. 2000)
- added possibility to merge several provider databases into one
- cyclic acquisition between several databases
- added TV input configuration popup
- added Help button to all popups
  order of Help, Abort, Ok identical in all popups
- port to M$ Windows (in new module epgvbi/btdrv4win.c)

from 0.3.3 to 0.3.4 (Nov. 2000)
- added -demo cmd line option for users without live Nextview reception

from 0.3.2 to 0.3.3 (Oct. 2000)
- fixed bug in context menu: arbitrary themes could get listed (pifilter.c)
- fixed possible heap corruption in string conversion (epgblock.c)

from 0.3.1 to 0.3.2 (Oct. 2000)
- fixed bug (SIGSEGV) in CreateContextMenu()
- fixed bug in epgui.tcl, proc DeleteSortCritSelection: deletion failed
- added -c to install in Makefile for NetBSD compatibility
- added credits to manpage

from 0.02a to 0.3.1 (Sep./Oct. 2000)
- added netwop, start time & sorting criterion filters to menus & shortcuts
- fixed bugs in shortcut selection: series were not set in the menu checkbuttons
  and series filter not disabled in filter context after deselection
- automatic shortcut deselection when it's filters are manually undone
- timescale windows are reloaded after AI version changed and
  not closed anymore upon provider change
- created manual page & help menu
- added install rule to Makefile and added installations instructions to README
- changed default for db directory to /usr/tmp/nxtvepg; added option -dbdir
- added command line option -card for alternate vbi & video devices
  (needed when there's more than one TV card)
- added context menu, invoked by right mouse button: allows quick filter
  selection, depending on currently selected title
- show copyright & helpful message if no provider known or db empty
- added programme title & feature summary to short-info field
- fixed LTO (GMT offset) computation during daylight saving time

from 0.01a to 0.02a
- added rc/ini file to save filter shortcuts and other config options
- added netwop configuration for general exclusion of non-receptable
  netwops and for personalized network ordering
- added command line options (UNIX only)
- added shortcut add&edit popup and implemented "merge" mode
- added EPG scan and "active acquisition mode"; the tuner is set
  to the chanel of the selected ui db, if possible (UNIX only)
- maintain list of "obsolete" PI, i.e. PI that could not be added
  to the db or are expired. This now allows to generate an exact
  statistic on how many blocks on the range given in AI were
  acquired.

