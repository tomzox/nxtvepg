#-----------------------------------------------------------------------------
# Note file names in this first section of this log do not match actual
# historic names, as the log shows the latest name under which the file was
# maintained in RCS. In particular, sub-directories were not introduced before
# check-in 2000-06-03T21:21:21.
#-----------------------------------------------------------------------------
acq.c [rev:1.1, 1999-02-28T09:18:58]:
- Initial revision
acq.c [rev:1.2, 1999-02-28T20:25:49]:
- low level acq OK (indenepdent of block types)
acq.c [rev:1.3, 1999-03-05T21:37:19]:
- decodierung str-segment funkt
acq.c [rev:1.4, 1999-03-10T20:55:56]:
- PI Block Decoder ++
acq.c [rev:1.5, 1999-06-03T11:50:25]:
- decode AI version and netwop count
acq.c [rev:1.6, 1999-06-09T19:19:28]:
- complete AI decoding
epgdb/piblock.h [rev:1.1, 1999-06-15T20:39:19]:
- Initial revision
acq.c [rev:1.7, 1999-06-15T20:39:24]:
- started EPG-String decoding, extended PI block decoding
acq.c [rev:1.8, 1999-06-16T22:39:03]:
- added PI feature-flags and short/long info decoding
acq.c [rev:1.9, 1999-06-20T12:28:58]:
- bugfixes PI and string decoder
- added OI decoder
epgdb/oiblock.h [rev:1.1, 1999-06-20T12:29:12]:
- Initial revision
acq.c [rev:1.10, 1999-06-20T20:40:03]:
- added NI decoder
epgdb/niblock.h [rev:1.1, 1999-06-20T20:40:14]:
- Initial revision
acq.c [rev:1.11, 1999-06-22T19:22:05]:
- decode MI and descriptors fo all block types
epgdb/miblock.h [rev:1.1, 1999-06-22T19:22:32]:
- Initial revision
epgdb/epgstream.h [rev:1.1, 1999-06-22T19:22:37]:
- Initial revision
acq.c [rev:1.12, 1999-06-26T09:12:33]:
- started with ui
- save AI block in global compount structure
epgui/epgmain.c [rev:1.1, 1999-06-26T09:12:57]:
- Initial revision
epgtcl/tcl_statswin.tcl [rev:1.1, 1999-06-26T09:13:12]:
- Initial revision
acq.c [rev:1.13, 1999-06-26T14:29:40]:
- added time & date decoding for ui
epgdb/piblock.h [rev:1.2, 1999-06-26T14:29:56]:
- store PI data uncompressed, i.e. not in bitfields
epgdb/aiblock.h [rev:1.1, 1999-06-26T14:30:21]:
- Initial revision
Makefile [rev:1.1, 1999-06-26T14:31:16]:
- Initial revision
epgvbi/vbidecode.c [rev:1.1, 1999-06-26T18:48:09]:
- Initial revision
epgvbi/vbidecode.h [rev:1.1, 1999-06-26T18:48:11]:
- Initial revision
epgdb/epgblock.c [rev:1.1, 1999-06-26T18:48:16]:
- Initial revision
epgdb/epgstream.h [rev:1.2, 1999-06-26T18:48:40]:
- reorganized, renamed from block.h to blockdecode.h
epgvbi/vbidecode.c [rev:1.2, 1999-06-27T10:15:11]:
- DecodePacket: fixed bugs and added handling for BS=0x0C
epgvbi/vbidecode.c [rev:1.3, 1999-06-27T11:25:07]:
- bugfixes & fprintf improvements
epgui/epgmain.c [rev:1.2, 1999-06-27T11:25:27]:
- added ui_highlight_netwop
epgdb/epgblock.c [rev:1.2, 1999-06-27T11:26:26]:
- added ui_highlight_netwop
- bugfix ui_open
epgui/epgmain.h [rev:1.1, 1999-07-03T18:36:17]:
- Initial revision
epgui/epgmain.c [rev:1.3, 1999-07-03T18:36:50]:
- added stats window with % stream 1 and 2
- added toggle button for debug stream output
- expired now blocks marked yellow
epgdb/epgblock.c [rev:1.3, 1999-07-03T18:38:29]:
- save all PI in global array
- fill ui stats window with % stream 1 and 2
- correct lto for mktime
- expired now blocks marked yellow
- allow to suppress blocks debug output by UI
epgtcl/tcl_statswin.tcl [rev:1.2, 1999-07-04T09:14:51]:
- added add_stat and create_bottom (stats canvas & "Debug Output" button)
- check_now with color as argument
epgdb/epgblock.c [rev:1.4, 1999-07-04T09:16:59]:
- mark overlapping blocks in streams canvas in yellow
epgui/epgmain.c [rev:1.4, 1999-07-04T09:16:59]:
- mark overlapping blocks in streams canvas in yellow
epgtcl/tcl_statswin.tcl [rev:1.3, 1999-07-04T12:21:43]:
- added statistics window with AI count,avg and runtime
epgui/epgmain.c [rev:1.5, 1999-07-04T12:21:43]:
- added statistics window with AI count,avg and runtime
epgdb/epgblock.c [rev:1.5, 1999-07-04T19:04:05]:
- indicate PI blocks with short or long info in streams
epgtcl/tcl_statswin.tcl [rev:1.4, 1999-07-04T19:04:05]:
epgui/epgmain.c [rev:1.6, 1999-07-04T19:04:05]:
epgui/epgmain.h [rev:1.2, 1999-07-11T10:20:24]:
- indicate PI blocks with short or long info in streams
epgdb/epgblock.c [rev:1.6, 2000-01-16T12:35:10]:
- optimized ApplyEscapes() with table instead of switch()
- improved whitespace/newline handling in ApplyEscapes()
- added DecodePil() and GetPiPilStr()
- added 1st draft for CycleStats() - incomplete
- moved descriptor decoding for all blocks in sub DecodeDescriptorLoop()
- for NI, OI, NI: build compount struct
    separate debug output from block decoder; added PrintNiBlock()
- added decoder for LI and TI
epgdb/miblock.h [rev:1.2, 2000-01-16T12:36:06]:
epgdb/niblock.h [rev:1.2, 2000-01-16T12:36:06]:
epgdb/oiblock.h [rev:1.2, 2000-01-16T12:36:06]:
- replaced raw struct with complete compound struct and access macros
epgdb/piblock.h [rev:1.3, 2000-01-16T12:39:09]:
- moved and renamed PI_DESCRIPTOR to DESCRIPTOR in blockdecode.h
- same struct used by all block types
- optimized access macros
epgdb/liblock.h [rev:1.1, 2000-01-16T12:40:53]:
- Initial revision
epgdb/tiblock.h [rev:1.1, 2000-01-16T12:40:53]:
- Initial revision
epgdb/epgblock.c [rev:1.7, 2000-01-16T15:17:55]:
- AI decoder: separated debug output and UI from decoder
- fixed identation in AI and PI decoder
epgdb/aiblock.h [rev:1.2, 2000-01-16T15:18:47]:
- added AI_BLOCK access macros
epgui/epgmain.c [rev:1.7, 2000-01-16T15:59:24]:
- renamed AIBLOCK to AI_BLOCK and AIBLOCK_NETWOP to AI_NETWOP
epgdb/epgblock.c [rev:1.8, 2000-01-16T17:02:32]:
- [redacted]
Makefile [rev:1.2, 2000-01-16T18:27:39]:
- added lots of files
epgvbi/ttxdecode.c [rev:1.1, 2000-01-16T18:28:27]:
- Initial revision
epgvbi/ttxdecode.h [rev:1.1, 2000-01-16T18:28:32]:
- Initial revision
epgdb/epgblock.c [rev:1.9, 2000-01-16T18:30:06]:
- renamed from blockdecode.c; adapted some #include and #define
- changed API BlockDecode(); renamed to EpgStreamDecodeBlock()
epgdb/epgstream.h [rev:1.3, 2000-01-16T18:30:44]:
- long ago: added provate struct stream_cycle_data
- changed API BlockDecode(); renamed to EpgStreamsDecodeBlock()
- renamed from blockdecode.c; adapted some #include and #define
epgvbi/vbidecode.c [rev:1.4, 2000-01-16T18:31:40]:
- [redacted]
- EPG specific functionality moved to epgdbacq.c
epgvbi/vbidecode.h [rev:1.2, 2000-01-16T18:33:19]:
- beautified
epgui/epgmain.c [rev:1.8, 2000-01-16T18:33:47]:
- added init for EPG acq engine
epgdb/epgblock.h [rev:1.1, 2000-01-16T18:55:15]:
- Initial revision
epgvbi/hamming.c [rev:1.1, 2000-01-26T17:35:41]:
- Initial revision
epgvbi/hamming.h [rev:1.1, 2000-01-26T17:35:43]:
- Initial revision
epgctl/mytypes.h [rev:1.1, 2000-01-26T17:35:55]:
- Initial revision
epgvbi/vbidecode.c [rev:1.5, 2000-04-29T19:58:36]:
- [redacted]
epgctl/debug.c [rev:1.1, 2000-05-14T07:55:29]:
- Initial revision
epgctl/debug.h [rev:1.1, 2000-05-14T07:55:31]:
- Initial revision
epgdb/epgblock.c [rev:1.10, 2000-05-14T07:56:13]:
- added epgdb and browser window
- splitted off epgtxtdump
epgdb/epgstream.h [rev:1.4, 2000-05-14T07:56:35]:
- added epgdb and browser window
- splitted off epgtxtdump
epgvbi/ttxdecode.c [rev:1.2, 2000-05-14T07:57:19]:
- added epgdb and browser window
epgdb/epgdbfil.c [rev:1.1, 2000-05-14T07:57:29]:
- Initial revision
epgdb/epgdbfil.h [rev:1.1, 2000-05-14T07:57:32]:
- Initial revision
epgdb/epgdbfil.hi [rev:1.1, 2000-05-14T07:57:34]:
- Initial revision
epgui/dumpraw.c [rev:1.1, 2000-05-14T07:57:44]:
- Initial revision
epgui/dumpraw.h [rev:1.1, 2000-05-14T07:57:46]:
- Initial revision
epgui/pilistbox.c [rev:1.1, 2000-05-14T07:58:29]:
- Initial revision
epgtcl/mainwin.tcl [rev:1.1, 2000-05-14T07:58:37]:
- Initial revision
epgdb/epgblock.h [rev:1.2, 2000-05-14T07:58:56]:
- added epgdb and browser window
- collected all block types into this single header file
epgui/epgmain.c [rev:1.9, 2000-05-14T07:59:30]:
- added epgdb and browser window
epgui/epgmain.h [rev:1.3, 2000-05-14T07:59:35]:
- added epgdb and browser window
epgdb/epgdbmgmt.c [rev:1.1, 2000-05-14T08:00:03]:
- Initial revision
epgdb/epgdbmgmt.h [rev:1.1, 2000-05-14T08:00:07]:
- Initial revision
epgdb/epgdbmgmt.hi [rev:1.1, 2000-05-14T08:00:10]:
- Initial revision
epgctl/debug.c [rev:1.2, 2000-05-14T10:24:36]:
epgctl/debug.h [rev:1.2, 2000-05-14T10:24:36]:
epgctl/mytypes.h [rev:1.2, 2000-05-14T10:24:36]:
epgdb/epgblock.c [rev:1.11, 2000-05-14T10:24:36]:
epgdb/epgdbmgmt.c [rev:1.2, 2000-05-14T10:24:36]:
epgui/dumpraw.c [rev:1.2, 2000-05-14T10:24:36]:
epgui/epgmain.c [rev:1.10, 2000-05-14T10:24:36]:
epgui/pilistbox.c [rev:1.2, 2000-05-14T10:24:36]:
epgvbi/ttxdecode.c [rev:1.3, 2000-05-14T10:24:36]:
epgvbi/vbidecode.c [rev:1.6, 2000-05-14T10:24:36]:
epgvbi/vbidecode.h [rev:1.3, 2000-05-14T10:24:36]:
- fixes for WIN32
epgtcl/mainwin.tcl [rev:1.2, 2000-05-21T08:03:02]:
- revamped listbox model to allow sync with db:
- the text widget now only contains the currently visible items
- the scrollbar is not directly connected to the text widget
    but with a function that deletes and inserts text in the listbox
    to simulate scrolling
epgui/pilistbox.c [rev:1.3, 2000-05-21T08:03:02]:
- revamped listbox model to allow sync with db:
- the text widget now only contains the currently visible items
- the scrollbar is not directly connected to the text widget
    but with a function that deletes and inserts text in the listbox
    to simulate scrolling
epgui/epgmain.h [rev:1.4, 2000-05-21T08:05:24]:
- added pilistbox variables for browse.c (TEMPORARY)
epgdb/epgblock.c [rev:1.12, 2000-05-21T08:28:57]:
- fix for win32: tm_isdst must be initialized with _daylight and _tzset()
- txtdump mod not included with win32 yet
epgui/epgmain.c [rev:1.11, 2000-05-21T08:31:28]:
- fixed stat win: count # of blocks in db
- fix for win32: do _tzset() to initialize _daylight global
epgtcl/mainwin.tcl [rev:1.3, 2000-05-21T09:19:02]:
- adapted PI popup to new pilistbox handling
epgui/pilistbox.c [rev:1.4, 2000-05-21T09:19:02]:
- adapted PI popup to new pilistbox handling
epgtcl/tcl_statswin.tcl [rev:1.5, 2000-05-30T20:49:52]:
- WIN32: determine bg for canvas from frame bg
epgdb/epgdbfil.c [rev:1.2, 2000-05-31T00:25:40]:
- added EpgDbSetFilterSubStr()
- added const to some ptr params
epgdb/epgdbfil.h [rev:1.2, 2000-05-31T00:25:40]:
- added EpgDbSetFilterSubStr()
- added const to some ptr params
epgdb/epgdbfil.hi [rev:1.2, 2000-05-31T00:25:40]:
- added EpgDbSetFilterSubStr()
- added const to some ptr params
epgui/pilistbox.c [rev:1.5, 2000-05-31T00:45:10]:
- added synchronisation of pilistbox with db
- PiListBox_DbInserted, PiListBox_DbRemoved, PiListBox_DbUpdated
- PiListBox_DbRecount: after removal readjust scrollbar
- PiListBox_UpdateNowItems: paint items blue which started running
- added PiListBox_ConsistancyCheck
- paint cursor dark blue when in NOW area
- improved cursor positioning with page up/down
- moved substr search to epgdbfil module
- improved short/long info widget: check for common substrings
epgui/epgmain.h [rev:1.5, 2000-05-31T00:53:11]:
- temporarily added decls for pilistbox, needed by epgdb
epgtcl/mainwin.tcl [rev:1.4, 2000-05-31T00:53:44]:
- C_DoGrep renamed C_SelectSubStr, since it's now a regular filter setting
Makefile [rev:1.3, 2000-05-31T00:54:44]:
- added database and browser window
- upgrade to tcl 8.0
- enabled all warnings
epgdb/epgdbmgmt.c [rev:1.3, 2000-05-31T10:29:34]:
- added EpgDbGetStat() for stats window
- WIN32 added O_BINARY
- added LOCK_INTERNAL param to EpgDbLockDatabase() for pilistbox
- added PiListBox_* interface for sync with listbox widget
epgdb/epgdbmgmt.h [rev:1.2, 2000-05-31T10:31:16]:
- added EpgDbGetStat() for stats window
- added LOCK_INTERNAL param to EpgDbLockDatabase() for pilistbox
epgvbi/vbidecode.c [rev:1.7, 2000-05-31T10:32:14]:
- fixes for NETBSD
- added VPS decoding (optional)
epgui/epgmain.c [rev:1.12, 2000-05-31T10:33:28]:
- changed eval_check to return result
epgui/pilistbox.c [rev:1.6, 2000-05-31T14:31:51]:
- added PiListBox_Refresh()
epgui/epgmain.c [rev:1.13, 2000-05-31T15:59:06]:
- set now buttons in ui_reload
clock.c [rev:1.1, 2000-06-01T12:57:01]:
- Initial revision
epgdb/epgblock.h [rev:1.3, 2000-06-01T19:33:16]:
- added copyright message and description
epgdb/epgblock.c [rev:1.13, 2000-06-01T19:34:49]:
- added copyright message
epgdb/epgstream.h [rev:1.5, 2000-06-01T19:34:49]:
- added copyright message
epgdb/epgdbfil.c [rev:1.3, 2000-06-01T19:35:19]:
- added copyright message
epgdb/epgdbfil.h [rev:1.3, 2000-06-01T19:35:19]:
- added copyright message
epgdb/epgdbmgmt.c [rev:1.4, 2000-06-01T19:35:49]:
- added copyright message
- split off epgdbif and epgdbsav
epgdb/epgdbmgmt.h [rev:1.3, 2000-06-01T19:35:49]:
- added copyright message
- split off epgdbif and epgdbsav
epgdb/epgdbmgmt.hi [rev:1.2, 2000-06-01T19:36:13]:
- added copyright message
- split off epgdbif and epgdbsav
epgvbi/ttxdecode.c [rev:1.4, 2000-06-01T19:36:58]:
- added copyright message
epgvbi/ttxdecode.h [rev:1.2, 2000-06-01T19:36:58]:
- added copyright message
epgdb/epgdbfil.hi [rev:1.3, 2000-06-01T19:38:49]:
- added copyright message
epgdb/epgdbif.c [rev:1.1, 2000-06-01T19:39:53]:
- Initial revision
epgdb/epgdbif.h [rev:1.1, 2000-06-01T19:39:55]:
- Initial revision
epgdb/epgdbsav.c [rev:1.1, 2000-06-01T19:40:02]:
- Initial revision
epgdb/epgdbsav.h [rev:1.1, 2000-06-01T19:40:04]:
- Initial revision
epgui/dumpraw.c [rev:1.3, 2000-06-01T19:41:53]:
epgui/dumpraw.h [rev:1.2, 2000-06-01T19:42:05]:
epgvbi/hamming.c [rev:1.2, 2000-06-01T19:42:30]:
epgvbi/hamming.h [rev:1.2, 2000-06-01T19:42:30]:
epgvbi/vbidecode.c [rev:1.8, 2000-06-01T19:42:49]:
epgvbi/vbidecode.h [rev:1.4, 2000-06-01T19:42:49]:
- added copyright message
epgctl/debug.c [rev:1.3, 2000-06-01T19:44:32]:
- fixed for non-debug mode: switches moved to mytypes.h
epgctl/debug.h [rev:1.3, 2000-06-01T19:44:32]:
- fixed for non-debug mode: switches moved to mytypes.h
epgctl/mytypes.h [rev:1.3, 2000-06-01T19:45:08]:
- added copyright message
- added debug switches
epgui/epgmain.c [rev:1.14, 2000-06-01T19:50:34]:
- added copyright message
- split off statswin.c
- renamed from ui.c to main.c
epgui/epgmain.h [rev:1.6, 2000-06-01T19:51:36]:
- added copyright message
- split off statswin.c
- renamed from ui.h to main.h
epgui/pdc_themes.c [rev:1.1, 2000-06-01T19:52:40]:
- Initial revision
epgui/pdc_themes.h [rev:1.1, 2000-06-01T19:52:40]:
- Initial revision
epgui/statswin.c [rev:1.1, 2000-06-01T19:52:49]:
- Initial revision
epgui/statswin.h [rev:1.1, 2000-06-01T19:52:49]:
- Initial revision
epgui/pilistbox.c [rev:1.7, 2000-06-01T19:58:53]:
- added copyright message
- renamed some variables
- split off pifilter.c
epgui/pilistbox.h [rev:1.1, 2000-06-01T19:59:14]:
- Initial revision
epgui/pifilter.c [rev:1.1, 2000-06-01T19:59:22]:
- Initial revision
epgui/pifilter.h [rev:1.1, 2000-06-01T19:59:25]:
- Initial revision
epgtcl/mainwin.tcl [rev:1.5, 2000-06-01T19:59:58]:
- added copyright message
- added "Statistics" button to open stats window
epgtcl/tcl_statswin.tcl [rev:1.6, 2000-06-01T20:00:33]:
- added copyright message
epgui/statswin.c [rev:1.2, 2000-06-02T11:50:12]:
- bugfix StatsWin_Load(): mark NOW buttons expired only if currently running item found
epgdb/epgdbmgmt.c [rev:1.5, 2000-06-03T18:12:09]:
- initialize prev and next pointers on AI and BI blocks
- to allow pointer verification (by accessing pAiBlock->pNext,
- which results in SEGV if pAiBlock is random)
epgvbi/ttxdecode.c [rev:1.5, 2000-06-03T18:13:58]:
- added VBI ringbuffer (moved here from vbidecode.c)
- reason: needs decoder status (e.g. epgPageNo)
- restructured interface functions + initialisation
epgvbi/ttxdecode.h [rev:1.3, 2000-06-03T18:17:20]:
- added VBI ringbuffer (moved here from vbidecode.c)
- added decl of internal status (in shm)
- restructured interface functions + initialisation
epgdb/epgdbif.c [rev:1.2, 2000-06-03T18:19:09]:
- renamed NEXTVIEW_NO_STREAM to NXTV_NO_STREAM
epgdb/epgdbsav.c [rev:1.2, 2000-06-03T18:19:34]:
- initialize prev and next pointers on AI and BI blocks (see epgdb.c)
epgvbi/vbidecode.c [rev:1.9, 2000-06-03T18:20:37]:
- removed ring buffer (moved to epgdbacq.c)
- added child process handling
- acq runs in separate process now to avoid timing problems
    (I would have used select() but that does not work with /dev/vbi)
epgui/epgmain.c [rev:1.15, 2000-06-03T18:26:15]:
- revamped event handling - acq now runs in separate process
epgvbi/vbidecode.h [rev:1.5, 2000-06-03T18:26:54]:
- removed ring buffer (moved to epgdbacq.c)
epgui/pilistbox.c [rev:1.8, 2000-06-03T18:28:28]:
- bugfixes in PiListBox_DbRemoved()
- for deletions caused by PI overlaps
epgdb/epgdbfil.c [rev:1.4, 2000-06-03T20:57:42]:
- introduced FEATURE_CONTEXT struct
- this struct now keeps the filter status variables instead of all the
    separate global variables; this allows different modules (e.g.
    windows) to maintain different filter settings
- the main reason for the introduction is that it's simply prettier
- translated comments to english; reformatted to new design
- removed .hi header file (obsolete since vars are now in struct)
epgdb/epgdbfil.h [rev:1.4, 2000-06-03T20:59:34]:
epgdb/epgdbif.c [rev:1.3, 2000-06-03T21:00:26]:
epgdb/epgdbif.h [rev:1.2, 2000-06-03T21:00:41]:
epgui/pifilter.c [rev:1.2, 2000-06-03T21:01:40]:
epgui/pifilter.h [rev:1.2, 2000-06-03T21:01:40]:
epgui/pilistbox.c [rev:1.9, 2000-06-03T21:01:40]:
- introduced FEATURE_CONTEXT struct as parameter to PI search functions
epgui/statswin.c [rev:1.3, 2000-06-03T21:02:45]:
- introduced FEATURE_CONTEXT struct as parameter to PI search functions
- reduced number of includes to those actually required
- set title for statistics window to "Nextview Statistics"
epgui/pilistbox.c [rev:1.10, 2000-06-03T21:19:21]:
- bugfix PiListBox_Scroll() for pgdown cursor handling
Makefile [rev:1.4, 2000-06-03T21:21:21]:
- added copyright message
- restructured files into several directories
- renamed and split some files
- added -DTCL_LIBRARY_PATH
epgdb/epgdbfil.c [rev:1.5, 2000-06-06T08:04:51]:
- removed upper-case from variable names
epgdb/epgdbfil.h [rev:1.5, 2000-06-06T08:04:51]:
- removed upper-case from variable names
epgdb/epgblock.c [rev:1.14, 2000-06-06T08:05:53]:
- renamed from epgstream.c to epgblock.c
- added EpgBlockCreate() to initialize all new blocks (esp. ptrs)
- removed obsolete #defines
- revamped julian date conversion
- removed entry function EpgStreamDecodeBlock()
- this functionality moved to epgstream.c (stream parser & block assembly)
    and to epgdbacq (call to db management)
- hence the various block decoder funcs are no longer static
epgdb/epgblock.h [rev:1.4, 2000-06-06T08:09:38]:
- added EPGDB_BLOCK definitions from epgdb.h
- mainly to avoid circular dependencies between epgblock and epgdb
- service interface now consists of all the various block decoder funcs
- instead of one general func
epgdb/epgdbmgmt.c [rev:1.6, 2000-06-06T08:13:51]:
- removed all acq control functionality
- callbacks for AI,BI,Generic blocks: -> epgdbacq.c
- scratch buffer -> epgstream.c, controlled by epgdbacq.c
- prefilter: obsolete
- AI updates: filtering of incompatible PI now done automatically
- there's now one general entry point for adding blocks
epgdb/epgdbmgmt.h [rev:1.4, 2000-06-06T08:16:40]:
- moved EPGDB_BLOCK definitions to epgblock.h
- removed many obsolete func decls
- prefilter obsolete
- only one entry point for block add
- acq ctrl moved to epgdbacq
epgdb/epgdbmgmt.hi [rev:1.3, 2000-06-06T08:18:36]:
- removed obsolete variables: callbacks, AI block_no cache, scratch
epgvbi/ttxdecode.h [rev:1.4, 2000-06-06T08:26:08]:
- moved NXTV_STREAM and EPGDB_TYPE typedefs to epgstream.h
- stream parser is now in epgstream.c
- added MIP decoder: func decl & consts
epgdb/epgdbif.c [rev:1.4, 2000-06-06T08:27:23]:
- added EpgDbGetPiBlockCount() & EpgDbGetPiBlockIndex()
- moved here from epgblock.c (former epgstream.c)
epgdb/epgdbif.h [rev:1.3, 2000-06-06T08:28:28]:
- added EpgDbGetPiBlockCount() & EpgDbGetPiBlockIndex()
- moved here from epgblock.c (former epgstream.c)
epgdb/epgdbsav.c [rev:1.3, 2000-06-06T08:31:20]:
- removed netwop prefiltering (no longer supported)
epgdb/epgstream.h [rev:1.6, 2000-06-06T08:58:27]:
- content COMPLETELY exchanged
- was: header for former epgstream.c (now: epgblock.c)
- now: header for streams parser (extracted from epgdbacq.c)
- added decls for streams decoder
epgdb/epgstream.c [rev:1.1, 2000-06-06T09:00:05]:
- Initial revision
epgui/dumpraw.c [rev:1.4, 2000-06-06T09:00:32]:
- renamed GetPiBlockCount() to EpgDbGetPiBlockCount()
- moved from epgstream.c to epgdbif.c
epgvbi/ttxdecode.c [rev:1.6, 2000-06-06T09:01:31]:
- redesign of control flow (BIG change!)
- stream parser moved into separate module epgstream.c
- former epgstream.c renamed to epgblock.c (bit field decoder)
- scratch buffer moved from epgdb.c to epgstream.c
- added MIP decoder
- added scratch buffer control and AI,BI callbacks
- new control flow:
- now centered around epgdbacq.c
- calls epgstream.c to convert ttx packets to a list of blocks
    epgstream uses epgblock.c to convert bit fields to C structs
    temporarily epgstream also controls statwin and epgtxtdump
- informs epgacqctl via callbacks
- hands blocks to epgdb or frees them if rejected
epgctl/epgacqctl.c [rev:1.1, 2000-06-06T09:15:32]:
- Initial revision
epgctl/epgacqctl.h [rev:1.1, 2000-06-06T09:15:34]:
- Initial revision
epgui/epgmain.c [rev:1.16, 2000-06-06T09:16:32]:
- generalized ui_init for win32 and unix
- added epgacqctl module
epgvbi/vbidecode.c [rev:1.10, 2000-06-06T09:19:37]:
- child now stays alive while acq is switched off
    this is because the child must not be forked after UI is open,
    or it will inherit the X file handles and keep the window open
- acq can be switched off via a flag in shm
- parent and child sync via SIG USR1 at start-up and acq-on
epgui/epgmain.h [rev:1.7, 2000-06-06T09:22:32]:
- renamed from main.h to epgmain.h
epgvbi/vbidecode.h [rev:1.6, 2000-06-06T09:23:22]:
- export pVbiBuf for epgacqctl, which now calls EpgDbAcqStart itself
- added VbiDecodeWakeUp() for sync between parent and child at start-up and acq-on
epgui/pifilter.c [rev:1.3, 2000-06-06T09:25:27]:
- change of include file names and ordering
epgui/pilistbox.c [rev:1.11, 2000-06-06T09:25:53]:
- change of include file names and ordering
- LOCK_INTERNAL obsolete, now use TRUE/FALSE
epgui/statswin.c [rev:1.4, 2000-06-06T09:26:40]:
- adapted to new control flow in epgdbacq
- statwin now called in epgstream.c before block is added to db
- hence check for block errors (yellow) must be guessed via filtering
- renamed GetPiBlockDiff() to EpgDbGetPiBlockIndex()
epgui/statswin.h [rev:1.2, 2000-06-06T09:28:07]:
- added 2 params to StatsWin_NewPi(): short- and long-info
epgtcl/mainwin.tcl [rev:1.6, 2000-06-06T09:28:39]:
- added button "Start/Stop Acq" bound to EpgAcqCtl_Toggle()
- widened netwop listbox from 6 to 8
Makefile [rev:1.5, 2000-06-06T09:30:04]:
- added epgctl/epgacqctl.c
- added epgblock.c (content moved from epgstream.c, which got content from epgdbacq.c)
- renamed main.c to epgmain.c
epgdb/epgdbfil.c [rev:1.6, 2000-06-08T20:13:06]:
- EpgDbInitFilterThemes(): allow to work on one class only
- EpgDbSetFilterSubStr(): case-insensitive search and separate title from descr
- match optimized: goto failed upon first failed match
epgdb/epgdbfil.h [rev:1.6, 2000-06-08T20:14:14]:
- EpgDbInitFilterThemes(): allow to work on one class only
- EpgDbSetFilterSubStr(): case-insensitive search and separate title from descr
- added DB_FILTER_SUBSTR_TITLE, DB_FILTER_SUBSTR_DESCR
epgdb/epgdbif.c [rev:1.5, 2000-06-08T20:15:10]:
- bugfix: search funcs for Generic Blocks didn't return NULL on failure
epgui/dumpraw.c [rev:1.5, 2000-06-08T20:15:49]:
- bugfix: start- and stoptimes were equal
- added EpgTxtDump_Database(): dumps complete db
epgui/dumpraw.h [rev:1.3, 2000-06-08T20:16:38]:
- added EpgTxtDump_Database(): dumps complete db
epgctl/epgacqctl.c [rev:1.2, 2000-06-08T20:17:49]:
- moved UI stuff from acq start/stop to epgui/menucmd.c
epgctl/epgacqctl.h [rev:1.2, 2000-06-08T20:18:42]:
- moved UI stuff from acq start/stop to epgui/menucmd.c
epgui/epgmain.c [rev:1.17, 2000-06-08T20:19:10]:
- several small fixes
- added init for epgui/menucmd.c
epgui/pifilter.c [rev:1.4, 2000-06-08T20:20:55]:
- revamped themes and features handling on Tcl/Tk side:
- former theme listbox is going to be universal filter cache
    (not completed yet)
- all individual filter settings are now in the menubar
- added PiFilter_UpdateNetwopList()
epgui/pifilter.h [rev:1.3, 2000-06-08T20:24:03]:
- added PiFilter_UpdateNetwopList()
epgui/pilistbox.c [rev:1.12, 2000-06-08T20:24:18]:
- CreateNetwopList() moved to epgui/pifilter.c::PiFilter_UpdateNetwopList()
epgui/statswin.c [rev:1.5, 2000-06-08T20:25:44]:
- removed: StatsWin_ToggleListBlocks() now in menucmd.c
epgtcl/mainwin.tcl [rev:1.7, 2000-06-08T20:26:14]:
- big changes!
- added a menubar that keeps all the filter menues (features, ratings,...)
- handling of theme classes changed
- added feature classes
- added About window (preliminary)
- added pop-up for text search
epgtcl/tcl_statswin.tcl [rev:1.7, 2000-06-08T20:28:33]:
- removed toggle listblocks button (now in menubar of main window)
Makefile [rev:1.6, 2000-06-08T20:29:13]:
- added epgui/menucmd.c
epgdb/epgblock.c [rev:1.15, 2000-06-08T22:32:10]:
- added alphabet tables from ALEVT for nat.opts. and diacrits.
- bugfix AI decoding: netwop default alphabet
COPYRIGHT [rev:1.1, 2000-06-08T22:33:45]:
- Initial revision
epgui/menucmd.c [rev:1.1, 2000-06-09T11:06:21]:
- Initial revision
epgui/menucmd.h [rev:1.1, 2000-06-09T11:06:24]:
- Initial revision
epgtcl/mainwin.tcl [rev:1.8, 2000-06-09T11:06:46]:
- added dump database popup
- bugfix .about handling
epgui/dumpraw.c [rev:1.6, 2000-06-09T11:07:27]:
- added FILE* param to all TxtDump funcs
- fprintf to FILE* instead of stdout
- caller has to create/open that file
- EpgTxtDump_Database() bools for eachblock type to select dumped scope
epgui/dumpraw.h [rev:1.4, 2000-06-09T11:09:02]:
- added FILE* param to all TxtDump funcs
- EpgTxtDump_Database() bools for each block type to select dumped scope
epgdb/epgstream.c [rev:1.2, 2000-06-09T11:09:26]:
- EpgTxtDump*() func now need FILE* param
- for now still dump stream to stdout
epgdb/epgdbfil.h [rev:1.7, 2000-06-10T15:52:17]:
- added series filter
- added NI stack filter handling
- revamped LI and TI descr filter setting for NI
- bugfix EpgDbInitFilterThemes() for loop
- bugfix EpgDbSetFilterThemes() for loop: uchar->uint for indices==255
epgdb/epgdbif.c [rev:1.6, 2000-06-10T15:56:43]:
- fixed EpgDbGetProgNo(): blockno arithmetic instead of search loop
epgdb/epgdbif.h [rev:1.4, 2000-06-10T15:56:43]:
- fixed EpgDbGetProgNo(): blockno arithmetic instead of search loop
epgdb/epgdbmgmt.c [rev:1.7, 2000-06-10T16:00:28]:
- fixed AI version change: scan PI block numbers
- also bugfix: if() branch was never executed
- EpgDbRemoveObsoleteNetwops() now checks every blockno
- PiListBox_ConsistancyCheck() removed 2 times for ProgNo filter
- when prog-no is used, listbox must be entirely re-synched
    after each insertion or deletion
epgdb/epgblock.c [rev:1.16, 2000-06-10T16:03:37]:
- renamed & exported DtBCDToMoD() -> EpgBlockBcdToMoD()
- also used by epgdbfil.c in NI time slot handling
epgdb/epgblock.h [rev:1.5, 2000-06-10T16:04:22]:
- added declaration of EpgBlockBcdToMoD()
- added defines for NI theme & sortcrit filter ranges
- moved DB_DESCR_BUFFER_SIZE to epgdbfil.h
epgui/pdc_themes.c [rev:1.2, 2000-06-10T16:06:18]:
- fixed case on some entries
epgtcl/mainwin.tcl [rev:1.9, 2000-06-10T16:07:35]:
- added handling of dynamic menus (content is created on the fly)
- added series filter
- added "Navigation" menu with NI hierarchy
- removed obsolete themes browser
epgui/pifilter.c [rev:1.5, 2000-06-10T16:09:37]:
- added series filter
- added NI navigation
epgui/pilistbox.c [rev:1.13, 2000-06-10T16:11:17]:
- quick (temporary) fixes to deal with prog-no filter
- do not insert or remove, but use pibox_resync and do a complete refresh
epgdb/epgdbfil.c [rev:1.7, 2000-06-10T16:17:55]:
- added series filter
- added NI stack filter handling
- revamped LI and TI descr filter setting for NI
- bugfix EpgDbInitFilterThemes() for loop
- bugfix EpgDbSetFilterThemes() for loop: uchar->uint for indices==255
epgui/pifilter.c [rev:1.6, 2000-06-10T17:24:10]:
- bugfix: handling deep dynamic menus:
- 3rd level menus sometimes were not destroyed before they were re-created
epgdb/epgblock.c [rev:1.17, 2000-06-10T18:52:59]:
epgdb/epgblock.h [rev:1.6, 2000-06-10T18:52:59]:
epgdb/epgdbfil.c [rev:1.8, 2000-06-10T18:52:59]:
epgdb/epgdbfil.h [rev:1.8, 2000-06-10T18:52:59]:
epgdb/epgdbif.c [rev:1.7, 2000-06-10T18:52:59]:
epgdb/epgdbmgmt.hi [rev:1.4, 2000-06-10T18:52:59]:
epgdb/epgdbsav.c [rev:1.4, 2000-06-10T18:52:59]:
epgdb/epgstream.h [rev:1.7, 2000-06-10T18:52:59]:
epgvbi/ttxdecode.c [rev:1.7, 2000-06-10T18:52:59]:
epgui/pifilter.c [rev:1.7, 2000-06-10T18:54:12]:
epgui/pilistbox.c [rev:1.14, 2000-06-10T18:54:12]:
epgui/statswin.c [rev:1.6, 2000-06-10T18:54:12]:
- renamed or removed old-style constants (#defines)
epgtcl/mainwin.tcl [rev:1.10, 2000-06-10T18:54:28]:
- added $theme_class_count and $feature_class_count
- as equivalent to C constants THEME_CLASS_COUNT & FEATURE_CLASS_COUNT
- reduced feature class count from 12 to 6
- 6 is the number of different feature submenues
epgdb/epgblock.c [rev:1.18, 2000-06-10T19:17:39]:
epgdb/epgblock.h [rev:1.7, 2000-06-10T19:17:39]:
epgdb/epgdbif.c [rev:1.8, 2000-06-10T19:17:39]:
epgdb/epgdbif.h [rev:1.5, 2000-06-10T19:17:39]:
epgdb/epgdbmgmt.c [rev:1.8, 2000-06-10T19:17:39]:
epgdb/epgdbmgmt.h [rev:1.5, 2000-06-10T19:17:39]:
epgui/dumpraw.c [rev:1.7, 2000-06-10T19:17:39]:
epgui/dumpraw.h [rev:1.5, 2000-06-10T19:17:39]:
epgtcl/mainwin.tcl [rev:1.11, 2000-06-10T19:18:51]:
epgui/menucmd.c [rev:1.2, 2000-06-10T19:18:51]:
epgdb/epgstream.c [rev:1.3, 2000-06-11T19:27:17]:
- [redacted]
epgdb/epgdbmgmt.c [rev:1.9, 2000-06-11T19:24:31]:
- added EpgDbDestroy(): free all blocks in db
epgdb/epgdbmgmt.h [rev:1.6, 2000-06-11T19:25:01]:
- added EpgDbDestroy(): free all blocks in db
epgdb/epgdbfil.c [rev:1.9, 2000-06-11T19:25:20]:
- removed ref to obsolete var name from comment
epgdb/epgdbsav.c [rev:1.5, 2000-06-11T19:27:42]:
- added support for multiple databases
- dump format and file name changed
epgdb/epgdbsav.h [rev:1.2, 2000-06-11T19:27:42]:
- added support for multiple databases
- dump format and file name changed
epgctl/epgacqctl.c [rev:1.3, 2000-06-11T19:29:15]:
- changed to support db selection via config menu
- db reload and dump moved from main to acqctl module
epgctl/epgacqctl.h [rev:1.3, 2000-06-11T19:29:15]:
- changed to support db selection via config menu
- db reload and dump moved from main to acqctl module
epgui/epgmain.c [rev:1.18, 2000-06-11T19:29:15]:
- changed to support db selection via config menu
- db reload and dump moved from main to acqctl module
epgui/pifilter.c [rev:1.8, 2000-06-11T19:30:32]:
- append "Reset" command to the top-level Navigation menu
epgtcl/mainwin.tcl [rev:1.12, 2000-06-11T19:31:17]:
- added provider selection pop-up menu
- fixed bindings for several pop-ups: add instead of replace binding
- "Pos1" aka Home key in pi listbox: set cursor on 1.0
epgui/menucmd.c [rev:1.3, 2000-06-11T19:36:24]:
- added callbacks for provider selection pop-up
epgdb/epgblock.c [rev:1.19, 2000-06-13T18:16:20]:
epgdb/epgblock.h [rev:1.8, 2000-06-13T18:16:20]:
epgdb/epgdbfil.c [rev:1.10, 2000-06-13T18:16:20]:
epgdb/epgdbfil.h [rev:1.9, 2000-06-13T18:16:20]:
epgdb/epgdbif.c [rev:1.9, 2000-06-13T18:16:20]:
epgdb/epgdbif.h [rev:1.6, 2000-06-13T18:16:20]:
epgdb/epgdbsav.c [rev:1.6, 2000-06-13T18:16:20]:
epgdb/epgdbsav.h [rev:1.3, 2000-06-13T18:16:20]:
epgdb/epgstream.c [rev:1.4, 2000-06-13T18:16:20]:
epgdb/epgstream.h [rev:1.8, 2000-06-13T18:16:20]:
epgui/dumpraw.c [rev:1.8, 2000-06-13T18:16:20]:
epgui/dumpraw.h [rev:1.6, 2000-06-13T18:16:20]:
epgvbi/ttxdecode.c [rev:1.8, 2000-06-13T18:16:20]:
epgvbi/ttxdecode.h [rev:1.5, 2000-06-13T18:16:20]:
epgdb/epgdbmgmt.c [rev:1.10, 2000-06-13T18:17:10]:
epgdb/epgdbmgmt.h [rev:1.7, 2000-06-13T18:17:10]:
epgui/epgmain.h [rev:1.8, 2000-06-13T18:20:12]:
epgui/menucmd.c [rev:1.4, 2000-06-13T18:24:18]:
epgui/pifilter.c [rev:1.9, 2000-06-13T18:24:18]:
epgui/pilistbox.c [rev:1.15, 2000-06-13T18:24:18]:
epgui/pilistbox.h [rev:1.2, 2000-06-13T18:24:18]:
- introduced EPGDB_CONTEXT & support for separate acq and ui db
epgctl/epgacqctl.c [rev:1.4, 2000-06-13T18:18:18]:
- introduced EPGDB_CONTEXT & support for separate acq and ui db
- moved acq statistics (e.g. history) here from statwin
- added open/close db for ui and acq db
epgctl/epgacqctl.h [rev:1.4, 2000-06-13T18:18:18]:
- introduced EPGDB_CONTEXT & support for separate acq and ui db
- moved acq statistics (e.g. history) here from statwin
- added open/close db for ui and acq db
epgui/epgmain.c [rev:1.19, 2000-06-13T18:20:12]:
- introduced EPGDB_CONTEXT & support for separate acq and ui db
- main centrally keeps the context pointers, but open/close
    is done in epgacqctl
epgui/statswin.c [rev:1.7, 2000-06-13T18:24:42]:
- introduced EPGDB_CONTEXT & support for separate acq and ui db
- revamped statistics windows:
- now 3 windows: ui timescale, acq timescale, acq stats
- stats are now maintained by epgacqctl
- NewPi is now called from epgdbmgmt (was: epgstream)
epgui/statswin.h [rev:1.3, 2000-06-13T18:24:42]:
- introduced EPGDB_CONTEXT & support for separate acq and ui db
- revamped statistics windows:
- now 3 windows: ui timescale, acq timescale, acq stats
- stats are now maintained by epgacqctl
- NewPi is now called from epgdbmgmt (was: epgstream)
epgtcl/mainwin.tcl [rev:1.13, 2000-06-13T18:26:54]:
- adapted menus to support new 3 separate stats windows (introduced EPGDB_CONTEXT)
- moved Tcl/Tk code from tcl_statwin.tcl file here
Makefile [rev:1.7, 2000-06-13T18:27:50]:
- removed obsolete epgui/tcl_statwin.tcl
- merged with epgui/tcl_pilistbox.tcl
epgtcl/mainwin.tcl [rev:1.14, 2000-06-13T20:17:04]:
- added Reset button above netwop list
- improved packing -expand info text widget
epgui/statswin.c [rev:1.8, 2000-06-13T20:40:46]:
- bugfix: update %% db completion in UI timescale win was blocked
epgvbi/vbidecode.c [rev:1.11, 2000-06-13T20:51:12]:
- added #includes for newly introduced EPGDB_CONTEXT in other header files
epgvbi/ttxdecode.c [rev:1.9, 2000-06-14T19:18:25]:
- additional statistics values maintained by ttx slave
- if acq is stopped by slave, also stop acq in epgacqctl module
epgvbi/ttxdecode.h [rev:1.6, 2000-06-14T19:19:05]:
- additional statistics values maintained by ttx slave
epgdb/epgdbif.c [rev:1.10, 2000-06-14T19:19:37]:
- added func to retrieve version no from PI
- improved EpgDbGetStat(): additionally count blocks with correct version
epgdb/epgdbif.h [rev:1.7, 2000-06-14T19:20:30]:
- added func to retrieve version no from PI
- improved EpgDbGetStat(): additionally count blocks with correct version
epgdb/epgdbmgmt.c [rev:1.11, 2000-06-14T19:20:48]:
- bugfix: forgot to set the streams number
epgctl/epgacqctl.c [rev:1.5, 2000-06-14T19:21:41]:
- maintain additional statistics valued from ttx slave
- in block count history, separate PI with current and obsolete version no
- MenuCmd_UpdateToggleAcq() obsolete; is now polled by menu postcmd
- improved OpenDb: acq follows ui whenever possible (e.g. no acq on cur chan)
epgctl/epgacqctl.h [rev:1.5, 2000-06-14T19:21:41]:
- maintain additional statistics valued from ttx slave
- in block count history, separate PI with current and obsolete version no
epgui/epgmain.c [rev:1.20, 2000-06-14T19:23:54]:
- fixed SIGINT handling (dropped use of Tcl_Finalize)
epgvbi/vbidecode.c [rev:1.12, 2000-06-14T19:25:06]:
- new feature: write slave pid into file while /dev/vbi is open
- when SIGHUP is received, vbi device is dropped
- moved acq main loop into separate function
epgui/menucmd.c [rev:1.5, 2000-06-14T19:26:32]:
- fixed conditions for en-/disabling entries in Control menu
-> MenuCmd_UpdateToggleAcq() obsolete, is polled now
- fixed provider selection: acq db may change along with ui
- if no reception on current channel
epgui/menucmd.h [rev:1.2, 2000-06-14T19:27:39]:
- removed obsolete MenuCmd_UpdateToggleAcq()
epgui/statswin.c [rev:1.9, 2000-06-14T19:30:26]:
- extended list of statistics in acq stat window
- in both timescales and history list:
- count and color PI separately that do not belong to the current AI version
- TODO: db summary at timescale bottom still lists percentage of all PI
    regardless of version
- also a number of bugfixes
epgtcl/mainwin.tcl [rev:1.15, 2000-06-14T19:33:21]:
- all windows non-resizable & in group .
- added some text to .about
- block count histogram now supports 4 colors
- color PI separately that do not belong to the current AI version
epgdb/epgdbsav.c [rev:1.7, 2000-06-14T20:43:47]:
epgdb/epgdbsav.h [rev:1.4, 2000-06-14T20:43:47]:
- EpgDump returns FALSE as long as BI block (or AI) is missing
epgctl/epgacqctl.c [rev:1.6, 2000-06-14T20:44:48]:
- fixed dumpTime handling, to decrease time until first dump of new provider
epgui/epgmain.c [rev:1.21, 2000-06-14T20:45:55]:
- tcl_pilistbox.tcl renamed epgui.tcl
- tried to fix persisting problem with SIGINT
- clock update was executed after . was destroyed
epgui/statswin.c [rev:1.10, 2000-06-14T20:47:06]:
- comment fixed
epgtcl/mainwin.tcl [rev:1.16, 2000-06-14T20:47:18]:
- renamed to epgui.tcl from tcl_pilistbox.tcl
- there is and will be only one Tcl script for this app
- moved Reset button from netwop to themes bar
- to decrease window height
- added future menu items (still disabled)
epgui/pifilter.c [rev:1.10, 2000-06-14T20:49:02]:
- changed main window title prefix: added EPG after Netxtview
Makefile [rev:1.8, 2000-06-14T20:49:48]:
- renamed tcl_pilistbox.tcl to epgui.tcl
- renamed executable to nxtvepg from epgacq
epgdb/epgdbfil.c [rev:1.11, 2000-06-15T17:07:35]:
epgdb/epgdbfil.h [rev:1.10, 2000-06-15T17:08:13]:
epgdb/epgdbif.c [rev:1.11, 2000-06-15T17:08:29]:
epgdb/epgdbif.h [rev:1.8, 2000-06-15T17:08:36]:
- renamed every occurence of progno to progidx
epgdb/epgdbsav.c [rev:1.8, 2000-06-15T17:08:53]:
epgdb/epgdbsav.h [rev:1.5, 2000-06-15T17:08:53]:
- UNIX dumps into tmp file that's renamed to the target at the end
- abort dump upon file errors -> return FALSE
- changed dump filename for UNIX to lower case and w/o ext
epgctl/epgacqctl.c [rev:1.7, 2000-06-15T17:10:57]:
epgctl/epgacqctl.h [rev:1.6, 2000-06-15T17:10:57]:
- fixed dump handling:
- do not try to dump until BI is in db
- if db unmodified for >5min, abort acq and switch acq back to ui
epgui/pilistbox.c [rev:1.16, 2000-06-15T17:12:18]:
- renamed every occurence of progno to progidx
epgui/statswin.c [rev:1.11, 2000-06-15T17:12:35]:
- timescale & acqstat menu entries are now checkbuttons
-> update tcl vars with status after open/close
epgui/pifilter.c [rev:1.11, 2000-06-15T17:13:33]:
- added SelectProgIdx()
epgtcl/mainwin.tcl [rev:1.17, 2000-06-15T17:15:06]:
- fixed END key in pi listbox
- timescale & acqstat menu entries are now checkbuttons
- added progidx filter and popup
epgctl/debug.h [rev:1.4, 2000-06-15T17:56:31]:
- SHOULD_NOT_BE_REACHED was undeclared with debug global off
epgui/statswin.c [rev:1.12, 2000-06-15T18:05:02]:
- bugfix: histogram preload index errors
epgvbi/ttxdecode.c [rev:1.10, 2000-06-15T18:13:03]:
- bugfix: bWaitForBiAi was never enabled (copy & paste error)
README [rev:1.1, 2000-06-15T19:09:03]:
- Initial revision
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_01a <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgdb/epgdbfil.c [rev:1.12, 2000-06-16T15:44:36]:
- bugfix: debug warning feature set: logical NOT was missing
epgdb/epgdbfil.c [rev:1.13, 2000-06-17T18:38:55]:
- bugfixes in theme filter handling
- reset theme & sortcrits classes and feature count upon disable
epgctl/epgmain.c [epgui/epgmain.c, rev:1.22, 2000-06-17T18:40:17]:
- clock widget renamed due to new shortcut bar
epgui/pilistbox.c [rev:1.17, 2000-06-17T18:41:06]:
- added individual Tcl commands for listbox reset & refresh
- this is no longer implicitly done during filter change
epgui/pifilter.c [rev:1.12, 2000-06-17T18:42:04]:
- added C_ResetFilter for shortcuts
- removed obsolete series handling from SelectThemes
- split SelectRating into two funcs for edi and par
- all select funcs: refresh is no longer done automatically
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.18, 2000-06-17T18:44:10]:
- added "Add filter shortcut" popup and shortcut selection
- still todo: saving shortcuts to file & multi-selection
- moved features & feature-class into sub-menu
- moved themes-class into themes submenu
epgctl/epgmain.c [epgui/epgmain.c, rev:1.23, 2000-06-19T17:53:48]:
- added creation of Nextview logo from bitmap in nxtv_logo.xbm
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.19, 2000-06-19T17:55:24]:
- added Nextview logo to .about popup
epgdb/epgblock.c [rev:1.20, 2000-06-19T19:17:24]:
- extended "case 0x10 ... 0x1f:  // diacritical mark" for compatibility with M$
epgdb/epgblock.h [rev:1.9, 2000-06-19T19:17:58]:
- removed obsolete EV_ATTRIB_KIND_THEME_7, EV_ATTRIB_KIND_SORTCRIT_7
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.11, 2000-06-19T19:18:12]:
- added check for (pVbiBuf != NULL) in pkg add for Win32
epgdb/epgdbfil.c [rev:1.14, 2000-06-19T19:20:54]:
- extended EV_ATTRIB_KIND_THEME case vals for Win32 compatibility
- put themes and series filters in one type class
- i.e. always assume theme OR series filter match
epgdb/epgdbsav.c [rev:1.9, 2000-06-19T19:21:47]:
- added reload scan for Win32 (incompatible dir scan)
epgdb/epgdbsav.h [rev:1.6, 2000-06-19T19:21:47]:
- added reload scan for Win32 (incompatible dir scan)
epgui/pifilter.c [rev:1.13, 2000-06-19T19:23:37]:
- sort series by title (TODO: removed prefixes like Der, Die, Das)
epgctl/epgmain.c [epgui/epgmain.c, rev:1.24, 2000-06-22T18:19:47]:
- added command line argument parsing & handling
- rcfile, noacq, iconic
- pass Tk args: geometry, display, name
- prepared for compiling in Tcl/Tk init scripts
- added wm iconbitmap and iconname
epgui/pifilter.c [rev:1.14, 2000-06-22T18:20:57]:
- bugfix: parental and editorial rating c funcs were swapped
- PreloadShortcuts obsolete - called by rc handler
epgui/pilistbox.c [rev:1.18, 2000-06-22T18:21:54]:
- bugfix db insertion handling
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.20, 2000-06-22T18:22:31]:
- added rc/init file handling
- dump: shortcuts, provider selection order, filter bar visibility
- added config options to suppress shortcut & netwop filter bars
- shortcut filters are now stored in only one variable each
- added shortcut edit popup: by extending fscadd popup
- added first draft of EPG scan popup
epgui/menucmd.c [rev:1.6, 2000-06-22T18:25:17]:
- added first draft of EPG scan handling
- added provider selection order : saved permanantly in config file
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.21, 2000-06-22T19:47:19]:
- remove  prefixe prefixes Der, Die, Das, La, ... depending on country
- moved the sorting into the Tcl domain
epgui/pifilter.c [rev:1.15, 2000-06-22T19:47:19]:
- remove  prefixe prefixes Der, Die, Das, La, ... depending on country
- moved the sorting into the Tcl domain
epgdb/epgblock.h [rev:1.10, 2000-06-24T13:17:15]:
- added tuner frequency to EPGDB_CONTEXT
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.12, 2000-06-24T13:17:37]:
- added epg scan & CNI acquisition
- improved acqreset: no longer stops slave
epgdb/epgdbacq.h [epgvbi/ttxdecode.h, rev:1.7, 2000-06-24T13:17:37]:
- added epg scan & CNI acquisition
- improved acqreset: no longer stops slave
epgdb/epgdbif.c [rev:1.12, 2000-06-24T13:19:01]:
- removed debug warning in GetStat when AI missing
- also set all counts to 0 when no AI
epgdb/epgdbsav.c [rev:1.10, 2000-06-24T13:19:38]:
- added tuner frequency to dump header (and EPGDB_CONTEXT)
- added EpgDbDumpUpdateHeader() to update tuner freq. in header
- accepted versions is now range: DUMP_COMPAT - DUMP_VERSION
- reload & peek: no debug warning when db for given CNI missing
epgdb/epgdbsav.h [rev:1.7, 2000-06-24T13:19:38]:
- added tuner frequency to dump header (and EPGDB_CONTEXT)
- added EpgDbDumpUpdateHeader() to update tuner freq. in header
- accepted versions is now range: DUMP_COMPAT - DUMP_VERSION
- reload & peek: no debug warning when db for given CNI missing
epgctl/epgacqctl.c [rev:1.8, 2000-06-24T13:27:14]:
- added epg scan
epgctl/epgacqctl.h [rev:1.7, 2000-06-24T13:27:14]:
- added epg scan
epgctl/epgmain.c [epgui/epgmain.c, rev:1.25, 2000-06-24T13:29:09]:
- added cmd line option -provider <cni>
- moved EpgDbAcqCheckForPackets from min to sec timer handler
epgctl/vbidecode.c [epgvbi/vbidecode.c, rev:1.13, 2000-06-24T13:30:35]:
- added support for EPG scan
- enabled VPS acquisition (during epg scan only)
- added channel table for Europe
- added functions to get freq from chan.# and to tune freq.
epgctl/vbidecode.h [epgvbi/vbidecode.h, rev:1.7, 2000-06-24T13:32:33]:
- added support for EPG scan
   - added functions to get freq from chan.# and to tune freq.
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.22, 2000-06-24T13:34:01]:
- finished epg scan popup: dropped scale, use text instead of message widget
epgui/menucmd.c [rev:1.7, 2000-06-24T13:34:20]:
- finished epg scan: moved handling into epgacqctl module
epgui/menucmd.h [rev:1.3, 2000-06-24T13:35:06]:
- finished epg scan: added interface for epgacqctl module
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.13, 2000-06-24T18:03:13]:
   completed EPG scan with syntax scan of all possible EPG pages
epgdb/epgdbacq.h [epgvbi/ttxdecode.h, rev:1.8, 2000-06-24T18:03:13]:
   completed EPG scan with syntax scan of all possible EPG pages
epgdb/epgstream.c [rev:1.5, 2000-06-24T18:04:04]:
- added EPG syntax scan: checks possible EPG pages for ETS 708 syntax
- kept very simple: only stream, bp, bs and sh are checked,
    where sh is checked for hamming errors only
epgdb/epgstream.h [rev:1.9, 2000-06-24T18:04:04]:
- added state defs for EPG syntax scan
epgctl/epgacqctl.c [rev:1.9, 2000-06-24T18:07:31]:
- epg scan: slight optimization of messages
- ring bell when scan is finished
- differ between normal and abnormal termination
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.23, 2000-06-24T18:08:49]:
- epg scan: slight optimizations; increased with of progress bar
epgdb/epgblock.h [rev:1.11, 2000-06-26T18:21:04]:
- added obsolete PI to db context
- added struct for db statistic counts
epgdb/epgdbif.c [rev:1.13, 2000-06-26T18:21:37]:
- added access funcs for obsolete pi list
- revamped EpgDbGetStat(): count separately for both streams, use struct
epgdb/epgdbif.h [rev:1.9, 2000-06-26T18:22:32]:
- added access funcs for obsolete pi list
- revamped EpgDbGetStat(): count separately for both streams, use struct
epgdb/epgdbmgmt.c [rev:1.12, 2000-06-26T18:27:01]:
- new concept: keep expired or overlapping PI in separate list in db
- only current version of PI is kept -> list emptied upon AI version change
- synchronize both PI lists: block must noth be in both
- list is unsorted (may change in future to sorted by start time)
epgdb/epgdbsav.c [rev:1.11, 2000-06-26T18:30:26]:
- BUG FIX: free() was forgotten on blocks that could not be added to db
- new concept: keep expired or overlapping PI in separate list in db
- expired blocks in dumped db are immediately stuck in obsolete list
- obsolete db blocks are dumped behind PI list, with a separate type
epgdb/epgdbsav.h [rev:1.8, 2000-06-26T18:31:20]:
- added BLOCK_TYPE_DEFECT_PI for list of obsolete PI
epgdb/epgstream.c [rev:1.6, 2000-06-26T18:31:55]:
- added parameter to call of EpgTxtDumpPi(): version, but here only dummy
epgdb/epgtxtdump.c [epgui/dumpraw.c, rev:1.9, 2000-06-26T18:32:39]:
- added parameter version to EpgTxtDumpPi()
- database dump also dumps obsolete PI
epgdb/epgtxtdump.h [epgui/dumpraw.h, rev:1.7, 2000-06-26T18:32:39]:
- added parameter version to EpgTxtDumpPi()
epgctl/epgacqctl.c [rev:1.10, 2000-06-26T18:34:48]:
- EpgDbGetStat() interface changed
-> computation of history diagram and other stats adapted
- added msg to epg scan when tuner freq updated in dumped db
epgctl/epgacqctl.h [rev:1.8, 2000-06-26T18:36:08]:
- acq stats struct adapted to new EpgDbGetStat() interface
- all counts now kept in two structs
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.24, 2000-06-26T18:38:49]:
- added new value to acq history diagram: expired/defect PI (in valid range)
- plus: don't plot lines of zero length
- changed version to 0.02a
epgui/statswin.c [rev:1.13, 2000-06-26T18:42:52]:
- db now also keeps list of obsolete (expired/defect) PI
- timescale reload can mark defect blocks yellow
- acq stats diag contains graph for obsolete PI
- stats interface changed -> computation adapted
- timescale bottom now separates percentage for all and near (stream 1)
epgui/statswin.h [rev:1.4, 2000-06-26T18:51:07]:
- StatsWin_NewPi(): param "inserted" removed
- because all PI (unless invalid netwop or block outside legal range)
    are added to db; PI is marked yellow in timescale if added to defect
    list or if overlapped by block in defect list -> search for time range
    in defect list
epgctl/epgacqctl.c [rev:1.11, 2000-06-29T18:17:24]:
- improved epg scan:
- keep video device open during scan
- check for signal strength: if below threshhold, skip channel quickly
- restructured task handler
epgctl/vbidecode.c [epgvbi/vbidecode.c, rev:1.14, 2000-06-29T18:19:52]:
- improved support for EPG tuner scan
- allow to keep video device open during whole scan
- configure video channel & tuner more thoroughly esp. for cold start
    in device open function
- added function to query signal strength (actually it only returns
    a boolean at the moment)
epgctl/vbidecode.h [epgvbi/vbidecode.h, rev:1.8, 2000-06-29T18:22:34]:
- improved support for EPG tuner scan
- allow to keep video device open during whole scan
- added function to query signal strength
epgui/menucmd.c [rev:1.8, 2000-07-01T08:36:07]:
- bugfix init: epg scan disabled wrong index
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.25, 2000-07-01T08:38:24]:
- added shortcut deselection
- completed shortcut merge: for parental & editorial & progidx
epgdb/epgdbsav.c [rev:1.12, 2000-07-01T08:40:52]:
- removed superflous debug statement (made to dprintf)
epgctl/epgacqctl.c [rev:1.12, 2000-07-04T19:28:26]:
- EpgAcqCtl_OpenDb() returns FALSE if no db found to given (non-zero) CNI
epgctl/epgacqctl.h [rev:1.9, 2000-07-04T19:28:48]:
- EpgAcqCtl_OpenDb() returns FALSE if no db found to given (non-zero) CNI
epgctl/epgmain.c [epgui/epgmain.c, rev:1.26, 2000-07-04T19:29:01]:
- stronger check of -provider CNI, msg box if no db for given provider
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.26, 2000-07-04T19:30:36]:
- added netwop config popup & netwop prefiltering
epgui/pifilter.c [rev:1.16, 2000-07-04T19:30:53]:
- added netwop config popup & netwop prefiltering
- added filter menu state update after NI
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.27, 2000-07-08T11:03:30]:
- added series network sorting (according to user netwop selection)
- bugfix netwop filter bar: was one too short
epgui/menucmd.c [rev:1.9, 2000-07-08T11:04:16]:
- general housekeeping only:
- declare pUsage const * const
- use Tcl_SetResult to assign error messages
- use Tcl_GetBoolean to read boolean parameters instead of Tcl_GetInt
- use tk_messageBox to report errors in acq start/stop
- use Tcl_GetVar to read tcl var instead of Tcl_Eval
epgui/pifilter.c [rev:1.17, 2000-07-08T11:07:58]:
- fixed SelectNetwops: must use prefilter list only when no netwops filtered
- added netwop sorting by user config to series netwop menu
- sorting (and menu add) is done in the tcl domain
- plus general housekeeping:
- declare pUsage const * const
- use Tcl_SetResult to assign error messages
- use Tcl_GetInt to parse args instead of strtol
epgctl/epgacqctl.c [rev:1.13, 2000-07-08T18:31:47]:
- call to StatisticsUpdate in Ai callback delayed until AI is in db
- before, stats didn't reflect the new state of db
epgctl/epgmain.c [epgui/epgmain.c, rev:1.27, 2000-07-08T18:33:20]:
- EpgDbAcqProcessPackets now called from epgacqctl module
- fix for win32: cmd line option args were undeclared
epgctl/vbidecode.c [epgvbi/vbidecode.c, rev:1.15, 2000-07-08T18:33:53]:
- fix for win32: pVbiBuf was undeclared in VPS decoding
epgctl/epgacqctl.h [rev:1.10, 2000-07-08T18:34:22]:
- added EpgAcqCtl_ProcessPackets()
- EpgDbAcqProcessPackets now called from epgacqctl module
epgui/statswin.c [rev:1.14, 2000-07-08T18:34:53]:
- acq stats update is now delayed until idle
- new AI must have been inserted to db and stats generated by epgacqctl
- plus general housekeeping:
- declare pUsage const * const
- use Tcl_SetResult to assign error messages
- use Tcl_GetBoolean to read boolean parameters instead of Tcl_GetInt
CHANGES [rev:1.1, 2000-07-08T18:43:54]:
- Initial revision
TODO [rev:1.1, 2000-07-08T18:43:58]:
- Initial revision
README [rev:1.2, 2000-07-08T18:44:58]:
- small changes in text
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_02a <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.28, 2000-07-14T17:21:57]:
- bugfix SelectShortcut: missed "global series_sel"
epgdb/epgdbfil.c [rev:1.15, 2000-07-15T12:46:29]:
- added lowercase handling for all of latin1 charset
epgdb/epgdbfil.c [rev:1.16, 2000-07-16T11:24:49]:
- bugfix NI time slot processing: elapsed when stop < now, not start
epgdb/epgdbfil.c [rev:1.17, 2000-07-23T10:57:51]:
- modified EpgDbFilterInitSortCrit() analogous to Themes
- init takes bitfield as parameter
- this allows to control all classes separately
    however the caller has to disable the filter when all sortcrits
    in all classes have been deselected
epgdb/epgdbfil.h [rev:1.11, 2000-07-23T11:01:27]:
- added parameter sortCritClassBitField to EpgDbFilterInitSortCrit()
epgui/menucmd.c [rev:1.10, 2000-07-23T11:02:46]:
- reset all filters upon provider change
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.29, 2000-07-23T11:14:17]:
- added sortcrit selection popup
- added start time selection popup
- added netwop filter submenu
- included sortcrit & timsel to shortcuts
- prepared netwops in shortcuts
- upload netwops after NI selection
epgui/pifilter.c [rev:1.18, 2000-07-23T11:17:10]:
- added sortcrit and start time filter selection
- redid themes selection to use Tcl functions for argv parsing
- themes and sortcrit are implemented analogously
- upload sortcrit, time sel & netwops after NI selection
- also fixed themes upload for classes > 1
epgui/statswin.c [rev:1.15, 2000-08-05T14:45:32]:
- bugfix StatsWin_ProvChange(): delay call to acq-update until idle
- since this func is called from AI callback
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.30, 2000-08-06T09:56:57]:
- added netwop filters to shortcuts
- replaced eval'ed lappend by concat
epgui/pifilter.c [rev:1.19, 2000-08-06T09:58:19]:
- C_SelectNetwops semantics changed
- now expects direct indices into AI netwop list, not index + 1
- added GetNetwopFilterList
- returns netwop filter list as CNIs
- added for netwops filtering in shortcuts
epgui/statswin.c [rev:1.16, 2000-08-06T09:59:41]:
- avgAiDistance computations moved into epgacqctl module
epgctl/epgacqctl.c [rev:1.14, 2000-08-06T10:00:13]:
- fixed ai repetition interval computation
- moved avg computation here from staswin module
epgctl/epgacqctl.h [rev:1.11, 2000-08-06T10:00:54]:
- added avgAiDistance to acqStats struct
- moved avg computation here from statswin module
epgctl/epgacqctl.c [rev:1.15, 2000-09-03T17:03:27]:
- bugfix: have to call EpgAcqCtl_StatisticsUpdate() after Reset,
- or update flag will not be reset
epgctl/epgacqctl.c [rev:1.16, 2000-09-16T12:44:16]:
- call StatsWin_VersionChange() after AI version change
-> rebuild timescale window with new colors for old-version PI
epgui/menucmd.c [rev:1.11, 2000-09-16T12:46:57]:
- fix: reset menu filter state after provider change
- (only filter context was cleared)
epgui/statswin.c [rev:1.17, 2000-09-16T12:56:21]:
- added StatsWin_RebuildCanvas() and StatsWin_VersionChange()
- to redraw timescale window after provider or AI version change
epgui/statswin.h [rev:1.5, 2000-09-16T12:58:39]:
- added StatsWin_VersionChange()
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.31, 2000-09-16T13:00:01]:
- fixes:
  - disable series filter when all deselected
  - ignore netwop pre-filters when saving shortcuts
Makefile [rev:1.9, 2000-09-16T19:20:23]:
- changes for upgrade from 6.0 to 7.0
- upgrade from Tcl 8.0 to 8.3
- path to tk script library changed from X11/lib to lib
epgdb/epgblock.c [rev:1.21, 2000-09-16T19:22:32]:
- replaced all calls to malloc() and free() with xmalloc() and xfree()
- to catch malloc failures
- to monitor for memory leaks by chk_malloc() and consorts
epgdb/epgdbfil.c [rev:1.18, 2000-09-16T19:22:32]:
- replaced all calls to malloc() and free() with xmalloc() and xfree()
- to catch malloc failures
- to monitor for memory leaks by chk_malloc() and consorts
epgdb/epgdbmgmt.c [rev:1.13, 2000-09-16T19:22:32]:
- replaced all calls to malloc() and free() with xmalloc() and xfree()
- to catch malloc failures
- to monitor for memory leaks by chk_malloc() and consorts
epgdb/epgstream.c [rev:1.7, 2000-09-16T19:22:32]:
- replaced all calls to malloc() and free() with xmalloc() and xfree()
- to catch malloc failures
- to monitor for memory leaks by chk_malloc() and consorts
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.14, 2000-09-16T19:22:32]:
- replaced all calls to malloc() and free() with xmalloc() and xfree()
- to catch malloc failures
- to monitor for memory leaks by chk_malloc() and consorts
epgdb/epgdbsav.c [rev:1.13, 2000-09-16T19:25:06]:
- replaced all calls to malloc() and free() with xmalloc() and xfree()
- to catch malloc failures
- to monitor for memory leaks by chk_malloc() and consorts
epgui/pifilter.c [rev:1.20, 2000-09-16T19:29:41]:
- added PiFilter_Destroy() to allow to free allocated memory
epgui/pifilter.h [rev:1.4, 2000-09-16T19:29:41]:
- added PiFilter_Destroy() to allow to free allocated memory
epgctl/debug.c [rev:1.4, 2000-09-16T19:49:04]:
- added wrappers for C library malloc() and free() funcs
- to globally handle malloc failures
- to check for memory leaks
epgctl/debug.h [rev:1.5, 2000-09-16T19:49:04]:
- added wrappers for C library malloc() and free() funcs
- to globally handle malloc failures
- to check for memory leaks
epgctl/epgmain.c [epgui/epgmain.c, rev:1.28, 2000-09-16T19:50:13]:
- added call to chk_memleakage() before process termination
- check if there is allocated memory that was not freed
epgctl/mytypes.h [rev:1.4, 2000-09-16T19:51:04]:
- added #define CHK_MALLOC to enable check for memory leaks
epgctl/vbidecode.c [epgvbi/vbidecode.c, rev:1.16, 2000-09-16T20:20:44]:
- found workaround for bttv driver bug
- VBI would not work right after reboot until some other
    TV application was started
-> workaround: force a norm change
- also cleaned up VbiTuneOpenDevice(): check more flags & reordered ioctls
epgctl/mytypes.h [rev:1.5, 2000-09-17T19:35:53]:
- added typedef for "schar"
epgctl/vbidecode.h [epgvbi/vbidecode.h, rev:1.9, 2000-09-17T19:39:58]:
- added const to VbiDecodeLine() param
epgctl/vbidecode.c [epgvbi/vbidecode.c, rev:1.17, 2000-09-17T19:43:58]:
- revamped hamming decoding
- arrays are now signed char and errors marked as -1
- nibbles and bytes decoded by macros
- got rid of global variable hamErr -> multi-thread-safe
epgdb/epgstream.c [rev:1.8, 2000-09-17T19:48:34]:
- revamped hamming decoding
- arrays are now signed char and errors marked as -1
- nibbles and bytes decoded by macros
- got rid of global variable hamErr -> multi-thread-safe
epgdb/hamming.c [epgvbi/hamming.c, rev:1.3, 2000-09-17T19:48:34]:
- revamped hamming decoding
- arrays are now signed char and errors marked as -1
- nibbles and bytes decoded by macros
- got rid of global variable hamErr -> multi-thread-safe
epgdb/hamming.h [epgvbi/hamming.h, rev:1.3, 2000-09-17T19:48:34]:
- revamped hamming decoding
- arrays are now signed char and errors marked as -1
- nibbles and bytes decoded by macros
- got rid of global variable hamErr -> multi-thread-safe
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.15, 2000-09-17T19:48:34]:
- revamped hamming decoding
- arrays are now signed char and errors marked as -1
- nibbles and bytes decoded by macros
- got rid of global variable hamErr -> multi-thread-safe
nxtvepg.1x [nxtvepg.pod, rev:1.1, 2000-09-18T21:22:37]:
- Initial revision
nxtvepg.1x [nxtvepg.pod, rev:1.2, 2000-09-19T14:51:50]:
- quite enough for a first version
nxtvepg.1x [nxtvepg.pod, rev:1.3, 2000-09-20T10:52:17]:
- added option -dbdir; changed path to dbdir from . to /usr/tmp
Makefile [rev:1.10, 2000-09-20T10:53:20]:
- added install rule
README [rev:1.3, 2000-09-20T10:53:40]:
- added doc for installation procedure
- general rework
epgdb/epgdbmgmt.c [rev:1.14, 2000-09-20T10:54:38]:
- fix: EpgDbFilterIncompatiblePi() must be called afer every AI reception
- or more precise: whenever start or stop block numbers change
epgdb/epgdbsav.c [rev:1.14, 2000-09-20T10:55:18]:
- location of database directory now configurable with -dbdir
epgdb/epgdbsav.h [rev:1.9, 2000-09-20T10:55:40]:
- location of database directory now configurable with -dbdir
- changed decl of EpgDbReloadScan()
epgctl/epgacqctl.c [rev:1.17, 2000-09-20T10:56:16]:
- params to EpgDbReloadScan() changed: path is now taken from global dbdir
epgctl/epgmain.c [epgui/epgmain.c, rev:1.29, 2000-09-20T10:56:45]:
- added command line parameter -dbdir <dir>
- dir is automatically created, perm set to 1777 (sticky world-writable)
- path is assigned to global dbdir
epgctl/epgmain.h [epgui/epgmain.h, rev:1.9, 2000-09-20T10:57:51]:
- branches:  1.9.1;
- added decl for global dbdir: contains path to database dir
epgctl/mytypes.h [rev:1.6, 2000-09-20T10:58:09]:
- added comments to type decls
epgui/menucmd.c [rev:1.12, 2000-09-20T10:58:32]:
- params to EpgDbReloadScan() changed: path is now taken from global dbdir
epgui/statswin.c [rev:1.18, 2000-09-20T10:58:51]:
- bugfix: StatsWin_ToggleTimescale()
- was called recursively via the Destroy binding
- undo binding before destruction
epgctl/epgacqctl.c [rev:1.18, 2000-09-21T14:49:54]:
- fix: call to StatsWin_ProvChange(DB_TARGET_ACQ) was missing in 2 places
- must *always* be called when acq db changes,
    or acq timescale will remain open forever
epgui/statswin.c [rev:1.19, 2000-09-21T14:51:27]:
- fixes in StatsWin_ProvChange()
- moved branch with rebuild below branch with close
- added compare acqDbContext==NULL for when acq is stopped
    then the acq timescale should be closed
epgdb/epgdbfil.c [rev:1.19, 2000-09-26T13:22:42]:
- added new filter type: network-prefilter
- same as netwop filter; separated to simplify prefilter handling
- prefilter disabled when netwop filter is enabled
- fixed theme 0x80 (series) handling:
- 0x80 is ignored when series filter is set
    because 0x80 includes *all* series, hence the series filter would
    have no effect (logical OR)
- this was require to support the Context Menu filter settings
epgdb/epgdbfil.h [rev:1.12, 2000-09-26T13:25:31]:
- added new filter type: network-prefilter
- also fixed param names for EpgDbFilterSetFeatureFlags
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.32, 2000-09-26T13:26:53]:
- added Context Menu with right mouse button
- the menu itself is built in the C domain: pifilter.c
- required new filter procs: DeselectTheme, SelectFeaturesAllClasses
- fixed SelectThemeClass
- illegally modified shortcut selection
- added CheckShortcutDeselection
- whenever the filter setting is modified manually (e.g. by the
    filter menu hierarchy) shortcuts are checked
- a shortcut is deselected when any of his contained filter options
    is no longer enabled
- changed default shortcuts
- themes are now general PDC code only, e.g. movie is 0x10
    instead of 0x10-0x18
- also narrowed format: hex and ranges are no longer supported
    ProcessThemeSpec is obsolete
- slightly simplified DescribeCurrentFilter
- since netwop prefilter is now kept separatel from normal netwop
    filter we do no longer need to check for prefilter when uploading
    the netwop filters
epgui/pilistbox.c [rev:1.19, 2000-09-26T13:32:38]:
- added PiListBox_GetSelectedPi() for Context Menu
epgui/pilistbox.h [rev:1.3, 2000-09-26T13:32:50]:
- added PiListBox_GetSelectedPi() for Context Menu
epgui/pdc_themes.c [rev:1.3, 2000-09-26T13:54:28]:
- added table for PDC main categories: pdc_categories
- plus access func PdcThemeGetCategory()
- also included mytypes.h to allow unsigned char
epgui/pdc_themes.h [rev:1.2, 2000-09-26T13:56:48]:
- added table for PDC main categories: pdc_categories
- plus access func PdcThemeGetCategory()
epgui/pifilter.c [rev:1.21, 2000-09-26T14:01:45]:
- added CreateContextMenu()
- invoked with right mouse button
- offers to undo all selected filters either singularily or globally
- also offers new filters, depending on the selected PI (if any)
- simplified netwop pre-filter handling
- now separate filter type is used so that the pre-filter only has to
    be set once and never again bothered with
epgdb/epgdbsav.c [rev:1.15, 2000-09-26T21:16:01]:
- bugfix EpgDbReloadScan(-1)
- did not find any db because current dir was searched instead of dbdir
epgui/pifilter.c [rev:1.22, 2000-09-26T21:19:05]:
- bugfix: C_ResetFilter was called w/o args by CreateNi()
epgctl/epgacqctl.c [rev:1.19, 2000-09-27T17:32:12]:
- added EpgAcqCtl_GetDbState()
- used by PI listbox to display an helpful message when db is empty
epgctl/epgacqctl.h [rev:1.12, 2000-09-27T17:34:51]:
- added EpgAcqCtl_GetDbState()
- added enum for different db states
- there was already one but that was junk
epgctl/epgmain.c [epgui/epgmain.c, rev:1.30, 2000-09-27T17:36:11]:
- added call to PiListBox_UpdateState() after acq was started
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.33, 2000-09-27T17:46:04]:
- added proc PiListBox_PrintHelpHeader
- used by PI listbox to display an helpful message when db is empty
- changed main font to Tk8.0 syntax (from X11 syntax)
- added 3rd window between PI listbox and short-info
- used for "feature summary", i.e. themes, sound, format, rating etc.
- added binding <Escape> to all pop-ups to destroy their window
epgui/menucmd.c [rev:1.13, 2000-09-27T17:49:50]:
- branches:  1.13.1;
- fixed SetControlMenuStates()
- added conditions to 2 more commands in Control menu
- added call to PiListBox_UpdateState()
- after epg acq toggle
- after provider change
- during init
epgui/pifilter.c [rev:1.23, 2000-09-27T17:57:51]:
- bugfix CreateContextMenu()
- for loop var was abused inside loop
epgui/pilistbox.c [rev:1.20, 2000-09-27T18:04:08]:
- pilistbox can now have 3 states:
- non-init (was: open=FALSE), message (new) and list (was: open=TRUE)
- when db is empty, i.e. no PI to list, the about info, logo
    and a helpful message is displayed
- the db state is determined in epgacqctl
- slightly changed PI output format: date is now behind stop time
- added 3rd window between PI listbox and short-info
- used for "feature summary", i.e. themes, sound, format, rating etc.
- implemented in PiListBox_UpdateInfoText()
- bugfix: call to PiListBox_UpdateInfoText() was missing in 4 places
epgui/pilistbox.h [rev:1.4, 2000-09-27T18:14:32]:
- added PiListBox_UpdateState()
nxtvepg.1x [nxtvepg.pod, rev:1.4, 2000-09-27T19:27:42]:
- added chapter about Context Menu
- added explanation of feature summary window in Browsing chapter
- improved GettingStarted and Description
nxtvepg.1x [nxtvepg.pod, rev:1.5, 2000-09-28T20:25:03]:
- added header and RCS $Id$
- added -card command line option
- added list and description of all filter types
epgui/pdc_themes.c [rev:1.4, 2000-09-28T20:28:58]:
- beautified theme names
- replaced "/" by "&"
- made them senseful on their own (without knowing its main category)
- shortened the names
epgctl/epgmain.c [epgui/epgmain.c, rev:1.31, 2000-09-28T20:31:28]:
- added command line option -card <index>
- index is passed to VbiDecodeInit() to select a vbi and video device
epgctl/vbidecode.c [epgvbi/vbidecode.c, rev:1.18, 2000-09-28T20:32:05]:
- added parameter videoCardPostfix to VbiDecodeInit()
- selects a vbi and video device
epgctl/vbidecode.h [epgvbi/vbidecode.h, rev:1.10, 2000-09-28T20:32:05]:
- added parameter videoCardPostfix to VbiDecodeInit()
- selects a vbi and video device
nxtvepg.1x [nxtvepg.pod, rev:1.6, 2000-10-04T16:48:50]:
- small fixed for inclusion of the manpage as help menu
- removed blanks from line ends
- made chapters "context free", i.e. stand on their own
- added cmd line option -help
man2help.tcl [pod2help.pl, rev:1.1, 2000-10-04T17:03:19]:
- Initial revision
Makefile [rev:1.11, 2000-10-04T17:39:00]:
- added rules for manpage to help conversion
- made IROOT subdirs configurable: BINDIR, MANDIR
- bugfix: manpage would have been installed directly into man subdir
    instead of man/man1
- filter comments from Tcl scripts before conversion to C
epgctl/epgacqctl.c [rev:1.20, 2000-10-04T17:55:34]:
- bugfix: acqState was not set to OFF when scan was aborted
epgctl/epgmain.c [epgui/epgmain.c, rev:1.32, 2000-10-04T17:57:03]:
- added command line option -help
- added Tcl source for eog_help_tcl
- epgui/gelp.c is generated from epgui/help.tcl
- epgui/help.tcl is generated from the online manual page (nxtvepg.1x)
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.34, 2000-10-04T18:05:29]:
- added proc PopupHelp
- displays popup with help pages which are generated from the manpage
    at compile time
- the help texts are contained in a separate file
- also converted one more UNIX font ref to tcl8 format
epgui/pilistbox.c [rev:1.21, 2000-10-04T18:09:34]:
- bugfix: date in title list was from stop time instead of start
- bugfixes: Home/End did not work when listbox was not filled completely
- improved startup help msg when no providers exist
epgui/pilistbox.c [rev:1.22, 2000-10-07T09:26:54]:
- combined feature & info windows
- added title in first line, features centered in 2nd line
-> swapped code segments inPiListBox_UpdateInfoText()
- increased length of netwop name in listbox by one
- set scrollbar to 0.0 - 1.0 when not in listbox mode
man2help.tcl [pod2help.pl, rev:1.2, 2000-10-09T17:22:38]:
- added separate handling for .I: display underlined (instead of bold)
- added warning in output file "do not edit..."
- optimized helpTexts() array:
    now no longer script, but only list of alternating text & tag
nxtvepg.1x [nxtvepg.pod, rev:1.7, 2000-10-09T17:50:42]:
- elaborated descriptions, esp. for Control and Configure menus
- combined color descriptions in Data Acq. chapter
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.35, 2000-10-09T17:57:52]:
- combined feature-summary & info windows
- enlarged info window from 7 to 10 lines
- removed .all.pi.feat
- added tags to .all.pi.info.text to format programme title & features
- disable buttons in netwop sel popup when useless
- man2tcl optimization -> help popups without foreach loop across lines
- revamped copyright/help message for startup w/o data
- added GNU disclaimer
- removed version number
- help/warning now with yellow bg instead of brown fg
epgui/pifilter.c [rev:1.24, 2000-10-09T18:05:26]:
- added start-time filter to undos in context menu
epgui/pilistbox.c [rev:1.23, 2000-10-11T18:04:50]:
- bugfix: PiListBox_DbUpdated() did not check for changes in filter attributes
- because of attribute changes, an item might no longer or newly
    match the filter setting
-> item might have to be removed or inserte to the list
- removal has to be done befor db update, insertion afterwards
-> split up the function in ...Pre... and ...Post...
epgui/pilistbox.h [rev:1.5, 2000-10-11T18:07:04]:
- bugfix: PiListBox_DbUpdated()
-> split up the function in ...Pre... and ...Post...
epgdb/epgdbmgmt.c [rev:1.15, 2000-10-11T18:07:47]:
- fix PiListBox_DbUpdated()
- because of attribute changes, an item might no longer or newly
    match the filter setting -> item might have to be removed or inserte to the list
- split PiListBox_DbUpdated() into pre and post function
- removal has to be done befor db update, insertion afterwards
Makefile [rev:1.12, 2000-10-11T18:23:04]:
- added epgui/help.tcl and epgui/help.c to make clean rule
- fixed DO NOT DELETE comment for make depend
nxtvepg.1x [nxtvepg.pod, rev:1.8, 2000-10-11T19:42:42]:
- improved "Getting started", "Basic browsing", Navigate & Filtering
epgdb/epgdbsav.h [rev:1.10, 2000-10-12T18:25:36]:
- branches:  1.10.1;
- updated DUMP_VERSION from 0.1a to 0.3.1
epgui/pilistbox.c [rev:1.24, 2000-10-12T18:46:11]:
- added netwop name & start/stop time to short-info window
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.36, 2000-10-12T18:46:43]:
- updated version number to 0.3.1
- added tag bold to short-info window (for netwop name & start time)
nxtvepg.1x [nxtvepg.pod, rev:1.9, 2000-10-12T19:12:37]:
- corrected version no to 0.3.1 from 0.3a
- unified usage of .I/.B
- .B only for headers (particularily .TP lists)
- .I else
Windows [rev:1.1, 2000-10-14T19:27:44]:
- Initial revision
CHANGES.version [rev:1.1, 2000-10-14T19:30:30]:
- Initial revision
epgctl/epgmain.c [epgui/epgmain.c, rev:1.33, 2000-10-14T21:40:59]:
- bugfix InitLTO: offset was wrong during daylight saving time
nxtvepg.1x [nxtvepg.pod, rev:1.10, 2000-10-14T21:55:39]:
- improvied description for acq stats window
man2help.tcl [pod2help.pl, rev:1.3, 2000-10-14T21:56:08]:
- added regsub for "" around .BI args
epgdb/epgdbsav.c [rev:1.16, 2000-10-14T21:57:05]:
- branches:  1.16.1;
- removed comment for Windows branch - obsolete
epgctl/debug.c [rev:1.5, 2000-10-14T21:57:42]:
- fixed for compilation with DEBUG_SWITCH OFF
- removed printf for memory leak check
epgctl/debug.h [rev:1.6, 2000-10-14T21:58:21]:
- fixed for compilation with DEBUG_SWITCH OFF
CHANGES [rev:1.2, 2000-10-14T21:59:56]:
- update for version 0.3.1
TODO [rev:1.2, 2000-10-14T21:59:56]:
- update for version 0.3.1
CHANGES.version [rev:1.2, 2000-10-15T17:33:21]:
- reordered
Windows [rev:1.2, 2000-10-15T17:38:47]:
- added comment about egrep usage in Makefile
- elaborated about subdirs
epgdb/epgdbif.c [rev:1.14, 2000-10-15T17:41:04]:
- added EpgDbSearchPiExact()
- works like EpgDbSearchPi(), but additionally checks start time
- no filter context matching
epgdb/epgdbif.h [rev:1.10, 2000-10-15T17:41:04]:
- added EpgDbSearchPiExact()
epgdb/epgdbmgmt.c [rev:1.16, 2000-10-15T18:30:56]:
- fixed copy & paste error in dprintf statement
epgctl/epgmain.c [epgui/epgmain.c, rev:1.34, 2000-10-15T18:45:57]:
- branches:  1.34.1;
- fixed bugfix: libc timezone variable has negative sign!?
epgdb/epgblock.c [rev:1.22, 2000-10-15T18:52:49]:
- fixed SetStartAndStopTime() for corrected lto
- variable lto now includes daylight saving time
- mktime() however seems not to include daylight saving time
-> must use timezone alone to compensate for mktime()
epgui/pilistbox.c [rev:1.25, 2000-10-15T18:55:41]:
- bugfix PiListBox_DbRemoved()
- when last or first PI changes start time, removal failed
    because SearchPi for first or last PI found the wrong version
- hence a wrong PI was inserted as replacement
-> use new function SearchPiExact that also compares start time
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_3_1 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
nxtvepg.1x [nxtvepg.pod, rev:1.11, 2000-10-24T16:43:48]:
- added credits to AUTHOR section
README [rev:1.4, 2000-10-24T16:44:10]:
- added link to `Windows' file
epgui/pifilter.c [rev:1.25, 2000-10-28T23:13:11]:
- bugfix: reference to uninitialized pointer in obsolete assignment
README [rev:1.5, 2000-10-28T23:24:56]:
- added URL for ftp distribution archive
- plus some minor fixes
CHANGES.version [rev:1.3, 2000-10-28T23:29:49]:
- added memo: remove -g from Makefile
TODO [rev:1.3, 2000-10-28T23:35:17]:
- version 0.3.2
Makefile [rev:1.13, 2000-10-29T00:32:56]:
- added -c to install for backwards compatibility (NetBSD)
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.37, 2000-10-29T00:37:33]:
- branches:  1.37.1;
- bugfix: deleting sortcrits from popup failed -> fixed scan format string
- added ftp URL to about popup
- added underlines to top-level menu for keyboard invokation
- prepared reminder menu
CHANGES [rev:1.3, 2000-10-29T00:43:34]:
- release 0.3.2
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_3_2 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
CHANGES [rev:1.4, 2000-11-07T20:36:10]:
- bugfix release 0.3.3
TODO [rev:1.4, 2000-11-07T20:36:57]:
- bugfix release 0.3.3
- removed head corruption bug
- added latin-1 char in text search bug
README [rev:1.6, 2000-11-07T20:37:54]:
- changed download address from uni-erlangen to tripod.com
nxtvepg.1x [nxtvepg.pod, rev:1.12, 2000-11-07T20:38:39]:
- updated software version number from 0.3.1 to 0.3.3
epgui/epgui.tcl [rev:1.37.1.1, 2000-11-07T20:54:56]:
- update version number from 0.3.1 to 0.3.3
- update ftp address from uni-erlangen to tripod.com
epgdb/epgdbsav.h [rev:1.10.1.1, 2000-11-07T20:59:28]:
- updated dump version number for relase 0.3.3
epgui/pifilter.c [rev:1.26, 2000-10-31T19:34:14]:
- bugfix CreateContextMenu():
- list of theme filters to undo did not check class bit mask
-> filters from disabled (and not initialized) classes were shown
epgdb/epgblock.c [rev:1.23, 2000-11-01T09:28:25]:
- bugfix ApplyEscapes() : malloc overwrite
- did not check if string length growed beyond reserved length
www/index.html [rev:1.1, 2000-11-06T22:42:56]:
- Initial revision
www/index.html [rev:1.2, 2000-11-07T20:32:30]:
- added link to screenshot
- moved EuroNews from Germany to Switzerland in table
- improved ETSI disclaimer
- added counter javascript code
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_3_3 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
nxtvepg.1x [nxtvepg.pod, rev:1.13, 2000-11-16T20:07:30]:
- added -demo
www/index.html [rev:1.5, 2000-11-16T20:31:23]:
- update for release 0.3.4
- added demo database
www/index.html [rev:1.6, 2000-11-16T20:33:36]:
- added German keywords "Nextview Dekoder"
nxtvepg.1x [nxtvepg.pod, rev:1.14, 2000-11-16T20:38:59]:
- updated version to 0.3.4
CHANGES [rev:1.5, 2000-11-16T21:06:23]:
- release 0.3.4
epgdb/epgdbsav.h [rev:1.10.1.2, 2000-11-16T21:18:09]:
- addition of -demo <db> option to release branch 0.3
- replaced lastPiDate with dumpDate in EPGDBSAV_HEADER
epgdb/epgdbsav.c [rev:1.16.1.1, 2000-11-16T21:20:00]:
- addition of -demo <db> option to release branch 0.3
- replaced lastPiDate with dumpDate in EPGDBSAV_HEADER
- shift all PI in reloaded db just enough so that none expire
- db path name is taken from -demo argument
    other dbs cannot be loaded
epgctl/epgmain.c [epgui/epgmain.c, rev:1.34.1.1, 2000-11-16T21:24:47]:
- addition of -demo command line option to release branch 0.3
- added in Usage(), ParseArgv() and main()
- in demo mode only the db given behind -demo is loaded
    -provider arg is ignored, acq is disabled
epgctl/epgmain.h [epgui/epgmain.h, rev:1.9.1.1, 2000-11-16T21:26:38]:
- added extern const char * pDemoDatabase for new -demo command line arg
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.37.1.2, 2000-11-16T21:30:12]:
- addition of -demo mode to release branch 0.3
- added proc CreateDemoModePseudoMenu
    Create "Demo-Mode" menu with warning labels and disable some menu cmds
- called once during start-up when demo mode is enabled
- update version number from 0.3.3 to 0.3.4
epgui/menucmd.c [rev:1.13.1.1, 2000-11-16T21:33:07]:
- addition of -demo mode to release branch 0.3
- call Tcl proc CreateDemoModePseudoMenu during start-up
    when demo mode is enabled
TODO [rev:1.5, 2000-11-16T21:46:28]:
- release 0.3.4
- added lookout for version 0.4.0
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_3_4 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgdb/epgblock.c [rev:1.24, 2000-11-03T20:09:28]:
- STARTED DB MERGE
- EpgBlockCreate() now global, for epgdbmerge.c
epgdb/epgblock.h [rev:1.12, 2000-11-03T20:10:09]:
- STARTED DB MERGE
- EpgBlockCreate() now global, for epgdbmerge.c
- added PI_GET_STR_BY_OFF macro
- added bool merged to db context
epgdb/epgdbif.c [rev:1.15, 2000-11-03T20:10:47]:
- STARTED DB MERGE
- general interface change: upper layers must no longer use blockno
  for identification, since blocknos have no meaning in merged dbs
- now netwopno & start_time are used instead
- removed onsolete EpgDbGetPi() : was unused
- removed obsolete EpgDbSearchPiExact(): now equal to normal SearchPi()
- ContextGetCni now returns 0x00ff for merged db
- GetProgIdx no longer requires lock (since no pointers are used)
epgdb/epgdbif.h [rev:1.11, 2000-11-03T20:13:59]:
- STARTED DB MERGE
- general interface change: upper layers must no longer use blockno
  for identification, since blocknos have no meaning in merged dbs
- now netwopno & start_time are used instead
- removed onsolete EpgDbGetPi() : was unused
- removed obsolete EpgDbSearchPiExact(): now equal to normal SearchPi()
epgdb/epgdbmgmt.c [rev:1.17, 2000-11-03T20:15:16]:
- STARTED DB MERGE
- in CheckConsistancy, do not check blocknos for merged dbs
epgdb/epgdbmgmt.h [rev:1.8, 2000-11-03T20:15:38]:
- fixed comment for #endif (copy&paste error)
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.38, 2000-11-03T20:19:48]:
- STARTED DB MERGE
- added "Merge providers..." entry to Configure menu
- extracted network selection functions from netwop prefilter popup
  and built SelBox "widget" from it, that's no used both by netwop
  and prov-merge popups
- added .provmerge popup and .provmergeopt sub-popup
- added provmerge config to rc/ini file
- translated pre-defined shortcuts to english
epgui/menucmd.c [rev:1.14, 2000-11-03T20:26:44]:
- STARTED DB MERGE
- added ProvMerge_List(): returns list of provider CNIs and names (netwops)
- added ProvMerge_Start(): start db merge
- prov selection uses EpgDbContextGetCni() instead of direct AI access
  since in merged dbs artificial CNI 0x00ff must be used instead of
  this_netwop CNI
epgui/pilistbox.c [rev:1.26, 2000-11-03T20:35:49]:
- STARTED DB MERGE
- db interface changed: blocknos must no longer be used for PI search
  since blocknos have no meaning in merged dbs
- now use only netwop and start_time
-> status changed plus all calls to EpgDbSearch functions
- XXX FIXME: db remove now broken, because wrong item might get deleted
-> need to fix epgdbmgmt to remove obsolete PI *before* insertion
   so that there never is an ambiguity
epgdb/epgblock.c [rev:1.25, 2000-11-04T11:15:45]:
- added new element pPrevNetwopBlock to EPGDB_BLOCK struct
- netwop chains are now for- and backwards to simplify mgmt
epgdb/epgblock.h [rev:1.13, 2000-11-04T11:15:45]:
- added new element pPrevNetwopBlock to EPGDB_BLOCK struct
- netwop chains are now for- and backwards to simplify mgmt
epgdb/epgdbmerge.c [rev:1.1, 2000-11-04T11:30:48]:
- Initial revision
epgdb/epgdbmerge.h [rev:1.1, 2000-11-04T11:30:50]:
- Initial revision
epgdb/epgdbif.c [rev:1.16, 2000-11-04T11:32:02]:
- slight optimization EpgDbSearchPi()
- does no longer compare netwop in search loop since netwop chains is used
epgdb/epgdbmgmt.c [rev:1.18, 2000-11-04T11:32:28]:
- introduced new pointer *pPrevNetwopBlock to EPGDB_BLOCK struct
- PI blocks now chained forwards and backwards per netwop
- simplified PI insertion, esp. resolving blockno/time conflicts
epgdb/epgdbsav.c [rev:1.17, 2000-11-04T11:35:33]:
- introduced new pointer *pPrevNetwopBlock to EPGDB_BLOCK struct
epgui/pilistbox.c [rev:1.27, 2000-11-04T11:35:59]:
- removed obsolete (and already commented out) branch from _DbInsert()
- XXX FIXED: introduced new pointer *pPrevNetwopBlock to EPGDB_BLOCK struct
-> db now is always consistent, i.e. max. one PI per netwop with same blockno
-> _DbRemove() now working stable
-  no changes in this file for this fix
epgctl/epgversion.h [rev:1.1, 2000-11-04T12:57:02]:
- Initial revision
epgctl/epgversion.h [rev:1.2, 2000-11-04T13:02:09]:
- added compilation date to EPG_VERSION_RCS_ID
epgdb/epgdbsav.c [rev:1.18, 2000-11-04T13:41:32]:
- all version numbers are now maintained centrally in epgversion.h
epgdb/epgdbsav.h [rev:1.11, 2000-11-04T13:41:32]:
- all version numbers are now maintained centrally in epgversion.h
epgctl/epgmain.c [epgui/epgmain.c, rev:1.35, 2000-11-04T13:42:15]:
- added epg_version_str & epg_rcs_id_str
- includes epgversion.h
- -help now also outputs version number
- version string is passed to TCL for .about popup
epgctl/epgmain.h [epgui/epgmain.h, rev:1.10, 2000-11-04T13:42:15]:
- added decl for epg_version_str, epg_rcs_id_str
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.39, 2000-11-04T13:53:22]:
- added global EPG_VERSION for .about popup
epgui/pifilter.c [rev:1.27, 2000-11-04T13:54:03]:
- added setting of Tcl global EPG_VERSION in init func
epgui/menucmd.c [rev:1.15, 2000-11-04T16:01:17]:
- bugfix StartMerge: wrong idx var for loop across cf options
epgdb/epgdbif.c [rev:1.17, 2000-11-06T18:57:44]:
- added EpgDbContextIsMerged()
epgdb/epgdbif.h [rev:1.12, 2000-11-06T18:57:44]:
- added EpgDbContextIsMerged()
epgdb/epgblock.h [rev:1.14, 2000-11-06T18:58:07]:
- added *pMergeContext to EPGDB_CONTEXT
- for merged databases only, holds pointer to EPGDB_MERGE_CONTEXT
- ptr is void to avoid forcing everyone to include epgdbmerge.h
epgdb/epgdbmerge.c [rev:1.2, 2000-11-06T19:01:43]:
- added dynamic insertion of blocks into merged database
- also: globally replaced pFoundBlock with pFoundBlocks
epgdb/epgdbmerge.h [rev:1.2, 2000-11-06T19:01:43]:
- added dynamic insertion of blocks into merged database
epgdb/epgdbmgmt.c [rev:1.19, 2000-11-06T19:05:37]:
- for epgdbmerge.c: (added dynamic insertion of blocks into merged database)
- separated parts of EpgDbInsertPi() into sub-functions
- removed special handling of case pFirstPi==NULL in InsertPi()
epgdb/epgdbmgmt.h [rev:1.9, 2000-11-06T19:05:37]:
- added decls for EpgDbPiRemove(), EpgDbLinkPi(), EpgDbReplacePi()
- used by epgdbmerge.h for insertion into merged db
epgctl/epgacqctl.c [rev:1.21, 2000-11-06T19:10:00]:
- in EpgAcqCtl_OpenDb():
- do not use merged db for acquisition
- XXX temporary solution: instead use any other db
www/index.html [rev:1.3, 2000-11-07T21:22:37]:
- added links to bttv and v4l (might be outdated!?)
www/index.html [rev:1.4, 2000-11-11T15:14:46]:
- added META tags for search engines
- added link to manual page
- replaced link to my COPRIGHT file with link to GNU.org
Makefile [rev:1.14, 2000-11-14T18:38:25]:
- added epgdb/epgdbmerge.o
epgdb/epgblock.h [rev:1.15, 2000-11-14T18:42:19]:
- added mergeCount to EPGDB_BLOCK
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.16, 2000-11-14T18:42:49]:
- changed interface to EpgAcqCtl_ChannelChange(): added param bool changeDb
epgdb/epgdbmerge.c [rev:1.3, 2000-11-14T18:43:33]:
- bugfixes: updated PI and AI were not freed
- split off EpgDbMergeOpenAcqContext() from PiInsert
- added EpgDbMergeAiUpdate()
- added mergeCount to PI
epgdb/epgdbmerge.h [rev:1.3, 2000-11-14T18:45:47]:
- added EpgDbMergeAiUpdate() for epgdbmgmt
epgdb/epgdbmgmt.c [rev:1.20, 2000-11-14T18:46:29]:
- call to EpgDbMergeAiUpdate() in InsertAi func
- bugfix: check for NULL ptr in pBlock->pNextNetwopBlock
epgdb/epgdbsav.h [rev:1.12, 2000-11-14T18:47:38]:
- increased DUMP_COMPAT to 0.4.0
- dur to addition of *pNextNetwopBlock to PI_BLOCK
epgctl/epgacqctl.c [rev:1.22, 2000-11-14T18:50:41]:
- added EpgAcqCtl_SelectMode()
- new state machine in static vars
- mode can be set via GUI
- added EpgAcqCtl_UpdateProvider() to switch providers depending on mode
epgctl/epgacqctl.h [rev:1.13, 2000-11-14T18:53:48]:
- added enum EPGACQ_MODE
- added EpgAcqCtl_SelectMode() and EpgAcqCtl_UpdateProvider()
- changed decl for EpgAcqCtl_ChannelChange(): new bool param
epgctl/epgmain.c [epgui/epgmain.c, rev:1.36, 2000-11-14T18:54:38]:
- added bitmaps ptr_up.xbm and ptr_down.xbm for SelBox up/down buttons
- merge database when last db was CNI 0x00ff
epgctl/epgversion.h [rev:1.3, 2000-11-14T18:57:36]:
- set version from 0.3.3 to 0.4.0
epgvbi/vbidecode.c [rev:1.19, 2000-11-14T18:58:08]:
- added VbiTuneCheckDevice(): return TRUE when /dev/video can be opened
epgvbi/vbidecode.h [rev:1.11, 2000-11-14T18:58:08]:
- added VbiTuneCheckDevice(): return TRUE when /dev/video can be opened
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.40, 2000-11-14T19:00:24]:
- fix proc CreateSeriesMenuEntries: remove series number postfix from titles
- changed ftp address from uni-erlangen to nxtvepg.tripod.com
- added popup to select acq mode .acqmode
- use bitmaps ptr_up.xbm and ptr_down.xbm in SelBox for up/down buttons
- provmergeopt popup: added message to print option name
- names are kept in array, which is also used to build menu in .provmerge
- provmergeopt option type can be changed on-the-fly via provmerge menu
- C_ProvMerge_Start is called without parameters, because they are
    fetched from globals; needed for merge at startup, i.e. not via the popup
- added proc SortProvList to sort provider list in popups
- added globals acq_mode and acq_mode_cnis to rc file
epgui/menucmd.c [rev:1.16, 2000-11-14T19:10:15]:
- renamed ProvMerge_List to GetProvCnisAndNames()
- split off ProvMerge_ParseConfigString() from ProvMerge_Start()
- can be called from background, i.e. not from popup
- parameters are now taken from Tcl globals
- added SetAcquisitionMode() and UpdateAcquisitionMode()
- for new popup .acqmode
- takes params from Tcl globals
epgui/menucmd.h [rev:1.4, 2000-11-14T19:13:05]:
- added ProvMerge_ParseConfigString()
- added SetAcquisitionMode()
epgui/statswin.c [rev:1.20, 2000-11-14T19:13:24]:
- removed superflous call to EpgDbGetPiBlockCount() in StatsWin_NewPi()
- fixed StatsWin_Load(): correct provider name for merged db
epgdb/epgdbsav.c [rev:1.19, 2000-11-17T19:57:42]:
- addition of -demo <db> option (identical to branch 1.16.1.1)
- added dumpDate and firstDate to EPGDBSAV_HEADER
- shift all PI in reloaded db just enough so that none expire
- db path name is taken from -demo argument
    other dbs cannot be loaded
epgdb/epgdbsav.h [rev:1.13, 2000-11-17T19:58:55]:
- addition of -demo <db> option
- added dumpDate and firstDate to EPGDBSAV_HEADER
- added dumpDate, firstDate, lastPiDate to EPGDBSAV_PEEK
epgctl/debug.c [rev:1.6, 2000-11-17T20:04:52]:
- added #include "epgctl/debug.h"
epgctl/epgmain.c [epgui/epgmain.c, rev:1.37, 2000-11-17T20:05:09]:
- added command line option -demo
- fixed error in help for -card: index starts at 0, not 1
epgctl/epgmain.h [epgui/epgmain.h, rev:1.11, 2000-11-17T20:06:03]:
- added pDemoDatabase for -demo option
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.41, 2000-11-17T20:06:27]:
- added proc CreateDemoModePseudoMenu for -demo cmd line option
- create "Demo-Mode" menu with warning labels and disable some menu commands
epgui/menucmd.c [rev:1.17, 2000-11-17T20:07:24]:
- addition of -demo mode
- call Tcl proc CreateDemoModePseudoMenu during start-up
    when demo mode is enabled
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.42, 2000-11-18T11:09:10]:
- replaced all [string equal ...] with [string compare ...]==0
- for compatibility with ealier Tcl versions, esp. v8.0
man2help.tcl [pod2help.pl, rev:1.4, 2000-11-18T11:10:43]:
- for compatibility with ealier Tcl versions, esp. v8.0:
- replaced all [string equal ...] with [string compare ...]==0
- use [string totitle ...] only for v8.3, else user tolower&toupper
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.17, 2000-11-18T20:18:58]:
- fix for WIN32:
- allocate memory for VBI buffer statically instead of malloc
    since it's allocated right at start anyway and kept until the end
epgdb/epgdbsav.c [rev:1.20, 2000-11-18T20:22:17]:
- fix for WIN32 in EpgDbReloadScan()
- missed DUMP_NAME_TMP
- convert file names to lower case for directory search
epgctl/epgacqctl.c [rev:1.23, 2000-11-18T20:26:18]:
- small fixes for WIN32: added #if branches
epgctl/epgmain.c [epgui/epgmain.c, rev:1.38, 2000-11-18T20:27:49]:
- added eval_global()
- same as eval_check, but uses Tcl_GlobalEval
- simplifies use of global vars in C functions called by Tcl procs
    else the Tcl proc would have to declare the var global
- for WIN32:
- added #ifdef for -dbdir handling (not needed)
- changed main API to allow stanadlone compilation
    (before the API was for a sub-thread inside a larger application)
epgctl/epgmain.h [epgui/epgmain.h, rev:1.12, 2000-11-18T20:30:07]:
- added decl for eval_global()
epgui/menucmd.c [rev:1.18, 2000-11-18T20:30:30]:
- fixed startup: for WIN32
- index for "Provider scan" is no longer 1; use string match instead
epgui/pilistbox.c [rev:1.28, 2000-11-18T20:31:22]:
- fix in PiListBox_InsertItem() for WIN32
- use global vars for cursor colors instead of numeric constants
    since WIN32 Tcl uses darker bg color, hence cursor colors are
    different for UNIX and WIN32
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.43, 2000-11-18T20:32:48]:
- fixed listbox cursor color and font sizes for windows
- base font for WIN32 is 15pt instead of 12 pt for Linux
- bg color is darker on WIN32 -> global vars for cursor col
epgdb/epgdbmerge.c [rev:1.4, 2000-11-18T22:48:37]:
- bugfix: missing xfree() in EpgDbMerge() when db open failed
www/index.html [rev:1.8, 2000-11-27T18:38:10]:
- added note that Windows will be supported soon
- removed "Linux" from title and header
- removed blanks between META keywords
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.44, 2000-11-30T21:48:31]:
- removed acq mode manual: identical to cycle with 1 provider
epgvbi/btdrv4win.c [rev:1.1, 2000-12-02T09:52:19]:
- Initial revision
epgvbi/btdrv.h [rev:1.1, 2000-12-02T09:52:21]:
- Initial revision
epgvbi/windrvr.h [rev:1.1, 2000-12-02T09:52:32]:
- Initial revision
epgvbi/windrvr_usb.h [rev:1.1, 2000-12-02T09:52:35]:
- Initial revision
epgctl/debug.c [rev:1.7, 2000-12-02T09:54:10]:
- fix for WIN32
epgctl/epgacqctl.c [rev:1.24, 2000-12-02T09:55:39]:
- removed almost all exceptions for WIN32
- win32 now fully supported
- interface to vbidecode identical to Linux
- removed acq mode "manual" - identical to cycle with length=1
- the fomer mode cyclic_near is now called manual
epgctl/epgacqctl.h [rev:1.14, 2000-12-02T09:57:19]:
- removed acq mode "manual" - identical to cycle with length=1
- the fomer mode cyclic_near is now called manual
epgctl/mytypes.h [rev:1.7, 2000-12-02T09:58:34]:
- added #define DEBUG_SWITCH_VBI for vbidecode and btdriver
tcl2c.c [rev:1.1, 2000-12-02T11:12:52]:
- Initial revision
tcl2c.c [rev:1.2, 2000-12-02T11:13:58]:
- fixed for WIN32
- switch __CYGWIN__ is equivalent to WIN32
- append 0 byte to char array
- declare array unsigned to avoid warning for non-ASCII chars
- check for 0 bytes in input file & replace with blank (just to be sure)
epgctl/epgmain.c [epgui/epgmain.c, rev:1.39, 2000-12-02T11:17:01]:
- full support for WIN32
- added switch USE_PRECOMPILED_TCL_LIBS to compile Tcl/Tk init scripts
    into the binary; Tk_Init() error must be ignored since it will not
    find its scripts
- use yet another variant of InitLTO that works without extern daylight
- added SetWindowsIcon() to set icon in window title and task bar
    not needed if ICON_PATCHED_INTO_DLL defined
- added SetArgv() to parse command line arguments
    (this is not done by the shell as in UNIX)
- added tabs to help output to display properly in proportional fonts
    also suppressed unsupported option -display for WIN32
    msg is displayed in MessageBox() as stdout is not available for Win API
- main: removed restrictions for WIN32, particularily all cmd line options
    except -display are suppored now
- clock is now displayed instantly
epgvbi/vbidecode.c [rev:1.20, 2000-12-02T11:17:44]:
- fixed for full WIN32 support
- API to above layers is identical for WIN32 and Linux
- WIN32 uses btdriver module instead of Linux bttv driver
    but functionality is the same
epgvbi/vbidecode.h [rev:1.12, 2000-12-02T11:19:50]:
- fixed for full WIN32 support
- API to above layers is identical for WIN32 and Linux
Makefile [rev:1.15, 2000-12-02T11:49:53]:
- for Win32 automatically invoke separate makefile
- moved dependencies into separate file MAkefile.dep
- define list of C sources without extensions
    generate $(OBJS) and $(SRCS) from that list
- added -O to tcl2c
man2help.tcl [pod2help.pl, rev:1.5, 2000-12-02T11:53:20]:
- start one chapter earlier, with OPTIONS since this is the only place
    where windows users can read about the command line options
- replace backslashes in front of dashes (-) too; needed for OPTIONS
epgdb/epgblock.c [rev:1.26, 2000-12-02T11:55:06]:
- fix for time decoding:
- tm_isdst must be set to -1 to force mktime() to determine daylight
    this holds true for all platforms
- then must also substract daylight from mktime() result
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.18, 2000-12-02T11:58:07]:
- added full support for WIN32 -> removed almost all #ifdef
epgdb/epgdbfil.h [rev:1.13, 2000-12-02T11:59:02]:
- fixed type of timeBegin and timeEnd to time_t in filter context
epgdb/epgdbsav.c [rev:1.21, 2000-12-02T12:00:07]:
- fixed EpgDbReloadScan() for Win32: did not use -dbdir path
- fixed type of now from ulong to time_t in AddPi
epgui/pilistbox.c [rev:1.29, 2000-12-02T12:02:00]:
- bugfix PiListBox_UpdateState()
- scrollbar must only be reset to [0,1] when in error state
epgui/statswin.c [rev:1.21, 2000-12-02T12:03:19]:
- bugfix StatsWin_BuildCanvas()
- did call wm resizable on . instead of child
- for WIN32 this resulted in a complete rebuild of the main win
    (and possibly a fallback to the Tk default window icon)
- bugfix StatsWin_HighlightNetwop(): must use eval_global for $default_bg
epgui/pifilter.c [rev:1.28, 2000-12-02T12:05:30]:
- fix for SelectSortCrits()
- use separate argv array to parse sortcrits list
epgui/menucmd.c [rev:1.19, 2000-12-02T12:08:02]:
- ProvWin_Exit(): improved to keep silent if empty CNI string is given
- ToggleAcq: no warning message on WIN32 upon failure
- removed acq mode "manual" - i identical to cycle with length=1
    the former mode cyclic-near is now called manual
- WIN32 support
- added hardware configuration popup .hwcfg
    C_HwCfgGetInputList(), C_HwCfgGetTunerList(), C_UpdateHardwareConfig()
- added timezone configuration popup
    XXX still read-only, i.e. set function is missing
    added C_GetTimeZone()
epgui/menucmd.h [rev:1.5, 2000-12-02T12:11:05]:
- added SetHardwareConfig(): called at startup to initialize btdriver module
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.45, 2000-12-02T14:22:23]:
- new proc for creation of popup windows: CreateTransientPopup
- Win32 Tk version 8.3 does not need bigger font sizes anymore
- improved PI Popup esp. for Win32: use tabs and default_bg
- help window: moved scrollbar to the right window border
- EPG scan: warnings for WIN32 if hardware not configured
    or tuner not input source
- added .hwcfg popup for WIN32
    added hwcfg to rc/ini file
- added .timezone popup
epgvbi/bt848.h [dsdrv/bt8x8_reg.h, rev:1.1, 2000-12-02T18:12:30]:
- Initial revision
epgctl/epgacqctl.c [rev:1.25, 2000-12-02T18:19:25]:
- resolved data type conflicts (warnings from MVC compiler)
- EpgAcqCtl_GetDbState(): added state EPGDB_PREFILTERED_EMPTY
- PI might be in the db, but not displayed even after filter reset
- must display help message
epgctl/epgacqctl.h [rev:1.15, 2000-12-02T18:20:56]:
- added db state EPGDB_PREFILTERED_EMPTY
- resolved data type conflicts (warnings from MVC compiler)
epgvbi/vbidecode.c [rev:1.21, 2000-12-02T18:21:26]:
- resolved data type conflicts (warnings from MVC compiler)
epgdb/epgblock.c [rev:1.27, 2000-12-02T18:22:25]:
- resolved data type conflicts (warnings from MVC compiler)
epgdb/epgdbfil.c [rev:1.20, 2000-12-02T18:22:25]:
- resolved data type conflicts (warnings from MVC compiler)
epgdb/epgdbif.c [rev:1.18, 2000-12-02T18:22:25]:
- resolved data type conflicts (warnings from MVC compiler)
epgdb/epgdbif.h [rev:1.13, 2000-12-02T18:22:25]:
- resolved data type conflicts (warnings from MVC compiler)
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.19, 2000-12-02T18:22:25]:
- resolved data type conflicts (warnings from MVC compiler)
epgdb/epgdbmgmt.c [rev:1.21, 2000-12-02T18:22:59]:
- resolved data type conflicts (warnings from MVC compiler)
epgdb/epgstream.c [rev:1.9, 2000-12-02T18:22:59]:
- resolved data type conflicts (warnings from MVC compiler)
epgdb/epgstream.h [rev:1.10, 2000-12-02T18:22:59]:
- resolved data type conflicts (warnings from MVC compiler)
epgdb/epgtxtdump.c [epgui/dumpraw.c, rev:1.10, 2000-12-02T18:22:59]:
- resolved data type conflicts (warnings from MVC compiler)
epgvbi/hamming.c [rev:1.4, 2000-12-02T18:23:15]:
- resolved data type conflicts (warnings from MVC compiler)
- made parity and hamming tables uchar again
- all users should cast to schar for check < 0
epgvbi/hamming.h [rev:1.4, 2000-12-02T18:23:15]:
- resolved data type conflicts (warnings from MVC compiler)
- made parity and hamming tables uchar again
- all users should cast to schar for check < 0
epgui/menucmd.c [rev:1.20, 2000-12-02T18:24:19]:
- resolved data type conflicts (warnings from MVC compiler)
epgui/pifilter.c [rev:1.29, 2000-12-02T18:26:17]:
- PiFilter_UpdateNetwopList(): call PiListBox_UpdateState()
- in case db has become empty
epgui/pilistbox.c [rev:1.30, 2000-12-02T18:26:40]:
- PiListBox_UpdateState(): added db state EPGDB_PREFILTERED_EMPTY
- resolved data type conflicts (warnings from MVC compiler)
epgdb/epgdbmerge.c [rev:1.5, 2000-12-02T19:21:39]:
- resolved data type conflicts (warnings from MVC compiler)
epgctl/mytypes.h [rev:1.8, 2000-12-03T18:56:35]:
- added debug switch DEBUG_SWITCH_TCL_BGERR
epgui/pilistbox.c [rev:1.31, 2000-12-03T18:57:13]:
- PiListBox_UpdateState(): clear shortinfo box when in error state
epgui/menucmd.c [rev:1.21, 2000-12-03T18:57:56]:
- MenuCmd_StartEpgScan(): focus grab moved here
- focus is now not grabbed until the scan is started
- this is neccessary for the Help button
    else the help window could not be used
man2help.tcl [pod2help.pl, rev:1.6, 2000-12-03T20:01:06]:
- added set helpIndex for all chapters
- build array of chapter names for access from help buttons in popups
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.46, 2000-12-03T20:09:19]:
- unified Ok/Abort cmd handling in all popups
    + order is: first Help, Abort, Ok.
    + -width 5 for all buttons
- added help buttons to all popups: select chapter and subheading
- additional parameter to proc PopupHelp: to bring subheading into view
- up/down arrows in buttons instead of text in shortcut popup
- fixed position of "delete" button in netsel popup
- added Tcl/Tk version to about popup
nxtvepg.1x [nxtvepg.pod, rev:1.15, 2000-12-04T18:22:23]:
- started adding doc for Win32 specifics
epgdb/epgblock.h [rev:1.16, 2000-12-04T18:23:28]:
- fixed comments for EPGDB_BLOCK pNextBlock, pPrevBlock
epgctl/epgmain.c [epgui/epgmain.c, rev:1.40, 2000-12-04T18:35:53]:
- added debug switch DEBUG_SWITCH_TCL_BGERR
- when OFF, suppress popups about Tcl/Tk background errors
- when ON, use proc bgerror to report foreground errors too
    (esp. useful on Windows where stderr is not connected to the tty)
- bugfix timer handlers:
- handle was saved only in main, but not upon re-creation in
    timer event functions
- moved initial call to clock handler in front of "update" loop
- this avoids the delay until the clock is displayed
epgvbi/vbidecode.c [rev:1.22, 2000-12-09T13:47:38]:
- moved Linux specific stuff to btdrv4linux
- in parallel btdrv4win offers the same functionality for Win32 systems
- moved channel list and handling to tvchan.c
epgvbi/tvchan.c [rev:1.1, 2000-12-09T14:03:38]:
- Initial revision
epgvbi/tvchan.h [rev:1.1, 2000-12-09T14:03:40]:
- Initial revision
epgvbi/vbidecode.c [rev:1.23, 2000-12-09T16:50:11]:
- reformatted with indent(1)
- removed tabs
- indentation with 3 bytes
epgvbi/vbidecode.h [rev:1.13, 2000-12-09T16:50:51]:
- moved Linux specific stuff to btdrv4linux
- in parallel btdrv4win offers the same functionality for Win32 systems
- moved channel list and handling to tvchan.c
epgvbi/btdrv.h [rev:1.2, 2000-12-09T17:10:58]:
- file renamed from btdriver.h to btdrv.h
- now serves both for Win32 and Linux Bt848 driver interfaces
- added struct EPGACQ_BUF, formerly in epgdbacq.h
    avois that the drivers have to include epgdbacq.h
epgvbi/btdrv4linux.c [rev:1.1, 2000-12-09T17:14:03]:
- Initial revision
epgvbi/hamming.c [rev:1.5, 2000-12-09T17:14:55]:
- header moved from epgctl to epgvbi subdir
epgvbi/btdrv4win.c [rev:1.2, 2000-12-09T17:18:35]:
- renamed btdrv4win.c from btdriver.c
- driver works now identically as Linux driver
- upper layers use same i/f to win32 as to linux
- linux vbi briver moved from vbidecode to btdrv4linux
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.20, 2000-12-09T17:26:47]:
- hamming.h moved to epgvbi from epgdb subdir -> include path adapted
- pVbiBuf is now globally exported by btdrv4* modules
    epgdbacq module does no longer have a separate pointer
- all bt848 driver i/f funcs moved from vbidecode to btdrv
epgdb/epgdbacq.h [epgvbi/ttxdecode.h, rev:1.9, 2000-12-09T17:27:15]:
- struct EPGACQ_BUF moved to btdrv.h
- to avoid that btdrv has to include eogdbacq and epgblock
- func EpgDbAcqInit() decl changed
- does no longer get ptr pVbiBuf; is now global
epgdb/epgstream.c [rev:1.10, 2000-12-09T17:28:22]:
- hamming.h moved to epgvbi from epgdb subdir -> include path adapted
epgvbi/btdrv.h [rev:1.3, 2000-12-11T18:26:27]:
- added BtDriver_SetInputSource()
- changed BtDriver_Configure() params: removed input source
epgvbi/btdrv4linux.c [rev:1.2, 2000-12-11T18:27:03]:
- added module description
- added BtDriver_SetInputSource()
- replaces functionality of BtDriver_TuneOpen()
epgvbi/btdrv4win.c [rev:1.3, 2000-12-11T18:29:49]:
- added BtDriver_SetInputSource()
- removed WinDriver version check - display warning only
- changed BtDriver_Configure() params: removed input source
epgdb/epgdbmerge.c [rev:1.6, 2000-12-11T18:32:49]:
- make use of epgctxctl module to open acq dbs
epgdb/epgblock.h [rev:1.17, 2000-12-11T18:35:35]:
- changed EPGDB_CONTEXT_STRUCT
- added pointer to link all contexts together
- added reference counter
epgctl/epgacqctl.h [rev:1.16, 2000-12-11T18:37:03]:
- moved Open/Close db to new module: epgctxctl
- added EpgAcqCtl_SetInputSource() - not yet implemented
epgctl/epgmain.c [epgui/epgmain.c, rev:1.41, 2000-12-11T18:37:51]:
- split off btdrv from vbidecode -> adapted func names
- cmd line option -card: use integer index instead of char postfix
- GUI clock: compute localtime in C instead of Tcl/Tk
- initial db is now opened in menucmd module instead of here
- VBI init split up: first module init, then (after GUI init) drv configure
epgctl/epgacqctl.c [rev:1.26, 2000-12-11T18:43:06]:
- moved Open/Close db funcs to new module: epgctxctl
- split off btdrv from vbidecode -> adapted func names
- split off tvchan from vbidecode -> adapted func names
epgui/menucmd.h [rev:1.6, 2000-12-11T18:48:41]:
- added OpenInitialDb(): functionality moved here from main()
- SetHardwareConfig() now available for Linux also
epgui/menucmd.c [rev:1.22, 2000-12-11T18:50:22]:
- revamped provwin popup
    uses generic funcs now: MenuCmd_GetServiceNameAndNetwopList(),
    MenuCmd_GetCurrentDatabaseCni(), MenuCmd_GetProvCnisAndNames()
- added OpenInitialDb(): functionality moved here from main()
- added MenuCmd_GetTvCardList() for hwcfg popup
- added param cardIdx to MenuCmd_GetInputList()
- changed SetHardwareConfig(): input source now passed to epgacqctl
    instead of HwConfig func
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.47, 2000-12-11T19:03:18]:
- hardware config popup now available for Linux platform too
- revamped provwin popup: uses generic C funcs now
- bugfix proc UpdateNetwopFilterBar: for new CNIs not CNI was added
    but its netwop name
- provmerge: added consistancy check before merge start
Makefile [rev:1.16, 2000-12-11T19:09:21]:
- new directory epgvbi: moved vbidecode and hamming here
- split off btdrv4linux and tvchan from vbidecode, added to epgvbi
nxtvepg.1x [nxtvepg.pod, rev:1.16, 2000-12-11T19:11:03]:
- fix in FILES section:
- default devices no longer used, only /dev/vbi0 etc.
Makefile.win32 [rev:1.1, 2000-12-11T19:11:48]:
- Initial revision
epgui/tkwinico.rc [rev:1.1, 2000-12-11T19:12:44]:
- Initial revision
>>>>>>>>>>>>>>>>>>>>>>>>>>> LABEL_WIN32_PORT <<<<<<<<<<<<<<<<<<<<<<<<<<<
epgdb/epgblock.h [rev:1.18, 2000-12-13T18:40:27]:
- BI block is no longer added to the db
- instead only the app ID is saved in the context (or dump header)
- this simplifies the acq state machines
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.21, 2000-12-13T18:41:55]:
- BI block is no longer added to the db
- instead only the app ID is saved in the context (or dump header)
- BI callback result is ignored; BI block is always discarded
epgdb/epgdbif.c [rev:1.19, 2000-12-13T18:42:31]:
- BI block is no longer added to the db
-> removed EpgDbGetBi()
epgdb/epgdbif.h [rev:1.14, 2000-12-13T18:42:31]:
- BI block is no longer added to the db
-> removed EpgDbGetBi()
epgdb/epgdbmgmt.c [rev:1.22, 2000-12-13T18:42:55]:
- BI block is no longer added to the db
- instead only the app ID is saved in the context (or dump header)
- this simplifies the acq state machines
epgdb/epgdbsav.c [rev:1.22, 2000-12-13T18:43:17]:
- BI block is no longer added to the db
- instead only the app ID is saved in the context (or dump header)
- this simplifies the acq state machines
- also: corrected/improved func names in debug statements
epgdb/epgdbsav.h [rev:1.14, 2000-12-13T18:43:49]:
- BI block is no longer added to the db
- instead only the app ID is saved in the context (or dump header)
epgdb/epgtxtdump.c [epgui/dumpraw.c, rev:1.11, 2000-12-13T18:44:19]:
- BI block is no longer added to the db
- instead only the app ID is saved in the context (or dump header)
-> txt dump does no longer output BI block
- instead the user can choose PI and obsolete/expired PI separately
epgdb/epgtxtdump.h [epgui/dumpraw.h, rev:1.8, 2000-12-13T18:45:01]:
- BI block is no longer added to the db
-> txt dump does no longer output BI block
- instead the user can choose PI and obsolete/expired PI separately
epgdb/epgdbmerge.c [rev:1.7, 2000-12-13T18:45:22]:
- BI block is no longer added to the db
-> removed EpgDbMergeBiBlocks()
epgui/pifilter.c [rev:1.30, 2000-12-13T18:46:44]:
- removed assignment to Tcl var EPG_VERSION
- this is now done much sooner, in ui init
epgui/menucmd.c [rev:1.23, 2000-12-13T18:47:37]:
- straightened SetControlMenuStates()
- acq and ui db context pointers are no longer compared
    only the context CNI is acquired through them
- use menu item labels instead of indices when setting the item state
- db dump:
- BI block is no longer added to the db
- instead the user can choose PI and obsolete/expired PI separately
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.48, 2000-12-13T18:50:10]:
- BI block is no longer added to the db -> removed from dbdump popup
    instead the user can choose PI and obsolete/expired PI separately
- fix: remove CNIs from no longer existant dbs from acqmode_selist
- add EPG_VERSION to rc/ini file
- UpdateRc: write file only if CNI is not already first in list
epgctl/epgacqctl.c [rev:1.27, 2000-12-13T19:11:28]:
- BI block is no longer added to the db
- instead only the app ID is saved in the context
- this simplifies the state machine: do not have to wait for BI in db
    (although the app ID is not saved before the 2nd acquisition, i.e.
    after a AI was received; but the app ID is not mandatory)
- bugfix AI callback:
- did lose tuner freq when reload for new CNI failed
- acq idle:
- moved check if acq is running here from main module
epgctl/epgmain.c [epgui/epgmain.c, rev:1.42, 2000-12-13T19:21:11]:
- bugfix: moved processing of DbSetDateTime & Acq events into main()
- reason: Tcl did execute idle events from deep, deep down the call stack,
    probably when waiting for windows to be destroyed by the server
- however the acq insert etc. funcs must NOT be called while other
    procedures are executed, e.g. an operation on the PI listbox must
    not be interrupted by yet another insert/delete!
- solution: just set a flag in the idle event handlers. the action
    is started from the main loop itself
epgvbi/btdrv4win.c [rev:1.4, 2000-12-17T18:36:57]:
- fixed includes for non-debug mode
- softened WinDriver version check: complain only if major version differs
epgdb/epgblock.c [rev:1.28, 2000-12-17T18:38:22]:
- added acqRepCount to EPGDB_BLOCK
epgdb/epgblock.h [rev:1.19, 2000-12-17T18:39:02]:
- added acqRepCount to EPGDB_BLOCK
- added acqTimestamp to EPGDB_BLOCK
epgdb/epgdbif.c [rev:1.20, 2000-12-17T18:39:38]:
- EpgDbGetStat: also compute network coverage variance for acq control
- new funcs: EpgDbResetAcqRepCounters and EpgDbGetNowCycleMaxRepCounter
epgdb/epgdbif.h [rev:1.15, 2000-12-17T18:40:31]:
- EpgDbGetStat: also compute network coverage variance for acq control
- new funcs: EpgDbResetAcqRepCounters and EpgDbGetNowCycleMaxRepCounter
epgdb/epgdbmgmt.h [rev:1.10, 2000-12-17T18:41:17]:
- added const to EPGDB_CONTEXT ptr params whereever possible
epgdb/epgdbmgmt.c [rev:1.23, 2000-12-17T18:41:46]:
- translated some comments to english
- added const to EPGDB_CONTEXT ptr params whereever possible
- maintain acqRepCount in EPGDB_BLOCK in EpgDbInsertPiBlock()
epgctl/epgversion.h [rev:1.4, 2000-12-17T18:47:50]:
- added EPG_VERSION_STR
- string can be defined freely here
- and is no longer fixed to %d.%d.%d
epgctl/epgmain.h [epgui/epgmain.h, rev:1.13, 2000-12-17T18:49:02]:
- epg_version_str is defined in epgversion.h now
epgctl/epgmain.c [epgui/epgmain.c, rev:1.43, 2000-12-17T18:49:40]:
- epg_version_str is defined in epgversion.h now
- syntax fix: added cast to Tcl_DoWhenIdle() param
- added SetAcquisitionMode() to main()
epgctl/debug.c [rev:1.8, 2000-12-17T18:50:33]:
- added #define for win32
- memchk: invalidate magic when freed
epgvbi/btdrv4dummy.c [rev:1.1, 2000-12-18T19:43:45]:
- Initial revision
www/index.html [rev:1.9, 2000-12-19T20:52:59]:
- improved keywords and description (taken from freshmeat)
- added 2nd screenshort for Windows with browser, timescale and acq stats
- added release date for 0.4.0 with Windows support
- added note about Tripod download page
- replaced 0.3.3.tar.gz with request for alpha testers for 0.4.0
epgdb/epgdbfil.c [rev:1.21, 2000-12-21T19:21:49]:
- added EpgDbFilterCopyContext()
- required for EpgAcqCtl_GetDbState(): needs prefilters only and has
    to unset all other filters
epgdb/epgdbfil.h [rev:1.14, 2000-12-21T19:21:49]:
- added EpgDbFilterCopyContext()
- required for EpgAcqCtl_GetDbState(): needs prefilters only and has
    to unset all other filters
epgdb/epgdbif.c [rev:1.21, 2000-12-21T19:22:56]:
- added counter sinceAcq: number of blocks that match acqMinTime creterium
- moved variances into the count struct
- use blockno compare for obsolete PI too, instead of stream no in block
epgdb/epgdbif.h [rev:1.16, 2000-12-21T19:24:06]:
- EpgDbGetStat(): moved variances into the count struct (was ptr param)
epgdb/epgblock.h [rev:1.20, 2000-12-21T19:27:53]:
- added sinceAcq, variance to EPGDB_COUNT (for EpgDbGetStat)
epgdb/epgdbmgmt.c [rev:1.24, 2000-12-21T19:28:37]:
- EpgDbCheckChains: improved version check for obsolete PI
epgdb/epgdbsav.c [rev:1.23, 2000-12-21T19:36:09]:
- added a lot of error checking to Reload and Peek
- new EpgDbReloadCheckAiBlock() checks AI internal consistancy (offsets)
- all add funcs return result code; abort upon error
- header check returns qualified result code
- reload loop: abort immediately upon error; check for bloc type order
- reload: API change: does no longer work on existing context
    mallocs ctx and returns ptr
- changed file header: added compat version and endian magic
epgdb/epgdbsav.h [rev:1.15, 2000-12-21T19:41:31]:
- Reload and Peek now return EPGDB_RELOAD_RESULT
- reload: API change: does no longer work on existing context
    mallocs ctx and returns ptr
epgui/pifilter.c [rev:1.31, 2000-12-21T19:48:40]:
- fix PiFilter_UpdateNetwopList():
- call PiListBox_UpdateState() at start of func to alow the listbox
    to switch to the acq db if the browser has no CNI yet
- when current db has no CNI reset window title
epgui/pilistbox.c [rev:1.32, 2000-12-21T19:53:03]:
- PiListBox_UpdateState():
- added new db state EPGDB_ACQ_OTHER_PROV
- if ui db is empty and acq db not, switch provider
epgdb/epgdbsav.c [rev:1.24, 2000-12-21T21:54:31]:
- EpgDbDumpUpdateHeader(): removed superfluous parameter *pDbContext
epgdb/epgdbsav.h [rev:1.16, 2000-12-21T21:54:31]:
- EpgDbDumpUpdateHeader(): removed superfluous parameter *pDbContext
nxtvepg.1x [nxtvepg.pod, rev:1.17, 2000-12-24T12:29:34]:
- added chapter about acquisition modes
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.49, 2000-12-24T12:38:01]:
- reworked about popup:
- put nxtv version and email on top
- below the Nextview logo disclaimer that author is no member of the ETSI
- demo mode: additionally disable TV input config
- acq mode popup
- added more cyclic modes: all permutations of Now,Next: on/off possible
- prov selection not resetted if already present,
    i.e. when change between different manual/cyclic modes
epgui/pilistbox.c [rev:1.33, 2000-12-24T12:43:04]:
- bugfix PiListBox_DbPreUpdate()
- did not check if the context is the same
epgdb/epgdbmerge.c [rev:1.8, 2000-12-24T13:34:57]:
- added EpgDbMergeAiServiceNames()
- create service name that contains the netwop names of all merged providers
- added EpgDbMergeGetCnis()
- retrieve list of merged CNIs for acq ctl in follow-ui mode
epgdb/epgdbmerge.h [rev:1.4, 2000-12-24T13:35:53]:
- added EpgDbMergeGetCnis()
- retrieve list of merged CNIs for acq ctl in follow-ui mode
epgctl/epgmain.c [epgui/epgmain.c, rev:1.44, 2000-12-25T13:42:13]:
- moved creation & check of dbdir into epgdbsav module
epgdb/epgdbsav.c [rev:1.25, 2000-12-25T13:42:53]:
- added EpgDbDumpCreateDir(): creates and checks dbdir for UNIX and WIN32
epgdb/epgdbsav.h [rev:1.17, 2000-12-25T13:43:10]:
- added EpgDbDumpCreateDir()
- changed uchort to unsigned short in header struct
- because uchort is not defined in mytypes.h
epgctl/debug.c [rev:1.9, 2000-12-25T13:46:48]:
- DebugLogLine():
- added param doHalt, as support for assert() macro
- changed name of output file to debug.out from EPG.LOG
- upon doHalt, abort on UNIX, bring MessageBox on Windows
epgctl/debug.h [rev:1.7, 2000-12-25T13:48:01]:
- changed assert: abort is now done inside DebugLogLine(TRUE)
- all debug macros changed, due to additional param FALSE to DebugLogLine
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.50, 2000-12-25T13:51:01]:
- fix acqmode popup:
- did not check if zero prov were selected for manual/cyclic modes
    when OK button was pressed
- added warning msg and refuse OK
epgui/menucmd.c [rev:1.24, 2000-12-25T13:54:30]:
- adapted to new interface for db reload fincs:
- EpgDbPeek() has new param pErrno to return cause for failure
- XXX this param is not used yet, TODO!
- EpgAcqCtl_UpdateProvider() changed to EpgAcqCtl_UiProvChange()
- also call EpgAcqCtl_UiProvChange() upon prov merge
- new acq modes: more variants for cyclic
- UpdateAcquisitionMode() fix:
- call PiListBox_UpdateState() to update help message if db is empty
epgvbi/btdrv.h [rev:1.4, 2000-12-26T15:51:26]:
- BtDriver_SetInputSource(): added param bool keepOpen
epgvbi/btdrv4linux.c [rev:1.3, 2000-12-26T15:51:56]:
- BtDriver_SetInputSource():
- added param bool keepOpen
- keeps /dev/video open only for tuner device
- modified mode hack: must not be used for non-tuner input source!?
epgvbi/btdrv4win.c [rev:1.5, 2000-12-26T15:53:08]:
- BtDriver_SetInputSource(): added dummy param bol keepOpen
epgctl/epgacqctl.c [rev:1.28, 2000-12-26T15:54:44]:
- BIG CHANGE: reworked acq state machine for new features
- now supports cyclic acquisition
- now supports non-tuner input source
- handles error states and recovers from /dev/video access failures
- complete state now packed in struct EPGACQCTL_STATE
epgctl/epgacqctl.h [rev:1.17, 2000-12-26T15:57:11]:
- BIG CHANGE: reworked acq state machine for new features
- complete state now packed in struct EPGACQCTL_STATE
- new enums: EPGACQ_PHASE, EPGACQ_PASSIVE, EPGSCAN_START_RESULT
- renamed/added acq modes: more cyclic modes
- diversified EPGDB_STATEs
- added cariance history array to stats struct
- added result values to hwcfg API funcs
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.51, 2000-12-26T16:03:06]:
- fix hwcfg popup: missing global for hwcfg_input_sel
epgui/menucmd.c [rev:1.25, 2000-12-26T16:04:54]:
- improved error result report for EpgAcqCtl_StartScan()
epgui/pilistbox.c [rev:1.34, 2000-12-26T16:08:37]:
- PiListBox_UpdateState(): new db state EPGDB_ACQ_NO_TUNER, others renamed
Makefile.win32 [rev:1.2, 2000-12-26T19:55:01]:
- added make depend
- required to split OBJS into CSRC and CGEN (generated C files)
- also required to split off include path def from CFLAGS
- fix: added -r to rm -rf WinRel
Makefile [rev:1.17, 2000-12-26T20:06:50]:
- updated LDLIBS
- removed onsolete tcl & tk libs (already commented out)
- added static libs for tcl/tk (commented out)
- updated INCS
- removed special path for Tcl/Tk (is now in /usr/include)
README [rev:1.7, 2000-12-26T20:23:40]:
- added description for Windows
- software requirements
- installation procedure
- added paragraph about proper bug reports
- improved intro, similar to index.html
man2help.tcl [pod2help.pl, rev:1.7, 2000-12-26T20:25:13]:
- changed first cahpter to be processed:
- now start with INSTRODUCTION (formerly called DESCRIPTION)
    instead of OPTIONS
nxtvepg.1x [nxtvepg.pod, rev:1.18, 2000-12-26T20:26:55]:
- reworked intro (formerly called DESCRIPTION)
    added stuff from index.html and README
- reworked Getting Started: describe mandatory configuration procedure
    (TV input cfg) and removed reference to xawtv
- Data Acquisition chapter: replaced description of active and
    passive modes with reference to acq modes
- some fixes in acq modes chapter
- added description for TV card input popup in Configure chaoter
- fixed formatting of Copyright
- added hint in which TV brands NExtview is available
CHANGES.version [rev:1.4, 2000-12-26T20:34:29]:
- version now kept centrally in epgversion.h
- added update instructions for web page
- added adaption for Makefile
- added instructions for WinDriver
CHANGES [rev:1.6, 2000-12-26T20:42:59]:
- release 0.4.pre0
TODO [rev:1.6, 2000-12-26T20:42:59]:
- release 0.4.pre0
README [rev:1.8, 2000-12-26T20:50:51]:
- added win32 sw requirement: windrvr.h
www/index.html [rev:1.10, 2000-12-29T18:51:10]:
- added pre-release 0.4.pre0
- added support for M$ Windows
- updated keywords and description
- updated Tripod download note
www/index.html [rev:1.11, 2000-12-29T18:52:42]:
- improved introduction: added more info about Nextview in general
    and its history
- added links to TV manuafacturers
- added first try at style sheets
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_4_PRE0 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgvbi/btdrv4linux.c [rev:1.4, 2000-12-28T21:08:55]:
- ported to NetBSD: merged changes from Mario
- different device names; separate device for tuner
- querying /dev/video for card and input source names unsupported
- fixed description
epgdb/epgblock.c [rev:1.29, 2000-12-30T15:18:05]:
- added support for NetBSD in block time conversion, submitted by Mario
epgui/statswin.c [rev:1.22, 2000-12-30T15:21:01]:
- added variance to acq stats output
- fix netwop highlighting in timescale win for prov changes
epgui/menucmd.c [rev:1.26, 2000-12-30T15:31:33]:
- suppress "TV card input" menu for NetBSD - not supported by driver
epgctl/epgacqctl.c [rev:1.29, 2000-12-30T15:35:18]:
- AiCallback: try to query tuner freq from driver if not already in db
    (does not work with the Linux bttv driver)
- bugfix: EpgAcqCtl_TuneProvider()
    missed BtDriver_CloseDevice() in case there was no freq in db
- removed #ifdef WIN32 from BtDriver_CloseDevice()
- removed obsolete code fragment for unexpected CNI change in AI callback
epgvbi/btdrv4dummy.c [rev:1.2, 2000-12-30T15:38:45]:
- added dummy for BtDriver_QueryChannel()
epgvbi/btdrv4win.c [rev:1.6, 2000-12-30T15:46:38]:
- added dummies for BtDriver_CloseDevice() and BtDriver_CheckDevice()
- added BtDriver_QueryChannel()
epgvbi/btdrv.h [rev:1.5, 2000-12-30T15:55:08]:
- added BtDriver_QueryChannel()
- plus 2 new elements in shared memory to pass this cmd to slave
- this is currently for NetBSD only; not supported by Linux driver
- BtDriver_CloseDevice() and BtDriver_CheckDevice() now for all platforms
epgvbi/btdrv4linux.c [rev:1.5, 2000-12-30T15:59:06]:
- added BtDriver_QueryChannel()
- this is currently for NetBSD only; not supported by Linux driver
- still, added support for this in acq main loop
- added dprintf() for each open/close of video device
- for debugging missing close
nxtvepg.pod [rev:1.19, 2000-12-30T18:51:04]:
- converted to Perl "POD" format
- renamed from nxtvepg.1x to nxtvepg.pod
pod2help.pl [rev:1.8, 2000-12-30T23:08:00]:
- rewritten in Perl for POD file format
- renamed to pod2help.pl from man2help.tcl
nxtvepg.pod [rev:1.20, 2000-12-31T12:41:26]:
- added description of new cmd line feature:
- can add a database file name after the options
- this is equivalent to -dbdir and -provider or -demo
epgctl/epgmain.c [epgui/epgmain.c, rev:1.45, 2000-12-31T12:42:34]:
- ParseArgv(): new feature
- can add a database file name after the options
- this is equivalent to -dbdir and -provider or -demo
epgdb/epgdbsav.c [rev:1.26, 2000-12-31T12:45:09]:
- added EpgDbDumpGetDirAndCniFromArg()
- parse database filename command line argument
- break it up in dbdir path and hex CNI
epgdb/epgdbsav.h [rev:1.18, 2000-12-31T12:45:09]:
- added EpgDbDumpGetDirAndCniFromArg()
- parse database filename command line argument
- break it up in dbdir path and hex CNI
epgdb/epgdbsav.c [rev:1.27, 2000-12-31T13:07:17]:
- bugfix dump filename scans:
- added %n to sscanf args to check if the complete file name matched
- else a name like nxtvdb-1xxx would have matched
Makefile [rev:1.18, 2000-12-31T13:49:41]:
- man page now maintained in POD format
- help and nroff manpage generated by Perl scripts
- Perl is not mandatory; if not available, files are just "touched"
    (but must already exist)
- epgui/help.tcl must NOT be removed during clean
epgui/pilistbox.c [rev:1.35, 2001-01-01T20:02:56]:
- PiListBox_UpdateInfoText(): added handling of short/long info for merged db
epgui/pilistbox.c [rev:1.36, 2001-01-01T20:05:23]:
- PiListBox_UpdateState()
- fix: must call PiFilter_UpdateNetwopList after switch to acq db
- added state EPGDB_WAIT_SCAN: during EPG scan
epgui/menucmd.c [rev:1.27, 2001-01-01T20:07:13]:
- call PiListBox_UpdateState() at start of EPG scan
- listbox then displays help msg "wait until scan has finished" if db is empty
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.52, 2001-01-01T20:07:50]:
- added bitmap for short info win
- horizontal line
- bitmap is inserted here manually from xbm file
- used as separator between descriptions of different provs in merged db
epgui/statswin.c [rev:1.23, 2001-01-01T20:09:01]:
- use macro PI_HAS_SHORT_INFO to determine if PI has short info
epgctl/epgacqctl.c [rev:1.30, 2001-01-01T20:13:31]:
- EpgAcqCtl_GetDbState(): added state EPGDB_WAIT_SCAN
- when no prov available and scan running
- when no PI in db and scan running
- EpgAcqCtl_AdvanceCyclePhase(): fixed for 3Sat
- added timeout when reception is ok, but no Now blocks received
- Now phase is aborted after 5 AI without Now PI
epgctl/epgacqctl.h [rev:1.18, 2001-01-01T20:16:04]:
- added db state EPGDB_WAIT_SCAN
- added NOWNEXT_TIMEOUT_AI_COUNT for Now cycle phase timeout handling
epgdb/epgblock.h [rev:1.21, 2001-01-01T20:16:46]:
- PI_BLOCK: removed elems title_, short_info_, long_info_length
- these were useless, because they only carried the original length
    before latin-1 conversion
- instead added macros PI_HAS_SHORT_INFO() and PI_HAS_LONG_INFO()
    to check if short/long info is present
- for PI consistancy check in epgdbsav module:
- PI_BLOCK uses #defined array sizes instead of constant 7 for themes
epgdb/epgdbfil.c [rev:1.22, 2001-01-01T20:19:24]:
- use macro PI_HAS_SHORT_INFO to determine if PI has short info
epgdb/epgtxtdump.c [epgui/dumpraw.c, rev:1.12, 2001-01-01T20:19:53]:
- use macro PI_HAS_SHORT_INFO to determine if PI has short info
epgdb/epgdbsav.h [rev:1.19, 2001-01-01T20:20:04]:
- increased DUMP_COMPAT version to current 0.4.1
- due to change of struct PI_BLOCK: removed title_length etc.
epgctl/epgacqctl.c [rev:1.31, 2001-01-01T21:42:37]:
- bugfix AI callback: tuner freq was not queried correctly in one if-branch
epgdb/epgblock.c [rev:1.30, 2001-01-02T18:05:50]:
- PI_BLOCK: removed elems title_, short_info_, long_info_length
- these were useless, because they only carried the original length
    before latin-1 conversion
- title string is now guaranteed to exist for every PI
    a 0-byte long string is generated if neccessary
epgdb/epgdbmerge.c [rev:1.9, 2001-01-02T18:07:24]:
- PI merge short/long info handling improved
- now add newline as separator between short and long info
- add form-feed between infos of different providers
- in the browser FF is replaced by a graphical separator
- also:
- removed title_, short_, and long_info_length from PI_BLOCK
- instead use macro PI_HAS_SHORT_INFO() et al. to check if present
epgdb/epgdbsav.c [rev:1.28, 2001-01-02T18:10:00]:
- added EpgDbReloadCheckPiBlock()
www/index.html [rev:1.12, 2001-01-03T20:28:33]:
- added style sheet
- added lang to <HTML> tag
- added link to German version
- added navigation bar; using table
- added robots META tag
- replaces all occurences of "Nextview" with "nexTView"
- updated link to bttv: replaced Metzler page with Knorr page
- added link to RPMfind.net
- removed German keywords
www/index-de.html [rev:1.1, 2001-01-03T20:41:49]:
- Initial revision
www/nxtvepg.css [rev:1.1, 2001-01-03T20:42:01]:
- Initial revision
README [rev:1.9, 2001-01-06T12:50:46]:
- added list of Windows btdrv error messages
- and greatly improved installation description
- added NetBSD software requirements
- improved bug reports chapter
- added note about uni-erlangen mail address
- slightly improved intro
epgctl/epgmain.c [epgui/epgmain.c, rev:1.46, 2001-01-06T14:06:47]:
- WIN32 fix: when db is given on command line, set working dir to that of argv0
epgvbi/btdrv4win.c [rev:1.7, 2001-01-06T14:08:09]:
- increased WinDrvr compatible version from 4.00 to 4.31
    since the driver aborts with "cannot lock card" with WinDrvr 4.00
- updated registry hack for WinDrvr >= 4.31 (from MultiDec 5.55)
- removed obsolete Win95 if-branch in Bt8x8_Open
    because there's no harm in opening the driver a 2nd time in WD_Open
- added explanations and reference to README.txt to all error message
epgvbi/btdrv4win.c [rev:1.8, 2001-01-07T19:48:49]:
- now compile with windrvr.h version 4.00 for backwards compatibility
    set WINDRVR_MIN_VERSION from 431 to 400
- fixed bugs for "passive" mode: input source and tuner are only
    set if expressly requested by the according config functions
    i.e. removed implicit sets in _Configre() and _Load()
- fixed bug in _Configure(): _Load() was called before _StartAcq()
    hence acquisition was not started because Initialized was already set!
epgvbi/windrvr.h [rev:1.2, 2001-01-07T19:53:49]:
- downgrade to version 4.00 from 4.32 for backwards compatibility
epgdb/epgdbsav.c [rev:1.29, 2001-01-07T19:58:10]:
- bugfix in AI and PI check funcs
- block size was too short in comparisons
- did not add BLK_UNION_OFF to block start
- fixed function name in debug statements in AiCheck
- AiCheck: added check of netwop name strings
- Reload: added new error type EPGDB_RELOAD_EXIST
- this error usually can be silently ignored
- old EPGDB_RELOAD_ACCESS error is only used for permission trouble now
epgdb/epgdbsav.h [rev:1.20, 2001-01-07T20:02:43]:
- added new reload error type EPGDB_RELOAD_EXIST
- added macro for reload error severity comparison: RELOAD_ERR_WORSE(X,Y)
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.53, 2001-01-07T20:06:17]:
- added -parent to tk_messageBox when the message relates to a popup
epgdb/epgdbsav.h [rev:1.21, 2001-01-08T18:25:52]:
- EpgDbReloadHeader(): improved error cause differentiation
-> added header struct OBSOLETE_EPGDBSAV_HEADER
epgdb/epgdbsav.c [rev:1.30, 2001-01-08T20:43:50]:
- EpgDbReloadHeader(): improved error cause differentiation
- endian check only detected if it's the revers endian magic
- else: additionally check it it's an old-version header,
    which did not have an endian entry
- fixed reload cause EPGDB_RELOAD_ACCESS
- added errno check in reload function
- before this was checked only in the Peek function
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.54, 2001-01-08T20:47:50]:
- proc UpdateRcFile: removed special handling of acq mode "passive"
- this is now saved just like any other acq mode
- reason: passive mode is needed already during startup when the tuner
    is set by a different app before nxtvepg is started
README [rev:1.10, 2001-01-09T19:30:01]:
- added explanation of btdrv4win Warning: no tuner found on Bt8x8 I2C bus
- lowered WinDriver required version from 4.31 to 4.00
- added note which MultiDec versions contain the driver: 3.5-5.5
- removed reference to manpage "Getting Started", since this now refers here
- removed explanation of warning "cannot lock IRQ"
- because I really don't understand what I'm talking about there
nxtvepg.pod [rev:1.21, 2001-01-09T19:32:51]:
- corrected explanation of db command line arg:
- working dir is set to dir of executable too
- improved "Getting started" for Windows
- added note how "passive" acq mode can be useful for Win32
- when the tuner type is not supported
- refer to README for installation problems
epgdb/epgdbmerge.c [rev:1.10, 2001-01-09T19:47:11]:
- Added handling of DB-Reload errors in new module uictrl.c
-> added param CTX_RELOAD_ERR_ACQ in call to EpgContextCtl_Open()
epgctl/epgacqctl.c [rev:1.32, 2001-01-09T19:48:18]:
- Added handling of DB-Reload errors in new module uictrl.c
- added param CTX_RELOAD_ERR_ACQ in all calls to EpgContextCtl_Open()
- call UiControlMsg_ReloadError() upon Peek errors
- call UiControlMsg_MissingTunerFreq() in UpdateProv
- bugfix: acqCtl.userMode was not initialized
- added assertions for valid acq mode states
- EpgAcqCtl_GetDbState():
- added parameter uint cni
- removed check if db is empty; is now done by the caller
- replaced PiFilter_UpdateNetwopList() with UiControlMsg_AiStateChange()
- fix EPG scan: repeat BtDriver_SetInputSource() after stop of acq
epgctl/epgacqctl.h [rev:1.19, 2001-01-09T19:52:40]:
- EpgAcqCtl_GetDbState(): added parameter uint cni
epgctl/epgmain.c [epgui/epgmain.c, rev:1.47, 2001-01-09T19:53:04]:
- restructured handling of non-Tk idle events (again)
- detection if Tcl is idle is now done correctly, by checking the result
    of Tcl_DoOneEvent(TCL_DONT_WAIT)
- sceduling of events is done in a queue instead of bools
- this is now used in GUI too when bg-messages or events are needed
- fixed addition from previous version of this file:
- win32 chdir set after db cmd line arg was syntactically broken
- Added handling of DB-Reload errors in new module uictrl.c
- added param CTX_RELOAD_ERR_ACQ in call to EpgContextCtl_Open() for demo db
- replaced PiListBox_UpdateState() with UiControl_AiStateChange()
epgctl/epgmain.h [epgui/epgmain.h, rev:1.14, 2001-01-09T19:57:58]:
- added AddMainIdleEvent()
epgui/menucmd.c [rev:1.28, 2001-01-09T20:00:52]:
- Added handling of DB-Reload errors in new module uictrl.c
- added param CTX_RELOAD_ERR_ACQ in all calls to EpgContextCtl_Open()
- call UiControlMsg_ReloadError() upon Peek errors
- moved browser db state change handling to uictrl.c:
- replaced PiFilter_UpdateNetwopList() with UiControl_AiStateChange()
- replaced PiListBox_UpdateState() with UiControl_CheckDbState()
- SetAcquisitionMode(): bugfix
- in error cases acq mode was not initialized
- now it's set to follow-ui
epgui/pifilter.c [rev:1.32, 2001-01-09T20:02:51]:
- Browser db AI state change handling moved to new module uictrl.c
- PiFilter_UpdateNetwopList() now really just handles the netwop filter list
epgui/pifilter.h [rev:1.5, 2001-01-09T20:05:13]:
- PiFilter_UpdateNetwopList() now has no params (no longer called as event)
epgui/pilistbox.c [rev:1.37, 2001-01-09T20:07:22]:
- Browser db AI state change handling moved to new module uictrl.c
- PiListBox_UpdateState() is now a child of UiControl_CheckDbState()
- switch to acq db when ui is empty is also done there
epgui/uictrl.c [rev:1.1, 2001-01-09T20:07:50]:
- Initial revision
epgui/uictrl.h [rev:1.1, 2001-01-09T20:08:56]:
- Initial revision
epgui/pilistbox.h [rev:1.6, 2001-01-09T20:09:55]:
- added param newDbState to PiListBox_UpdateState()
- PiListBox_UpdateState() is now a child of UiControl_CheckDbState()
epgui/statswin.c [rev:1.24, 2001-01-09T20:10:25]:
- use AddMainIdleEvent() instead of Tcl_DoWhenIdle()
- these events are only called directly from the main loop
- Tcl idle events can be called from deep down the stack, e.g. when the
    system waits for a window to be mapped or closed
epgctl/epgversion.h [rev:1.5, 2001-01-09T20:11:48]:
- set version from 0.4.pre0 to 0.4.pre1
epgui/menucmd.c [rev:1.29, 2001-01-09T20:26:59]:
- removed supression of "TV card input" menu for NetBSD - now supported by driver
epgvbi/btdrv4linux.c [rev:1.6, 2001-01-09T20:46:58]:
- added support for NetBSD for all features
- updated intro with remarks about NetBSD bktr driver problems
epgvbi/btdrv.h [rev:1.6, 2001-01-09T20:47:40]:
- added inputIndex to shm for NetBSD
- optimized preproc #ifdefs in shm struct
CHANGES [rev:1.7, 2001-01-09T20:48:24]:
- updated for release 0.4.pre1
Makefile [rev:1.19, 2001-01-09T20:48:44]:
- added new module epgui/uictrl.c
- fix: added nxtvepg.1x and man.html to rule for epgui/help.tcl
- determine EPG_VERSION automatically from pod file
Makefile.win32 [rev:1.3, 2001-01-09T20:50:35]:
- added new module epgui/uictrl.c
- man page now maintained in pod format
- adapted rule for epgui/help.tcl
- do not delete file generated from POD, since not all users have Perl
TODO [rev:1.7, 2001-01-09T20:51:23]:
- updated for release 0.4.pre1
epgctl/epgacqctl.c [rev:1.33, 2001-01-09T21:30:36]:
- fix: added check for EPG scan
- must not bring reload error messages during scan
- must not perform cycle advance during scan
-> use new errHand: CTX_RELOAD_ERR_NONE
epgui/uictrl.c [rev:1.2, 2001-01-09T21:32:14]:
- UiControlMsg_ReloadError(): ignore error if errHand == CTX_RELOAD_ERR_NONE
epgui/uictrl.h [rev:1.2, 2001-01-09T21:32:34]:
- added CTX_RELOAD_ERR_NONE
www/index-de.html [rev:1.2, 2001-01-17T17:48:27]:
- new release 0.4.pre1 (beta)
- added NetBSD support
- added "News" section to navigation bar
www/index.html [rev:1.13, 2001-01-17T17:49:14]:
- new release 0.4.pre1 (beta)
- added NetBSD support
- added "News" section to navigation bar
www/nxtvepg.css [rev:1.2, 2001-01-17T17:50:53]:
- added P.navhead for navigation table
- added margin above <H2>
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_4_PRE1 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgvbi/btdrv.h [rev:1.7, 2001-01-11T21:16:28]:
- added patch from Mario for NetBSD
- card and input source info of the card opened by the VBI slave is
    now put into shm and accessed there when GUI needs it
epgvbi/btdrv4linux.c [rev:1.7, 2001-01-11T21:16:28]:
- added patch from Mario for NetBSD
- card and input source info of the card opened by the VBI slave is
    now put into shm and accessed there when GUI needs it
epgui/menucmd.c [rev:1.30, 2001-01-11T21:18:02]:
- NetBSD: call BtDriver_ScanDevices() to fetch data for hwcfg popup
epgui/uictrl.c [rev:1.3, 2001-01-20T14:57:17]:
- bugfix UiControl_AiStateChange():
- UiControl_CheckDbState() must be called after prefilters were set
    or db might not be found as empty during startup
epgctl/epgacqctl.c [rev:1.34, 2001-01-20T15:32:27]:
- added EpgAcqCtl_DescribeAcqState() for stats win
- split "obsolete" count into expired and defective
- channel changes: always notify stats win
epgctl/epgacqctl.h [rev:1.20, 2001-01-20T15:34:55]:
- added EpgAcqCtl_DescribeAcqState() for stats win
- added enum ACQDESCR_STATE, struct EPGACQ_DESCR
epgctl/epgmain.c [epgui/epgmain.c, rev:1.48, 2001-01-20T15:38:14]:
- added WIN32 exception handling __try {} __except() {}
epgctl/epgmain.c [epgui/epgmain.c, rev:1.49, 2001-01-20T15:39:41]:
- regularily invoke StatsWin_UpdateDbStatusLine() every minute
epgdb/epgblock.h [rev:1.22, 2001-01-20T15:42:15]:
- struct EPGDB_CONTEXT:
- added time_t lastAiUpdate for acq description
- resorted members
- struct EPGDB_BLOCK_COUNT:
- split obsolete into expired and defective for stats win
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.22, 2001-01-20T15:42:47]:
- added EpgDbAcqEnableVpsPdc()
- VPS/PDC scan can be switched on during normal acq too, for stats win
- added flag pVbiBuf->doVpsPdc to shm
epgdb/epgdbacq.h [epgvbi/ttxdecode.h, rev:1.10, 2001-01-20T15:43:51]:
- added EpgDbAcqEnableVpsPdc()
epgdb/epgdbif.c [rev:1.22, 2001-01-20T15:49:09]:
- EpgDbGetStat()
- split obsolete into expired and defective for stats win
epgdb/epgdbmerge.c [rev:1.11, 2001-01-20T15:50:09]:
- EpgDbMergeAiUpdate(): set pUiDbContext->lastAiUpdate
epgdb/epgdbmgmt.c [rev:1.25, 2001-01-20T15:50:54]:
- EpgDbAddBlock(): set pUiDbContext->lastAiUpdate
epgdb/epgdbsav.c [rev:1.31, 2001-01-20T15:52:28]:
- replaced header.dumpDate with lastAiUpdate
epgdb/epgdbsav.h [rev:1.22, 2001-01-20T15:52:55]:
- replaced header.dumpDate with lastAiUpdate
- same in PEEK struct
epgui/pilistbox.c [rev:1.38, 2001-01-20T15:54:38]:
- reduced PIBOX_HEIGHT from 27 to 25
- to make place for db status line at the window bottom
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.55, 2001-01-20T16:13:47]:
- added db status line below the browser window
- added "Configure" menu entry to toggle status line visibility
- uses callback proc ToggleStatusLine
- added showStatusLine to rc file
- statistics window now available for ui and acq separately
- renamed procs from AcqStat_* to DbStatsWin_*
- widget name now as param $wname instead of constant .acqstat
- splitted "Control" menu entry "Acq Statistics..."
- changed cursor icon to "top left arrow" for listboxes
- changed cursor icon to "text" for short info win
- hardware config popup
- added 3rd PLL option for 35MHz
- updated copyright notice for 2001
epgui/menucmd.c [rev:1.31, 2001-01-20T16:15:26]:
- SetControlMenuStates()
- "Acq Statistics..." menu entry split for browser and acq db
- added calls to StatsWin_NewAi() and StatsWin_UpdateDbStatusLine()
- to update acq stat wins and db status line after cfg changes
epgui/statswin.c [rev:1.25, 2001-01-20T16:31:22]:
- split DB stats window for browser db and acq (similar to timescale wins)
- added more acq info to statistics
- updated via timer, every 3 secs during acq start, min every 15 secs
- state is kept in strct dbStatsWinState[2]
- renamed Tcl procs from AcqStat_* to DbStatsWin_*
- timescale status line is updated in separate function
- added db status line below the browser window
- summarizes browser db and acq state
epgui/statswin.h [rev:1.6, 2001-01-20T16:32:08]:
- added StatsWin_UpdateDbStatusLine()
- new param StatsWin_NewAi( EPGDB_CONTEXT * usedDbc );
epgvbi/bt848.h [dsdrv/bt8x8_reg.h, rev:1.2, 2001-01-21T11:55:54]:
- added new defines for BT848_TGCTRL to support 35MHz PLL
- added new WD_Open error result BT8X8_OPEN_RESULT_PCI_SCAN
epgvbi/btdrv.h [rev:1.8, 2001-01-21T11:56:39]:
- BtDriver_Configure(): PLL arg now int instead of bool
- to support 35MHz PLL
epgvbi/btdrv4linux.c [rev:1.8, 2001-01-21T11:57:09]:
- pVbiBuf->isEpgScan renamed to pVbiBuf->doVpsPdc
- VPS/PDC can now be enabled indeneptly of EPG scan
epgvbi/btdrv4win.c [rev:1.9, 2001-01-21T12:06:58]:
- disabled registry hack by #if 0 for legal reasons
- added support for 35MHz PLL: replace bool INIT_PLL with int PllType
- updated PllInit() with Set_PLL() from MultiDec 5.5
    however 4 of the new register settings could not be used!?
- improved BT8X8_Open() error messages:
    new result code BT8X8_OPEN_RESULT_PCI_SCAN if no cards found at all
- improved NT driver start: copied from MultiDec 5.5
    esp. added check if driver already running, to not start it a 2nd time
    added debug() statements for all error branches during driver start
- call to VbiDecodeLine(): pVbiBuf->isEpgScan renamed ->doVpsPdc in btdrv.h
epgdb/epgdbmgmt.c [rev:1.26, 2001-01-21T12:07:44]:
- EpgDbSetDateTime() renamed to EpgDbExpire()
- returns TRUE when PI were expired and removed
epgdb/epgdbmgmt.h [rev:1.11, 2001-01-21T12:07:44]:
- EpgDbSetDateTime() renamed to EpgDbExpire()
- returns TRUE when PI were expired and removed
epgctl/epgmain.c [epgui/epgmain.c, rev:1.50, 2001-01-21T12:17:26]:
- added WinApiDestructionHandler() to catch Windows shutdown messages
- this currenlty requires a patch in the tk library!
epgctl/epgmain.c [epgui/epgmain.c, rev:1.51, 2001-01-21T12:19:13]:
- EpgContextCtl_SetDateTime() renamed to EpgContextCtl_Expire()
- now returns TRUE when PI are expired
-> call StatsWin_UpdateDbStatsWin() to update expired count and pie chart
epgctl/epgctxctl.c [rev:1.1, 2001-01-21T12:25:18]:
- Initial revision
epgctl/epgctxctl.h [rev:1.1, 2001-01-21T12:25:19]:
- Initial revision
epgctl/epgctxctl.c [rev:1.2, 2001-01-21T12:25:58]:
- changed between release 0.4.pre0 and 0.4.pre1 (forgotten checkin!)
- EpgContextCtl_Open(): added error handling by uictrl module
epgctl/epgctxctl.h [rev:1.2, 2001-01-21T12:27:47]:
- changed between release 0.4.pre0 and 0.4.pre1 (forgotten checkin!)
- EpgContextCtl_Open(): added error handling by uictrl module
epgctl/epgctxctl.c [rev:1.3, 2001-01-21T12:28:35]:
- EpgContextCtl_SetDateTime() renamed to EpgContextCtl_Expire()
- result of rename in epgdbmgmt module: EpgDbSetDateTime -> EpgDbExpire
- result now bool: TRUE when PI removed from db
epgctl/epgctxctl.h [rev:1.3, 2001-01-21T12:29:46]:
- EpgContextCtl_SetDateTime() renamed to EpgContextCtl_Expire()
- result of rename in epgdbmgmt module: EpgDbSetDateTime -> EpgDbExpire
- result now bool: TRUE when PI removed from db
images/line.xbm [rev:1.1, 2001-01-21T12:32:15]:
- Initial revision
images/nxtv_logo.xbm [rev:1.1, 2001-01-21T12:32:15]:
- Initial revision
images/pan_updown.xbm [rev:1.1, 2001-01-21T12:32:15]:
- Initial revision
images/ptr_down.xbm [rev:1.1, 2001-01-21T12:32:15]:
- Initial revision
images/ptr_up.xbm [rev:1.1, 2001-01-21T12:32:15]:
- Initial revision
epgvbi/btdrv4linux.c [rev:1.9, 2001-01-21T13:04:17]:
- added patch from Mario for NetBSD
- implement read timeout of 10 secs for /dev/vbi via ALRM signal
- fixes possible hangup after external TV app frees video device
epgctl/epgacqctl.c [rev:1.35, 2001-01-21T20:37:15]:
- EpgAcqCtl_GetDbState() fixed for merged db
- due to CNI 0x00ff state always was EPGDB_ACQ_OTHER_PROV
    even if one of the merged CNIs was in the acq CNI list
- added EpgAcqCtl_ScanIsActive()
- EpgAcqCtl_DescribeAcqState(): added passiveReason to output
epgctl/epgacqctl.h [rev:1.21, 2001-01-21T20:39:09]:
- added EpgAcqCtl_ScanIsActive()
- struct EPGACQ_DESCR: added passiveReason
epgui/uictrl.c [rev:1.4, 2001-01-21T20:41:56]:
- fix UiControl_AiStateChange()
- do not switch empty browser db to acq during scan
- previously the netwop list was loaded already during the scan
- now, no provider at all is automatically selected; the user must do this
epgui/statswin.h [rev:1.7, 2001-01-21T20:43:16]:
- added StatsWin_UpdateDbStatsWin()
- func is now called by main module when PI have expired
- number of expired PI and pie chart must eventually be updated
epgui/menucmd.c [rev:1.32, 2001-01-21T20:44:37]:
- bugfix ProvMerge_ParseConfigString()
- abort if CNI count is 0, or Merge module will SEGV
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.56, 2001-01-21T20:45:30]:
- DbStatsWin split into two frames & added pie chart to first frame
- fixed background color of browser status line for Win32
- bugfix .provmerge popup: refuse to merge 0 dbs
epgui/statswin.c [rev:1.26, 2001-01-21T20:47:36]:
- Statistics window split into two frames
- added pie chart to upper frame, reflects current block count percentages
- acq part is dynamically packed or unpacked
- acq stats output now built incrmentally, instead of one big sprintf
- added acq mode info
- added comments to other stats win funcs
- fixed status line for demo database
- plus other minor fixes in browser status line output
COPYRIGHT [rev:1.2, 2001-01-21T20:52:27]:
- updated copyright message for year 2001
README [rev:1.11, 2001-01-21T20:55:01]:
- updated Win32 SW requirements: windrvr from "R@dio.mp3"
- added Win32 error msg "PCI scan failed - no devices found"
- removed similar explanation from cardidx error msg
nxtvepg.pod [rev:1.22, 2001-01-21T20:57:16]:
- updated "Getting started" for Win32
- describe typical settings for Germany: Philips tuner, PLL 0 or 28MHz
- added known Win32 bug: possible blue screen
- updated copyright message for year 2001 & added NetBSD credits
CHANGES [rev:1.8, 2001-01-21T22:06:47]:
- updated for release 0.4.pre2
TODO [rev:1.8, 2001-01-21T22:07:21]:
- updated for release 0.4.pre2
epgctl/epgversion.h [rev:1.6, 2001-01-21T22:09:09]:
- set version to 0.4.pre2
www/index-de.html [rev:1.3, 2001-01-23T18:30:42]:
- update for release 0.4.pre2
- updated screenshort for linux; added series menu screenshot
- moved description of changes into separate document
- added note that driver from other apps can be used for win32
www/index.html [rev:1.14, 2001-01-23T18:30:42]:
- update for release 0.4.pre2
- updated screenshort for linux; added series menu screenshot
- moved description of changes into separate document
- added note that driver from other apps can be used for win32
www/changelog.html [rev:1.1, 2001-01-23T18:33:29]:
- Initial revision
www/man.html [rev:1.1, 2001-01-23T18:54:31]:
- Initial revision
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_4_PRE2 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgvbi/btdrv4win.c [rev:1.10, 2001-01-27T19:20:30]:
- fixed newline in two MessageBox texts
epgctl/epgacqctl.c [rev:1.36, 2001-01-27T20:01:48]:
- added warning when acq forced passive due to non-tuner input source
- fix: no warning about missing freq when non-tuner input source
- new forced passive reason: missing database (said "missing freq" before)
- moved acq history data into sub.struct EPGDB_HIST
epgctl/epgacqctl.h [rev:1.22, 2001-01-27T20:04:39]:
- changed EPGDB_STATS:
- moved acq history data into sub-struct EPGDB_HIST
- new forced passive reason: missing database (said "missing freq" before)
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.57, 2001-01-27T20:29:49]:
- changed font for tk_messageBox via option add: font font_pl2_bold
- proc DbStatsWin_PaintPie rewritten:
- added 2 new sections
- paint stream 1 & 2 areas completely
epgui/uictrl.c [rev:1.5, 2001-01-27T20:35:25]:
- added UiControl_AcqPassive() and UiControlMsg_AcqPassive()
epgui/uictrl.h [rev:1.3, 2001-01-27T20:35:44]:
- added UiControlMsg_AcqPassive()
epgui/menucmd.c [rev:1.33, 2001-01-27T20:36:59]:
- MenuCmd_UpdateHardwareConfig():
- call UiControl_CheckDbState() in case ui db is empty
- fix param to StatsWin_NewAi: acq ctx instead of ui
- SetControlMenuStates: allow acq stats even when ui and acq db are the same
epgui/statswin.c [rev:1.27, 2001-01-27T20:42:36]:
- fix StatsWin_ToggleDbStats():
- menu button was not unchecked when windows was destroyed via wm
- widget name was used in binding instead of "ui" and "acq"
- Db stats window update:
- added 2 new segments to pie chart
- fixed division by zero in many places
- new forced passive reason: ACQPASSIVE_NO_DB
- removed obsolete paint pie call during db stats setup
- history stats data moved into separate struct
epgctl/epgscan.h [rev:1.1, 2001-01-28T10:30:59]:
- Initial revision
epgctl/epgscan.c [rev:1.1, 2001-01-28T10:31:55]:
- Initial revision
epgctl/epgscan.c [rev:1.2, 2001-01-28T10:57:36]:
- improved stability: check if any ttx packets were received
- before skipping a channel due to BtDriver_IsVideoPresent() == FALSE
epgctl/epgscan.c [rev:1.3, 2001-01-28T11:05:31]:
- moved all static variables into struct EPGSCANCTL_STATE
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.58, 2001-01-28T11:19:18]:
- EPG scan moved into new module epgctl/epgscan.c
- added parameter <input source> to C_StartEpgScan()
- which is directly passed to epgscan module
Makefile [rev:1.20, 2001-01-28T11:24:56]:
- added new module epgctl/epgscan.c
epgui/uictrl.c [rev:1.6, 2001-01-28T11:31:10]:
- EPG scan moved into new module epgctl/epgscan.c
- include new header file
- renamed EpgAcqCtl_ScanIsActive() to EpgScan_IsActive()
epgui/statswin.c [rev:1.28, 2001-01-28T11:32:16]:
- EPG scan moved into new module epgctl/epgscan.c
- include new header file
- renamed EpgAcqCtl_ScanIsActive() to EpgScan_IsActive()
epgui/menucmd.c [rev:1.34, 2001-01-28T11:33:37]:
- EPG scan moved into new module epgctl/epgscan.c
- added parameter <input source> to C_StartEpgScan()
    which is directly passed to epgscan module
- include new header file epgscan.h
- scan interface uncs renamed EpgScan_* from EpgAcqCtl_*
epgctl/epgacqctl.h [rev:1.23, 2001-01-28T11:34:55]:
- moved EPG scan into separate module epgscan.c
-> removed type decls and if uncs
epgctl/epgacqctl.c [rev:1.37, 2001-01-28T11:37:25]:
- moved EPG scan into separate module epgscan.c
- query if scan is running via new func EpgScan_IsActive()
- added func EpgAcqCtl_ToggleAcqForScan() to en-/disable BI/AI cb handling
epgctl/epgscan.c [rev:1.4, 2001-01-28T11:41:35]:
- renamed scan interface funcs to EpgScan_* from EpgAcqCtl_*
epgctl/epgscan.h [rev:1.2, 2001-01-28T11:41:35]:
- renamed scan interface funcs to EpgScan_* from EpgAcqCtl_*
nxtvepg.pod [rev:1.23, 2001-01-31T18:25:48]:
- added paragraph in Getting Started about manual provider "scan"
- added status line to BAsic Browsing and Configure chapters
- split off new chapter Statistics from Acquisition
- added chapter Merged Databases
nxtvepg.pod [rev:1.24, 2001-02-02T18:31:59]:
- moved section STATISTICS behind ACQ MODES
- it was between DB-ACQ and ACQ-MODES, now it follows both
epgui/statswin.c [rev:1.29, 2001-02-02T19:33:45]:
- added temp workaround for merged db
- suppress NOW buttons in timescales
- suppress 0 values in db stats win, display msg instead
- added defective blocks to db stats win
- added expired block count separately for stream 1 & 2
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.59, 2001-02-02T19:45:56]:
- proc TimeScale_Create: suppress NOW boxes for merged dbs
- reference new help chapter from provmerge popup
- LoadRc: warn about nxtvepg version if newer
epgctl/epgmain.c [epgui/epgmain.c, rev:1.52, 2001-02-02T19:47:56]:
- ui init: set numeric EPG_VERSION_NO too, for version checks
epgctl/epgscan.c [rev:1.5, 2001-02-02T19:50:42]:
- count number of channels with sync found
- warn if none found, suggest TV card input configuration
epgdb/epgdbmerge.c [rev:1.12, 2001-02-02T19:53:29]:
- added module description
- set pDbContext->lastAiUpdate in initial merge
epgui/statswin.c [rev:1.30, 2001-02-02T20:48:21]:
- additional fix for merged db stats:
- timscale status line: do not display fill percentage (always 0%)
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.60, 2001-02-02T20:56:17]:
- optimized timescales NOW buttons
- now created as rect inside the canvas instead of button widget
epgui/pilistbox.c [rev:1.39, 2001-02-03T12:47:37]:
- PiListBox_UpdateInfoText(): improved merged descr handling
- split off merged info handling into new funcs
    PiListBox_SeparateMergedInfo() and PiListBox_UnifyMergedInfo()
- remove redundant strings
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.61, 2001-02-03T13:56:32]:
- removed removal of bindings from .all.pi.info.text
-> text widget can be scrolled per mouse and (more importantly)
     text can be copied into the scratch buffer
epgui/pilistbox.c [rev:1.40, 2001-02-03T13:58:11]:
- changed input handling of .all.pi.info.text
- bindings no longer removed
- instead widget disabled; just set to normal to remove/insert text
-> text widget can be scrolled per mouse and (more importantly)
     text can be copied into the scratch buffer
epgvbi/hamming.c [rev:1.6, 2001-02-03T20:28:37]:
- changed result type of UnHamParityArray() from void to ushort
- now returns number of parity errors
epgvbi/hamming.h [rev:1.5, 2001-02-03T20:28:37]:
- changed result type of UnHamParityArray() from void to ushort
- now returns number of parity errors
epgvbi/btdrv4win.c [rev:1.11, 2001-02-03T20:29:34]:
- fix BtDriver_StartAcq() for EPG scan:
- return TRUE if acq already running
- required to change from EPG scan back to acq
epgdb/epgtxtdump.c [epgui/dumpraw.c, rev:1.13, 2001-02-03T20:37:12]:
- bugfix EpgTxtDumpPi()
- print thme and sortcrit code 0 if the respective count is 0
- before random values were printed which made a comparison
    of dumps difficult
epgdb/epgblock.h [rev:1.23, 2001-02-03T20:53:20]:
- EPGDB_BLOCK: added origChkSum, origBlkLen, parityErrCnt
- for parity error control in epgdbmgmt
epgdb/epgdbsav.h [rev:1.23, 2001-02-03T20:54:48]:
- increased DUMP_COMPAT from 0.4.1 to 0.4.3
- due to addition of origChkSum, origBlkLen, parityErrCnt to EPGDB_BLOCK
- use type ushort for endianMagic instead of unsigned short
epgdb/epgstream.c [rev:1.11, 2001-02-03T20:56:10]:
- EpgStreamConvertBlock()
- initialize new vars in EPGDB_BLOCK: origChkSum, origBlkLen, parityErrCnt
- parity errors retrieved from UnHamParityArray() in EpgStreamCheckBlock()
epgdb/epgdbmgmt.c [rev:1.27, 2001-02-03T21:02:51]:
- added EpgDbCompareParityErrorCount()
- blocks are only replaced with the same version if less or equal number
    of parity errors
- implemented for PI and GENERIC, AI is still ToDo
epgctl/mytypes.h [rev:1.9, 2001-02-03T21:04:06]:
- added type ushort for Win32
epgctl/epgscan.c [rev:1.6, 2001-02-03T21:04:24]:
- improved 2 dprintf statements to debug channel skipping
epgui/uictrl.c [rev:1.7, 2001-02-03T21:05:53]:
- UiControl_ReloadError()
- improved message for CTX_RELOAD_ERR_ACQ
- suggest change of acq mode only for EPGDB_RELOAD_EXIST error
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.62, 2001-02-03T21:08:19]:
- proc DbStatsWin_PaintPie:
- changed color for missing PI from white to very light red/blue
- because stipples don't work on Windows
Makefile.win32 [rev:1.4, 2001-02-03T21:21:34]:
- added epgctl/epgscan.c
epgui/pilistbox.c [rev:1.41, 2001-02-04T11:22:40]:
- PiListBox_UnifyMergedInfo()
- made string comparison case-independant (for ASCII chars only)
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.23, 2001-02-04T20:11:56]:
- EpgDbAcqInitScan: reset additionally: ttxPkg stats and reader_idx
epgctl/epgacqctl.c [rev:1.38, 2001-02-04T20:14:32]:
- Ai callback:
- upon first reception of an AI for a provider pass the frequency
    to UiControlMsg_NewProvFreq() to store it in the rc/ini file
- this is for the new doRefresh mode in the EPG scan
epgctl/epgscan.c [rev:1.7, 2001-02-04T20:15:21]:
- Added slow and refresh modes
- EpgScan_Start() has additional params doSlow, doRefresh, freqTab
- new func EpgScan_SetSpeed() to change the speed while the scan is running
- tried to improve stability on weak channels -> new state WAIT_SIGNAL,
    split off from 50ms RESET state
- new state SCAN_STATE_WAIT_NI_OR_EPG to avoid wrong message if EPG
    syntax is found before NI (prov was always waited for and called "new")
- freq tab is stored in rc/ini file -> UiControlMsg_NewProvFreq()
- slow mode: all delays doubled, plus skip of video signal check
- added dprintf to allow debugging state machine
epgctl/epgscan.h [rev:1.3, 2001-02-04T20:21:32]:
- Added slow and refresh modes
- EpgScan_Start() has additional params doSlow, doRefresh, freqTab
- new func EpgScan_SetSpeed() to change the speed while the scan is running
- Tried to improve stability on weak channels
- new states WAIT_SIGNAL, split off from 50ms RESET state
- Fixed problem on TV5
- new state SCAN_STATE_WAIT_NI_OR_EPG to avoid wrong message if EPG
- syntax is found before NI (prov was always waited for and called "new")
epgui/uictrl.c [rev:1.8, 2001-02-04T20:22:35]:
- added UiControlMsg_NewProvFreq
- pass provider channel frequencies from acq ctl to Tcl
- freq are stored in rc/ini file in case dbs get lost
epgui/uictrl.h [rev:1.4, 2001-02-04T20:23:21]:
- added UiControlMsg_NewProvFreq()
- pass provider channel frequencies from acq ctl to Tcl
- freq are stored in rc/ini file in case dbs get lost
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.63, 2001-02-04T20:33:52]:
- EPG scan: added options "slow" and "refresh only"
- added checkbuttons to popup, below text widget
- added global prov_freqs, saved to rc/ini
- added proc UpdateProvFrequency: maintains list of provider frequencies
epgui/menucmd.c [rev:1.35, 2001-02-04T20:35:52]:
- EPG scan: added options "slow" and "refresh only"
- new func GetProvFreqTab() to fetch freq table from Tcl var prov_freqs
- new func MenuCmd_SetEpgScanSpeed() to toggle option "slow" during scan
- C_StartEpgScan: gets 2 additional params: isOptionSlow, isOptionRefresh
    and calls GetProvFreqTab() in case of refresh mode
- 4 additional params passed to EPG scan start func: slow and refresh mode
    flags plus frequency table and count
- refresh mode button must be dis-/enabled at start/stop of scan
nxtvepg.pod [rev:1.25, 2001-02-04T20:40:50]:
- added description of new EPG scan modes "slow" and "refresh"
- in CONFIGURATION and GETTING STARTED
epgdb/epgdbmerge.c [rev:1.13, 2001-02-04T21:11:34]:
- fix EpgDbMergeOpenDatabases()
- added param bool isForAcq
- selects appropriate error reporting mode for EpgContextCtl_Open()
- before all errors were reported as belonging to acq
    (even if acq was turned off)
epgdb/epgblock.c [rev:1.31, 2001-02-06T19:00:07]:
- Changed NI, MI, OI, LI and TI block access macros:
- xI_GET_HEADER(X) get pointer to block instead of &struct
- changed for consistancy with equivalent macros for AI and PI blocks
--> remove dereference (*) in all invocations of these macros
epgdb/epgblock.h [rev:1.24, 2001-02-06T19:00:07]:
- Changed NI, MI, OI, LI and TI block access macros:
- xI_GET_HEADER(X) get pointer to block instead of &struct
- changed for consistancy with equivalent macros for AI and PI blocks
--> remove dereference (*) in all invocations of these macros
epgdb/epgdbfil.c [rev:1.23, 2001-02-06T19:00:07]:
- Changed NI, MI, OI, LI and TI block access macros:
- xI_GET_HEADER(X) get pointer to block instead of &struct
- changed for consistancy with equivalent macros for AI and PI blocks
--> remove dereference (*) in all invocations of these macros
epgdb/epgtxtdump.c [epgui/dumpraw.c, rev:1.14, 2001-02-06T19:00:07]:
- Changed NI, MI, OI, LI and TI block access macros:
- xI_GET_HEADER(X) get pointer to block instead of &struct
- changed for consistancy with equivalent macros for AI and PI blocks
--> remove dereference (*) in all invocations of these macros
epgui/pifilter.c [rev:1.33, 2001-02-06T19:03:16]:
- Changed NI, MI, OI, LI and TI block access macros:
- xI_GET_HEADER(X) get pointer to block instead of &struct
- changed for consistancy with equivalent macros for AI and PI blocks
--> remove dereference (*) in all invocations of these macros
epgui/menucmd.c [rev:1.36, 2001-02-06T19:03:47]:
- C_GetServiceNameAndNetwopList renamed C_GetProvServiceInfos
- added OI header and message to provider selection popup
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.64, 2001-02-06T19:04:39]:
- C_GetServiceNameAndNetwopList renamed C_GetProvServiceInfos
- added OI header and message to provider selection popup
- provwin popup text widgets now export their selection
epgdb/epgdbsav.c [rev:1.32, 2001-02-06T19:06:02]:
- added OI block to EPGDBSAV_PEEK
-> new static func EpgDbPeekOi() called by EpgDbPeek()
epgdb/epgdbsav.h [rev:1.24, 2001-02-06T19:06:02]:
- added OI block to EPGDBSAV_PEEK
epgui/menucmd.c [rev:1.37, 2001-02-07T16:19:51]:
- restructured prov_freqs array:
- is now plain list with even number of elements -> pairs of CNI, freq
- instead of list of list -> simpler to parse in GetProvFreqTab()
epgui/pifilter.c [rev:1.34, 2001-02-07T16:38:44]:
- PiFilter_UpdateNetwopList()
- call UiControl_CheckDbState() after prefilters are set
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.65, 2001-02-07T16:39:29]:
- network selection: added "copy" menu
- allows to copy selection from other providers
epgui/statswin.c [rev:1.31, 2001-02-07T17:54:52]:
- fix: call DbStatsWin_ClearPie for merged db
- required for switch from orig to merged db while stats are open
epgdb/epgstream.c [rev:1.12, 2001-02-10T14:49:02]:
- tiny fix in EpgStreamCheckBlock(): declare errCnt ushort instead of uint
epgctl/epgmain.c [epgui/epgmain.c, rev:1.53, 2001-02-10T15:22:15]:
- added call to PiListBox_Destroy() during shutdown
- slight fixes in a few comments
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.66, 2001-02-10T15:23:11]:
- Browser listbox columns can now be configured by the user
- added frame with menu buttons above the browser text widget
- width of text widget no longer static, depends on width of header frame
- added config popup proc PopupColumnSelection
- save column config to rc/ini file
epgui/pilistbox.c [rev:1.42, 2001-02-10T16:00:12]:
- Browser listbox columns can now be configured by the user
- PiListBox_InsertItem() now is a loop across all configured columns
- added PiListBox_CfgColumns() to copy the column config from Tcl var
    called from PiListBox_Create() and after config change by the user
- added PiListBox_Destroy() to free the column list during shutdown
- moved definition of alphaNumTab to the start of the file
epgui/pilistbox.h [rev:1.7, 2001-02-10T16:02:07]:
- Browser listbox columns can now be configured by the user
- added typedef enum PIBOX_COL_TYPES
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.67, 2001-02-10T16:32:06]:
- fix: removed expand from pack .all.pi.list
- fix: ApplySelectedColumnList always called even if rc not loaded
- fix: increase width of the last header button to accomodate for text widget borderwidth
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.68, 2001-02-11T11:44:19]:
- Added drop-down menus to the listbox column headers
- put feature filter and theme menu creation into procs
    are now used both for regular filter menu and column drop-downs
- proc SubstrUpdateFilter: maintain history of searches
    added SubstrSetFilter to apply searches from history
- added new filter menu creation procs: FilterMenuAdd_Time,
    FilterMenuAdd_Date, FilterMenuAdd_Networks, FilterMenuAdd_TitleHead
- added substr history to rc/ini file
- slight fixes in column header and tab stop widths
epgui/pilistbox.c [rev:1.43, 2001-02-11T11:50:01]:
- added new func PiListBox_GotoTime()
- Jump to the first PI of the given start time
- This function is to be used by time and date navigation menus.
nxtvepg.pod [rev:1.26, 2001-02-11T19:32:34]:
- reworked description of network selection popup
README [rev:1.12, 2001-02-11T19:33:39]:
- restructured description of WinDrvr installation
- by hints from Mario's email
- added new source site: http://www.neuz.de/
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.69, 2001-02-13T17:52:48]:
- clumn header menu bar can now be suppressed by user config
- added entry to Configure menu "Show column headers"
- uses frame with height 0 to set the text widget width
- added showColumnHeader to rc/ini file
- fixed context menu filter settings
- filter were not set in the Tcl vars
- new proc SelectNetwopByIdx: gets AI netwop index
epgui/pifilter.c [rev:1.35, 2001-02-13T17:57:01]:
- bugfix context menu filter settings
- filter were not set in the Tcl vars
- new proc SelectNetwopByIdx: gets AI netwop index
- new proc SubstrSetFilter: gets pattern and flags
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.70, 2001-02-13T20:04:16]:
- browser listbox column width computation ported to Windows
- .all.pi.colheads.spacer lower, because scrollbar is less wide
- use frames to set width of header menu buttons (instead of setting
    width via char count)
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.71, 2001-02-14T20:26:17]:
- bugfix/workaround for dynamic menus on Windows
- on Windows menus never get unmapped -> unpost proc never executed
- all menus in the menubar including all submenus are posted
    immediately when any menubutton is invoked
  --> must not use complex dynamic menus on Windows
- split off Navigate and Series menus from menubar
- new proc PostSeparateMenu
- also:
  - global var $is_unix
  - globally renamed info command to info commands
epgui/pifilter.c [rev:1.36, 2001-02-14T20:29:48]:
- bugfix/workaround for dynamic menus on Windows
- do not destroy sub-menus before mapping the menu
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.72, 2001-02-14T21:05:12]:
- renamed colsel_selist to pilistbox_cols in the rc/ini file
- also renamed FilterMenuAdd_Title to FilterMenuAdd_TitleHead
epgctl/epgversion.h [rev:1.7, 2001-02-14T21:07:48]:
- set version to 0.4.3
- separate version string from Windows - start at 1.3
README [rev:1.13, 2001-02-14T21:09:53]:
- added note about tk83.dll patches
Makefile [rev:1.21, 2001-02-14T21:10:23]:
- added target "bak" to archive the software
CHANGES.version [rev:1.5, 2001-02-14T21:10:52]:
- added reminder to ci epgversion before making the dist
- else the wrong ident label will be compiled into the binary
Makefile [rev:1.22, 2001-02-14T21:18:12]:
- fix for epgversion with 2 separate EPG_VERSION_STR
- use head -1 to get UNIX version for manpage
nxtvepg.pod [rev:1.27, 2001-02-14T21:26:41]:
- added paragraphs about PI listbox column config
- and column header suppression
CHANGES [rev:1.9, 2001-02-14T21:30:18]:
- updated for release 0.4.3
TODO [rev:1.9, 2001-02-14T21:30:18]:
- updated for release 0.4.3
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.73, 2001-02-14T21:43:32]:
- changed default for pilistbox_cols:
www/index-de.html [rev:1.4, 2001-02-16T17:49:34]:
- update for release 0.4.3:
- removed beta release section
- instead created separate download section for Windows
- added separate download section for demo database
www/index.html [rev:1.15, 2001-02-16T17:49:34]:
- update for release 0.4.3:
- removed beta release section
- instead created separate download section for Windows
- added separate download section for demo database
www/changelog.html [rev:1.2, 2001-02-16T17:52:21]:
- update for release 0.4.3:
- added summary of new features between 0.3.4 and 0.4.3
- added changes between 0.4.pre2 and 0.4.3
www/man.html [rev:1.2, 2001-02-16T17:53:21]:
- update for release 0.4.3:
- see nxtvepg.pod for log history
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_4_3 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgvbi/btdrv4linux.c [rev:1.10, 2001-02-16T17:45:38]:
- removed unused variable "done" from BtDriver_ScanDevices()
- to avoid compiler warning (mail from Mario)
nxtvepg.pod [rev:1.28, 2001-02-19T20:45:16]:
- corrected order of control menu for timescale and stats toggle commands
- fleshed out description for timescales and statistics
- added description of possible use of Dump command
pod2help.pl [rev:1.9, 2001-02-21T19:31:22]:
- added comments
- generate new tag href for L<> to be used as hyperlink in help text
epgvbi/btdrv4linux.c [rev:1.11, 2001-02-21T19:37:05]:
- fixed BtDriver_SetInputSource()
- must not use vchan.norm = VIDEO_MODE_AUTO,
    is not compatible with old bttv driver versions
- extended norm-switch workaround for non-tuner inputs
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.74, 2001-02-21T19:41:56]:
- added hyperlinks to help texts via href tag
- new proc FollowHelpHyperlink as callback for href button press
epgvbi/tvchan.c [rev:1.2, 2001-02-25T14:27:17]:
- slight fixes in channel tables:
- added band descriptions from xawtv (CCIR)
- use channel numbering according to Grundig
- added channel 71 (S1)
- added Belgium channels 69.25MHz-101.25MHz)
- removed channel 112 (band CCIR H)
epgvbi/btdrv4linux.c [rev:1.12, 2001-02-25T15:01:00]:
- added detection of lost VBI frames (Linux only)
epgvbi/btdrv.h [rev:1.9, 2001-02-25T15:01:37]:
- added frame sequence number to struct EPGACQ_BUF
- for detection of dropped frames
epgvbi/vbidecode.c [rev:1.24, 2001-02-25T15:02:01]:
- added VbiDecodeLostFrame() - notification about dropped VBI frames
epgvbi/vbidecode.h [rev:1.14, 2001-02-25T15:02:18]:
- added VbiDecodeLostFrame() - notification about dropped VBI frames
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.24, 2001-02-25T15:02:49]:
- added EpgDbAcqLostFrame()
- notification about lost frames from BT driver
- executed inside the VBI slave proces/thread
- resets the TTX page decoder state machine
epgdb/epgdbacq.h [epgvbi/ttxdecode.h, rev:1.11, 2001-02-25T15:02:49]:
- added EpgDbAcqLostFrame()
- notification about lost frames from BT driver
- executed inside the VBI slave proces/thread
- resets the TTX page decoder state machine
epgctl/debug.c [rev:1.10, 2001-02-25T15:12:31]:
- changed malloc failure handling for Windows:
- first display a MEssageBox, since fprintf is invisible
- then terminate with SEGV instead of exit() to invoke exception handler
    (bt driver must be properly shut down)
epgvbi/bt848.h [dsdrv/bt8x8_reg.h, rev:1.3, 2001-02-25T15:59:43]:
epgvbi/btdrv.h [rev:1.10, 2001-02-25T15:59:43]:
epgvbi/btdrv4dummy.c [rev:1.3, 2001-02-25T15:59:43]:
epgvbi/btdrv4linux.c [rev:1.13, 2001-02-25T15:59:43]:
epgvbi/btdrv4win.c [rev:1.12, 2001-02-25T15:59:43]:
epgvbi/hamming.c [rev:1.7, 2001-02-25T15:59:43]:
epgvbi/hamming.h [rev:1.6, 2001-02-25T15:59:43]:
epgvbi/tvchan.c [rev:1.3, 2001-02-25T15:59:43]:
epgvbi/tvchan.h [rev:1.2, 2001-02-25T15:59:43]:
epgvbi/vbidecode.c [rev:1.25, 2001-02-25T15:59:43]:
epgvbi/vbidecode.h [rev:1.15, 2001-02-25T15:59:43]:
epgdb/epgblock.c [rev:1.32, 2001-02-25T16:00:45]:
epgdb/epgblock.h [rev:1.25, 2001-02-25T16:00:45]:
epgdb/epgdbfil.c [rev:1.24, 2001-02-25T16:00:45]:
epgdb/epgdbfil.h [rev:1.15, 2001-02-25T16:00:45]:
epgdb/epgdbif.c [rev:1.23, 2001-02-25T16:00:45]:
epgdb/epgdbif.h [rev:1.17, 2001-02-25T16:00:45]:
epgdb/epgdbmerge.c [rev:1.14, 2001-02-25T16:00:45]:
epgdb/epgdbmerge.h [rev:1.5, 2001-02-25T16:00:45]:
epgdb/epgdbmgmt.c [rev:1.28, 2001-02-25T16:00:45]:
epgdb/epgdbmgmt.h [rev:1.12, 2001-02-25T16:00:45]:
epgdb/epgdbsav.c [rev:1.33, 2001-02-25T16:00:45]:
epgdb/epgdbsav.h [rev:1.25, 2001-02-25T16:00:45]:
epgdb/epgstream.c [rev:1.13, 2001-02-25T16:00:45]:
epgdb/epgstream.h [rev:1.11, 2001-02-25T16:00:45]:
epgdb/epgtxtdump.c [epgui/dumpraw.c, rev:1.15, 2001-02-25T16:00:45]:
epgdb/epgtxtdump.h [epgui/dumpraw.h, rev:1.9, 2001-02-25T16:00:45]:
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.25, 2001-02-25T16:00:45]:
epgdb/epgdbacq.h [epgvbi/ttxdecode.h, rev:1.12, 2001-02-25T16:00:45]:
epgctl/mytypes.h [rev:1.10, 2001-02-25T16:02:26]:
- added typedef u32 for VBI frame sequence counter
epgctl/debug.c [rev:1.11, 2001-02-25T16:03:08]:
epgctl/debug.h [rev:1.8, 2001-02-25T16:03:08]:
epgctl/epgacqctl.c [rev:1.39, 2001-02-25T16:03:08]:
epgctl/epgacqctl.h [rev:1.24, 2001-02-25T16:03:08]:
epgctl/epgctxctl.c [rev:1.4, 2001-02-25T16:03:08]:
epgctl/epgctxctl.h [rev:1.4, 2001-02-25T16:03:08]:
epgctl/epgscan.c [rev:1.8, 2001-02-25T16:03:08]:
epgctl/epgscan.h [rev:1.4, 2001-02-25T16:03:08]:
epgctl/epgversion.h [rev:1.8, 2001-02-25T16:03:08]:
epgctl/mytypes.h [rev:1.11, 2001-02-25T16:03:08]:
epgctl/epgmain.c [epgui/epgmain.c, rev:1.54, 2001-02-25T16:03:08]:
epgctl/epgmain.h [epgui/epgmain.h, rev:1.15, 2001-02-25T16:03:08]:
epgui/menucmd.c [rev:1.38, 2001-02-25T16:03:47]:
epgui/menucmd.h [rev:1.7, 2001-02-25T16:03:47]:
epgui/pdc_themes.c [rev:1.5, 2001-02-25T16:03:47]:
epgui/pdc_themes.h [rev:1.3, 2001-02-25T16:03:47]:
epgui/pifilter.c [rev:1.37, 2001-02-25T16:03:47]:
epgui/pifilter.h [rev:1.6, 2001-02-25T16:03:47]:
epgui/pilistbox.c [rev:1.44, 2001-02-25T16:03:47]:
epgui/pilistbox.h [rev:1.8, 2001-02-25T16:03:47]:
epgui/statswin.c [rev:1.32, 2001-02-25T16:03:47]:
epgui/statswin.h [rev:1.8, 2001-02-25T16:03:47]:
epgui/uictrl.c [rev:1.9, 2001-02-25T16:03:47]:
epgui/uictrl.h [rev:1.5, 2001-02-25T16:03:47]:
Makefile [rev:1.23, 2001-02-25T16:06:08]:
Makefile.win32 [rev:1.5, 2001-02-25T16:06:08]:
pod2help.pl [rev:1.10, 2001-02-25T16:06:24]:
- removed my obsolete mail address from author reference
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.75, 2001-02-25T16:04:56]:
nxtvepg.pod [rev:1.29, 2001-02-25T16:06:31]:
README [rev:1.14, 2001-02-25T16:06:51]:
- changed my mail address to the new nefkom address
- removed the disclaimer about uni-erlangen
COPYRIGHT [rev:1.3, 2001-02-25T16:08:06]:
- removed my obsolete mail address from author reference
- added aka note about "Tom Zoerner"
- improved reference to "other" authors
epgdb/epgdbsav.c [rev:1.34, 2001-02-26T20:01:19]:
- severe bug fix: EpgDbReload()
- reference to possible freed pBlock->type
- led to SIGSEGV under Windows during reload of old db
nxtvepg.pod [rev:1.30, 2001-02-26T20:19:37]:
- added description of new frequency table selection
- in TV input configuration
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.76, 2001-02-26T20:21:59]:
- added frequency table selection in TV card input popup
- added 2 radio buttons to popup (both Linux and Windows)
- appended one item to list $hwcfg: hwcfg_ftable_sel
- rc/ini load: upgrade $hwcfg from 5 to 6 items
- fix: Help in hwcfg popup referred to wrong subheading
epgui/menucmd.c [rev:1.39, 2001-02-26T20:23:05]:
- SetHardwareConfig: added frequency table selection
- now 6 instead of 5 params expected in global hwcfg
- new param is passed to new func TvChannels_SelectFreqTable()
epgctl/epgscan.c [rev:1.9, 2001-02-26T20:24:36]:
- improved output of channel indices in scan message window
- now print prefix E and/or S in front of extended/special channels
- name is delivered by new func TvChannels_GetName()
epgvbi/tvchan.c [rev:1.4, 2001-02-26T20:33:40]:
- updated frequency table (from xawtv-3.21)
- added frequency table for France
- added func TvChannels_SelectFreqTable(), called from hwcfg popup
- added prefix to channel table
- for index to name conversion in new func TvChannels_GetName()
- used for EPG scan message window
- named are identical to those used in xawtv-3.21
epgvbi/tvchan.h [rev:1.3, 2001-02-26T20:35:50]:
- added TvChannels_GetName()
- added TvChannels_SelectFreqTable()
epgvbi/bt848.h [dsdrv/bt8x8_reg.h, rev:1.4, 2001-02-26T21:39:41]:
- added decls for tuner types and norms
- copied here from bttv-0.7.57/driver/tuner.h
epgvbi/btdrv4win.c [rev:1.13, 2001-02-26T21:40:36]:
- updated tuner table, copied from bttv-0.7.57
- added many new tuner types
- Tuner_SetFrequency(): do nothing if type == none
- Tuner_SetFrequency(): use ptr pTun to current tuner table entry
- Init_Tuner(): use only one global var to keep I2C addr
    do no longer save I2C addr in tuner table (it's const now)
epgctl/epgversion.h [rev:1.9, 2001-02-26T21:44:28]:
- set version to 0.4.4
nxtvepg.pod [rev:1.31, 2001-02-26T21:45:41]:
- added hint about tuner type in TV card input popup in Getting Started
- now there are a lot more tuner types available
- the user should try the topmst ones first
CHANGES [rev:1.10, 2001-02-26T21:51:25]:
- updated for release 0.4.4
TODO [rev:1.10, 2001-02-26T21:51:30]:
- updated for release 0.4.4
epgctl/epgscan.c [rev:1.10, 2001-02-26T22:07:14]:
- fix: in refresh mode, do not use TvChannels_GetName() to print channel no.
www/index-de.html [rev:1.5, 2001-03-01T19:16:07]:
- update for release 0.4.4 (minor bugfixes)
- added link to NetBSD package tree
- fixed broken links to screenshots in navbar: was .html instead .gif
- added WIDTH and HEIGHT to all IMG links to improve loading speed
- moved counter below the main table, so that the table is displayed
    even if the counter is not yet available
www/index.html [rev:1.16, 2001-03-01T19:16:07]:
- update for release 0.4.4 (minor bugfixes)
- added link to NetBSD package tree
- fixed broken links to screenshots in navbar: was .html instead .gif
- added WIDTH and HEIGHT to all IMG links to improve loading speed
- moved counter below the main table, so that the table is displayed
    even if the counter is not yet available
www/changelog.html [rev:1.3, 2001-03-01T19:17:21]:
- added one more new feature to the "0.3 -> 0.4" list:
    improved db stats
- splitted words "MultiDec" and "Espresso" to hide them from web spiders
- added new release 0.4.4 (minor bugfixes)
www/man.html [rev:1.3, 2001-03-01T19:19:06]:
- update for release 0.4.4 -> see nxtvepg.pod
www/index-de.html [rev:1.6, 2001-03-10T18:51:33]:
- added BGCOLOR=#f8f8f8 to BODY, else bg was gray in Netscape
- removed BASE tags from all html pages
- tar and zip archives now available from NEFkom server
    removed warning about Tripod intermediate download pages
www/index.html [rev:1.17, 2001-03-10T18:51:33]:
- added BGCOLOR=#f8f8f8 to BODY, else bg was gray in Netscape
- removed BASE tags from all html pages
- tar and zip archives now available from NEFkom server
    removed warning about Tripod intermediate download pages
www/changelog.html [rev:1.4, 2001-03-10T18:53:21]:
- added BGCOLOR=#f8f8f8 to BODY, else bg was gray in Netscape
www/man.html [rev:1.4, 2001-03-10T18:53:21]:
- added BGCOLOR=#f8f8f8 to BODY, else bg was gray in Netscape
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_4_4 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgctl/epgversion.h [rev:1.10, 2001-04-01T19:31:49]:
- set version to 0.4.5 (bugfix branch)
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.77, 2001-04-01T19:36:33]:
- bugfix proc LoadRc
- hwcfg was accessed without checking if it was defined
- rc reload failed
epgdb/epgblock.c [rev:1.33, 2001-04-01T19:42:12]:
- bugfix NetBSD: all programmes were shifted by 60 mins during summer time
CHANGES [rev:1.11, 2001-04-01T19:46:29]:
- updated for release 0.4.5: bugfix branch
www/changelog.html [rev:1.5, 2001-04-03T18:41:03]:
- update for release 0.4.5
www/index-de.html [rev:1.7, 2001-04-03T18:41:29]:
- update for release 0.4.5: URL and News sect only.
www/index.html [rev:1.18, 2001-04-03T18:41:29]:
- update for release 0.4.5: URL and News sect only.
www/man.html [rev:1.5, 2001-04-03T18:42:07]:
- update for release 0.4.5: version number only.
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_4_5 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgvbi/vbidecode.c [rev:1.26, 2001-04-03T18:48:43]:
- removed superfluous #include "epgdb/epgdbif.h"
epgdb/epgblock.c [rev:1.34, 2001-04-03T18:51:14]:
- added funcs EpgLtoInit() and EpgLtoGet() to maintain lto
- removed superfluous includes
epgdb/epgblock.h [rev:1.26, 2001-04-03T18:51:48]:
- added funcs EpgLtoInit() and EpgLtoGet() to maintain lto
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.26, 2001-04-03T18:52:11]:
- changed access to lto from global var to EpgLtoGet()
- removed superfluous includes
epgdb/epgdbfil.c [rev:1.25, 2001-04-03T18:59:10]:
- changed access to lto from global var to EpgLtoGet()
- removed superfluous includes
epgctl/epgscan.c [rev:1.11, 2001-04-03T19:16:12]:
- removed all GUI related functionality (i.e. Tcl refs)
- timer evant handler now installed in menucmd.c
- scan start func gets additional params *resched_ms and msg_cb func
- added EpgScan_GetProgressPercentage for queries from timer handler
epgctl/epgscan.h [rev:1.5, 2001-04-03T19:17:46]:
- removed all GUI related functionality (i.e. Tcl refs)
- timer evant handler now installed in menucmd.c
- scan start func gets additional params *resched_ms and msg_cb func
- added EpgScan_GetProgressPercentage for queries from timer handler
epgctl/epgctxctl.c [rev:1.5, 2001-04-03T19:47:01]:
- EpgContextCtl_Open(): declaration changed
- replaced enum errHand with simple int -> don't need uictrl include
- added static func EpgContextDestroy()
- moved context related part from EpgDbDestroy to here
- removed superfluous includes
epgctl/epgctxctl.h [rev:1.5, 2001-04-03T19:48:47]:
- EpgContextCtl_Open(): declaration changed (replace typedef by int)
epgui/epgmain.c [rev:1.55, 2001-04-03T19:49:16]:
- Moved module from epgctl to epgui directory
- removed superfluous includes
- moved InitLTO to epgdb/epgblock.c, renamed EpgLtoInit()
- made command line params static
- values are now passed to the init funcs of the various modules
- moved global pAcqDbContext into epgacqctl module
epgui/epgmain.h [rev:1.16, 2001-04-03T19:52:02]:
- removed global lto: replaced by EpgLtoGet() in epgdb/epgblock.c
- removed global pAcqDbContext: moved to epgacqctl
- removed globals dbdir, pDemoDatabase: now local, passed to modules via fparm
epgui/pifilter.c [rev:1.38, 2001-04-03T19:58:02]:
- changed access to lto from global var to EpgLtoGet()
- include epgmain moved from epgctl to epgui subdir
epgui/statswin.c [rev:1.33, 2001-04-03T19:58:47]:
- include epgmain moved from epgctl to epgui subdir
- StatsWin_Create() additional param isDemoMode
epgui/statswin.h [rev:1.9, 2001-04-03T19:59:12]:
- StatsWin_Create() has additional param isDemoMode
epgui/uictrl.c [rev:1.10, 2001-04-03T20:00:39]:
- include epgmain moved from epgctl to epgui subdir
epgui/pilistbox.c [rev:1.45, 2001-04-03T20:00:51]:
- changed access to lto from global var to EpgLtoGet()
- include epgmain moved from epgctl to epgui subdir
epgui/menucmd.c [rev:1.40, 2001-04-03T20:04:59]:
- moved all GUI-related stuff from epgscan.c up here
- timer handler now created here
- static scan handler calls EpgScan_EvHandler()
- additional params to scan start: *resched_ms and msg_cb func
- also:
- changed access to lto from global var to EpgLtoGet()
- include epgmain moved from epgctl to epgui subdir
- removed superfluous includes
- interface to merge moved up to epgctl from epgdb -> renamed funcs
- MenuCmd_Init() has additional param isDemoMode
epgui/menucmd.h [rev:1.8, 2001-04-03T20:07:13]:
- MenuCmd_Init() has additional param isDemoMode
- removed MenuCmd_AddEpgScanMsg, MenuCmd_StopEpgScan
- these funcs were called by epgctl/epgscan
- now the functionality is realized via funcretern val and callback
epgdb/epgdbmerge.c [rev:1.15, 2001-04-04T18:21:55]:
- Split the module in two parts
- upper layer has moved to epgctx/epgctxmerge
- upper layer handles merged context and opening/closing of databases
    lower layer does the actual merging of AI and PI
epgdb/epgdbmerge.h [rev:1.6, 2001-04-04T18:24:33]:
- Split the module in two parts
- removed interface to epgdbmgmt and GUI
- added interface to epgctxmerge
epgdb/epgdbmgmt.c [rev:1.29, 2001-04-04T18:25:04]:
- interface to merge functionality changed
- interface moved to epgctl/epgctxmerge -> functions renamed
- context destruction: destruction of merged context
- has moved one level up, into a wrapper function in epgctl/epgctxctl
- removed superfluous includes
epgdb/epgdbsav.c [rev:1.35, 2001-04-04T18:28:36]:
- removed globals dbdir and pDemoDatabase
- these variables are now kept statically and passed during start-up
    via EpgDbSavSetupDir()
- renamed all ref's to these vars to epgDbDirPath and epgDemoDb
- EpgDbDumpCreateDir() renamed EpgDbSavSetupDir()
    and additional parameter pDemoDb
epgdb/epgdbsav.h [rev:1.26, 2001-04-04T18:31:02]:
- EpgDbDumpCreateDir() renamed EpgDbSavSetupDir()
- additional parameter pDemoDb
- reason: removed globals dbdir and pDemoDatabase
    these variables are now kept statically and passed during start-up
epgdb/epgstream.c [rev:1.14, 2001-04-04T18:31:45]:
- interface to ASCII dump changed:
- interface is now a single function for all block types
- txtdump module moved from epgdb two levels up to epgui
- removed superfluous includes
epgctl/epgctxmerge.c [rev:1.1, 2001-04-04T18:34:25]:
- Initial revision
epgctl/epgctxmerge.h [rev:1.1, 2001-04-04T18:34:52]:
- Initial revision
epgctl/epgacqctl.c [rev:1.40, 2001-04-04T18:40:33]:
- interface to merge module changed (merge module was splitted)
- renamed functions from EpgDbMerge... to EpgContextMerge...
- removed superfluous includes
- added global pAcqDbContext: moved here from epgmain
epgctl/epgacqctl.h [rev:1.25, 2001-04-04T18:42:12]:
- added decl. of global pAcqDbContext: moved here from epgmain
epgui/epgtxtdump.c [epgui/dumpraw.c, rev:1.16, 2001-04-04T18:46:42]:
- Changed interface: now only one function for all block types
- new function EpgTxtDump_Block() called from streams decoder module
- new function EpgTxtDumpUnknown() for unknown block types
- pEpgTxtDumpHeader moved to .c from .h: needed only locally
epgui/epgtxtdump.h [epgui/dumpraw.h, rev:1.10, 2001-04-04T18:47:12]:
- Module has been moved from epgdb to epgui directory
- Changed interface: now only one function for all block types
- new function EpgTxtDump_Block() called from streams decoder module
- new function EpgTxtDumpUnknown() for unknown block types
- pEpgTxtDumpHeader moved to .c from .h: needed only locally
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.78, 2001-04-04T18:58:21]:
- bugfix/workaround for context popup menu
- unpost the context menu when a new PI is selected
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.79, 2001-04-04T19:09:05]:
- Added 'Update filter shortcut' in filter menu
- added new field to all shortcut items: tag (i.e. ID)
- tags are uniquely generated by new proc GenerateShortcutTag
- new global fsc_prevselection keeps last selected shortcut
- LoadRc: for backwards compatibility add tag to old shortcuts
epgui/epgmain.c [rev:1.56, 2001-04-08T16:39:22]:
- added bitmap pan_updown.xbm for text widget panning button
epgui/pilistbox.c [rev:1.46, 2001-04-08T16:46:04]:
- made listbox height configurable at runtime
- replaced all occurences of macro PIBOX_HEIGHT by new var pibox_height
- pibox_list must be allocated at start in PiListBox_Create()
- added new func PiListBox_Resize: called by Tcl after size changed
epgui/pilistbox.c [rev:1.47, 2001-04-08T16:47:50]:
- added debug statement to catch wrong value in Tcl global pibox_height
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.80, 2001-04-08T17:14:33]:
- made listbox height configurable at runtime
- toplevel window is now vertically resizable
- changed packing in main win:
    + removed -setgrid from netwop and shortcut listboxes
    + only short-info win is now packed as -fill y -expand 1
- added panning button between PI listbox and short-info
    + callbacks are new procs PanningControl, PanningMotion
- added proc CountVisibleTextLines (for future use only)
    + would be required if PI listbox was to be resized via the toplevel
    + could be used by a callback bound to the Configure event
- added pibox_height to the rc file
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.81, 2001-04-08T17:40:12]:
- all popups: raise window upon attempt to open it a 2nd time
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.82, 2001-04-08T18:55:28]:
- Height of short-info text widget now saved in rc file
- added callback for Configure event: new proc ShortInfoResized
- height also saved in proc PanningControl
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.83, 2001-04-09T20:39:47]:
- added option "Use .xawtv" to EPG scan popup
- supported on UNIX only, disabled when .xawtv does not exist
- new proc EpgScanButtonControl: moved here from EPG start/stop C funcs
epgui/menucmd.c [rev:1.41, 2001-04-09T20:42:17]:
- MenuCmd_StartEpgScan: added option "Use .xawtv"
- new function XawtvGetFreqTab: parses .xawtv, returns freq list
- moved dis-/enabling of scan command buttons to new Tcl
    proc EpgScanButtonControl (because re-enabling is conditional)
epgvbi/tvchan.c [rev:1.5, 2001-04-09T20:46:09]:
- added new func TvChannels_NameToFreq()
- reverse to TvChannels_GetName()
epgvbi/tvchan.h [rev:1.4, 2001-04-09T20:47:26]:
- added new func TvChannels_NameToFreq()
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.84, 2001-04-11T14:42:26]:
- DescribeCurrentFilter: changed result
- return value is now a list that contains mask and filter
- should not write to global fscedit_mask
    because popup might already be open when a shortcut shall be added or updated
- Moved proc UpdateFilterShortcut to different place in source file
- because it was inbetween the add/edit shortcut popup procs
- Now the real improvements in shortcut management:
- shortcut update warns if filter categories changed
    offers to call shortcut edit popup
- added "Update & Edit" button to update popup
- shortcuts can be added/updated while the popup is already open
- config popup warns when changes in label or mask are not yet applied
    before selecting another shortcut or leaving
    new proc CheckShortcutUpdatePending
- config popup asks for confirmation before changes are discarded with Abort
- bugfix config popup: mask checkbuttons were not updated after Delete
epgui/pifilter.c [rev:1.39, 2001-04-12T18:00:28]:
- bugfix UpdateFilterContextMenuState()
- did not set Tcl global timsel_enabled to 1
- hence the GUI didn't know time filters were set (e.g. in "Add shortcut")
- added new Tcl operator C_GetSeriesTitles
- used by the shortcut config menu to pretty-print the filter settings
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.85, 2001-04-12T18:12:35]:
- Added description of filter settings to shortcut config popup
- new proc ShortcutPrettyPrint
- added read-only text widget to .fscedit popup
- commented out combination logic checkbuttons (were disabled anyways)
- splitted proc CreateSeriesMenuEntries:
    new sub-proc DictifySeriesTitle, used by shortcut pretty print too
- new helper proc Motd2HHMM (one-liner)
    split off from SelectTimeFilter, used by shortcut pretty-print
- Bugfixes for last check-in
- AddFilterShortcut: result of DescribeCurrentFilter was handled wrong
- fixed creation order of command buttons (to match display order)
- fscedit_logic was not initialized properly
- removed obsolete proc ProcessThemeSpec (already commented out)
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.86, 2001-04-12T19:12:25]:
- shortcut pretty print:
- added language handling to series sorting
epgui/pifilter.c [rev:1.40, 2001-04-12T19:12:25]:
- GetSeriesTitles: extended result by langage id for each returned series title
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.87, 2001-04-13T12:34:02]:
- added "Tune TV" button to the main window (UNIX only)
- command callback is new proc TuneTV
- moved assignment of $is_unix to the very top of the file
epgui/pilistbox.c [rev:1.48, 2001-04-13T18:39:29]:
- added Tcl operator C_PiListBox_GetSelectedNetwop
- returns the name of the network of the currently selected PI
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.88, 2001-04-14T15:52:40]:
- Added Network Naming Popup to Configure menu
- used for xawtv-remote setstation parameter in "Tune TV" button
- added global array cfnetnames to rc/ini file
- proc C_GetAiNetwopList: added params <CNI> and <varname>
epgui/menucmd.c [rev:1.42, 2001-04-14T15:54:31]:
- added MenuCmd_GetAiNetwopList()
- moved here from menucmd.c
- expanded functionality: new params CNI and varname
epgui/pilistbox.c [rev:1.49, 2001-04-14T15:55:50]:
- PiListBox_GetSelectedNetwop()
- prepended CNI to result: which is now a list
epgui/pifilter.c [rev:1.41, 2001-04-14T16:02:27]:
- moved GetAiNetwopList() to mnucmd.c
- note: at the same time added parameters CNI and varname
- removed GetProvCni(): redundant to GetCurrentCni in menucmd.c
Makefile [rev:1.24, 2001-04-14T16:28:49]:
- restructured C epgdb/epgctl
- moved epgmain to epgui from epgctl
- moved epgtxtdump to epgui from epgdb
- plit off epgctl/epgctxmerge from epgdb/epgdbmerge
- moved tarball from /e/ to /c/
Makefile.win32 [rev:1.6, 2001-04-14T16:40:52]:
- restructured C epgdb/epgctl
- moved epgmain to epgui from epgctl
- moved epgtxtdump to epgui from epgdb
- plit off epgctl/epgctxmerge from epgdb/epgdbmerge
nxtvepg.pod [rev:1.32, 2001-04-14T16:41:36]:
- removed obsolete HTML inserts (remnant from 0.3.4)
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.89, 2001-04-14T20:31:47]:
- added new proc ApplyUserNetnameCfg
- replaces provider's network name with user-configured names
- used in all procs where networks names are displayed
- revamped C_CreateSeriesNetwopMenu and C_CreateSeriesMenu
- main funcs are now CreateSeriesNetworksMenu and CreateSeriesMenu
- call C funcs just to get a list of netwops or series titles
- cause for action: netwop names shall use ApplyUserNetnameCfg
- added Help section for Network Name Config popup
epgui/pifilter.c [rev:1.42, 2001-04-14T20:35:36]:
- revamed Tcl ops C_CreateSeriesNetwopMenu and C_CreateSeriesMenu
- main funcs are now proc CreateSeriesNetworksMenu and CreateSeriesMenu
- call C funcs just to get a list of netwops or series titles
- cause for action: netwop names shall use ApplyUserNetnameCfg
-> renamed C_GetNetwopsWithSeries and C_GetNetwopSeriesList
nxtvepg.pod [rev:1.33, 2001-04-14T20:39:43]:
- added sub-section about Network Names configuration popup
- added sub-section about .xawtv config file
nxtvepg.pod [rev:1.34, 2001-04-15T13:15:57]:
- corrected English language
- replaced "allows you" with "enables you"
- replaced "popup" with "dialog"
epgui/menucmd.c [rev:1.43, 2001-04-15T17:34:56]:
- MenuCmd_GetAiNetwopList()
- param 2: <varname> can now be replaced by 0-string
- no network names are returned then
epgui/pifilter.c [rev:1.43, 2001-04-15T17:36:03]:
- PiFilter_UpdateNetwopList()
- renamed Tcl proc UpdateNetwopFilterBar to UpdateProvCniTable
    (because the proc was splitted; the split-off part has the old name)
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.90, 2001-04-15T17:44:27]:
- Splitted proc UpdateNetwopFilterBar
- renamed into UpdateProvCniTable; split-off part has the old name
- UpdateProvCniTable: rebuilds cfnetwops array for the current provider
- UpdateNetwopFilterBar: updates the network menus
    is now also called after Network Name Configuration dialog
- also added comments
- Network Name Configuration
- added proc NetworkNameSaveEntry: split off from NetworkNameSave
    saves name-change for the curently selected network
    now called before Abort too
- added warning about lost changes when the dialog is aborted
- handle Windows platform and missing .xawtv better
    removed warning when .xawtv does not exist
- C_GetAiNetwopList
- 2nd param may now be replaced by {} if no network names are required
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.91, 2001-04-15T20:05:05]:
- added context menu to "Tune TV" button
- display "Tune TV" button only if .xawtv exists
- CreateContextMenu: use tk_popup instead of own bindings
epgui/pifilter.c [rev:1.44, 2001-04-15T20:39:08]:
- CreateContextMenu()
- removed bind <Leave> for popup: obsolete due to use of tk_popup
- fixed Usage string
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.92, 2001-04-16T10:13:01]:
- enabled auto-width for the following listboxes:
- .all.shortcuts.list
- .all.netwops.list
- .netname.list.ailist
- .netname.cmd.provnams
- .fscupd.list
- .fscedit.list
epgui/pilistbox.c [rev:1.50, 2001-04-16T20:06:26]:
- use user-configured network names
- added check of global Tcl var cfnetnames(CNI) to all
    uses of AI_GET_NETWOP_NAME macro
- in: listbox, PI popup, short-info
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.93, 2001-04-17T18:50:10]:
- added "Start Capturing" to "Tune TV" popup menu
- added exact date to day/date dropdown menu in pibox column header
epgui/pilistbox.c [rev:1.51, 2001-04-17T19:55:35]:
- syntax bugfix PiListBox_Scroll()
- variable pibox_height was used in array size declaration
- use xmalloc instead (gcc did not complain! only M$VC)
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.94, 2001-04-17T19:56:53]:
- fixed Network Naming Dialog for Win32
- added set xawtv_list {}
- added C_RefreshPiListbox to Save func: redisplay with new names
epgvbi/tvchan.c [rev:1.6, 2001-04-17T19:58:09]:
- syntax fix: TvChannels_NameToFreq
- cast result value from double to ulong
- avoids compiler warning under win32 MVC
nxtvepg.pod [rev:1.35, 2001-04-18T19:53:43]:
- added paragraph about the "Tune TV" button
epgctl/epgacqctl.c [rev:1.41, 2001-04-19T20:41:55]:
- added acq mode ACQMODE_EXTERNAL
- intended for external inputs
- similiar passive, but sets the input source
epgctl/epgacqctl.h [rev:1.26, 2001-04-19T20:41:55]:
- added acq mode ACQMODE_EXTERNAL
- intended for external inputs
- similiar passive, but sets the input source
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.95, 2001-04-19T20:46:24]:
- added acquisition mode "external" to .acqmode popup
- intended for Composite or S-Video input
- suppress passive mode for win32
epgui/menucmd.c [rev:1.44, 2001-04-19T20:47:22]:
- SetAcquisitionMode: added ACQMODE_EXTERNAL
epgui/statswin.c [rev:1.34, 2001-04-19T20:48:44]:
- adapted status line for new acq mode ACQMODE_EXTERNAL
- bugfix: used mode instead of state struct elem in one place
epgui/uictrl.c [rev:1.11, 2001-04-19T20:51:34]:
- UiControl_AcqPassive: now separate messages for UNIX and win32
- UNIX: added acq mode "external"
- Win32: replaced passive with external
README [rev:1.15, 2001-04-19T20:53:25]:
- win32: improved description of workarounds for tuner trouble
- 1: acq mode external, 2: composite input.
Makefile.win32 [rev:1.7, 2001-04-19T20:54:18]:
- updated path to MSVC, use new make var MVCPATH
nxtvepg.pod [rev:1.36, 2001-04-19T20:54:56]:
- introduced acquisition mode 'external'
- is required for external input, i.e. Composite/S-Video
- passive is now obsolete on Win32 because an input source must be set
    (the IFORM register is reset upon driver start plus there are only
    4 possible inputs so the user can easily try them all)
- rewrote all workarounds for tuner trouble on Win32
    + Getting started
    + acq mode passive: added paragraph with warning about non-tuner inputs
    + acq mode external: is new
- plus some other minor fixes
epgui/epgmain.c [rev:1.57, 2001-04-20T19:25:18]:
- bugfix -rcfile option:
- added {} around path arg to proc LoadRc
- backslash chars in Win32 paths disappeared
nxtvepg.pod [rev:1.37, 2001-04-21T12:54:37]:
- added "Use .xawtv" button
- plus some more minor fixes
epgctl/epgversion.h [rev:1.11, 2001-04-21T13:12:30]:
- set to version 0.5.0
www/index-de.html [rev:1.8, 2001-04-21T13:53:08]:
- removed old news (0.4 pre-releases)
www/index.html [rev:1.19, 2001-04-21T13:53:29]:
- fixed english: replaced "allows you" with "enables you"
www/index-de.html [rev:1.9, 2001-04-21T14:38:59]:
- update for release 0.5.0: News sect, URL, descr. in download sect.
www/index.html [rev:1.20, 2001-04-21T14:38:59]:
- update for release 0.5.0: News sect, URL, descr. in download sect.
www/man.html [rev:1.6, 2001-04-21T14:39:54]:
- update for release 0.5.0
www/changelog.html [rev:1.6, 2001-04-21T14:40:06]:
- update for release 0.5.0
TODO [rev:1.11, 2001-04-21T14:47:02]:
- updated for release 0.5.0
Makefile [rev:1.25, 2001-04-21T14:47:39]:
- canged path for win32 tar file again
CHANGES [rev:1.12, 2001-04-21T14:48:07]:
- updated for release 0.5.0
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_5_0 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
nxtvepg.pod [rev:1.38, 2001-04-27T10:44:59]:
- rewrote FILTER SHORTCUTS chapter
- added description of "Update Filter shortcut" dialog
epgdb/epgdbif.c [rev:1.24, 2001-04-28T09:16:09]:
- Added EpgDbSearchPiByPil() for xawtv remote EPG popup.
epgdb/epgdbif.h [rev:1.18, 2001-04-28T09:16:40]:
- Added EpgDbSearchPiByPil() for xawtv remote EPG popup.
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.96, 2001-04-28T16:35:59]:
- Added -takefocus 0 to panning button in main window.
epgdb/epgblock.h [rev:1.27, 2001-04-29T08:29:30]:
- added time_t expireTime to EPGDB_CONTEXT
- required because expired PI are now kept in the database
- expiration is not decided via system time directly, because then
    PI would expire asynchronously to the GUI.
- this addition is temporary, until the sync between GUI and DB
    is implemented via refresh only (instead of insert/remove/update)
- also added comments to the context vars
epgdb/epgdbif.c [rev:1.25, 2001-04-29T08:32:06]:
- all PI access funcs now check dbc->expireTime
- required because expired PI are now kept in the database
- EpgDbSearchPiByPil() no longer has to search through obsolete PI list
- EpgDbGetStat() checks in regular PI list for expired PI too
- and uses dbc->expireTime instead of time() as borderline
epgdb/epgdbmgmt.c [rev:1.30, 2001-04-29T08:34:49]:
- Expired PI are now kept in the database
- Removed check for stop_time > now during PI insertion
- EpgDbExpire() no longer removes any blocks, it just saves the
    given time to dbc->expireTime
- AI block range checks must be done now in merged db too
epgdb/epgdbmgmt.h [rev:1.13, 2001-04-29T08:39:03]:
- EpgDbExpire() got an additional parameter: time_t newExpireTime
- required because expired PI are now kept in the database
- expiration is not decided via system time directly, because then
    PI would expire asynchronously to the GUI.
epgdb/epgdbsav.c [rev:1.36, 2001-04-29T08:39:57]:
- Expired PI are now kept in the database
- Removed check for stop_time > now during PI insertion
- Initialize dbc->expireTime with the current time
epgctl/epgctxctl.c [rev:1.6, 2001-04-29T08:41:02]:
- EpgContextCtl_Expire() adapted to new PI expiration handling
- expired PI are now kept in the database
- expiration borderline is a timestamp in the context: dbc->expireTime
- expiration is not decided via system time directly, because then
    PI would expire asynchronously to the GUI.
epgctl/epgctxmerge.c [rev:1.2, 2001-04-29T08:43:17]:
- Initialize dbc->expireTime with the current time
- Added EpgContextMergeAiCheckBlockRange()
- empty function body, still TODO
- AI block range checks must be done to remove expired PI
- Added const to params in 2 funcs: InsertPi, AiUpdate
epgctl/epgctxmerge.h [rev:1.2, 2001-04-29T08:45:24]:
- Added EpgContextMergeAiCheckBlockRange()
- Added const to params in 2 funcs: InsertPi, AiUpdate
epgui/epgmain.c [rev:1.58, 2001-04-29T09:09:49]:
- ClockMinEvent() adapted to new PI expiration handling
- expired PI are now kept in the database
- PiListBox_UpdateNowItems() must be called directly from here
    because no callbacks are triggered in the db expire anymore
epgui/pilistbox.c [rev:1.52, 2001-04-29T09:26:50]:
- PiListBox_UpdateNowItems() adapted to new expiration handling
- expired PI are now kept in the database
- UpdateNowItems() must handle removal of expired PI now, since
    the removal callbacks are not invoked for expired PI
- currently UpdateNowItems() just does a refresh, but this could
    be improved by checking if a refresh is neccessary, i.e. if PI expired
- Optimizations:
- refresh now attempts to remain on the same network, if there are
    several programmes with the same starting time
- PiListBox_UpdateInfoText() has new parameter bool keepView
    which instructs to display the same viewable fraction as before the update
    Parameter is set to TRUE during refresh (unless the selected PI
    no longer exists) and DbPostUpdate(), i.e. acq replacement
epgui/pilistbox.h [rev:1.9, 2001-04-29T09:34:03]:
- PiListBox_UpdateNowItems() removed param dbc
- is no longer invoked as callback from DB
- instead called from timer handler in main right after DB expiration
Makefile [rev:1.26, 2001-04-30T12:55:32]:
- added epgui/xawtv and library -lXmu
Makefile [rev:1.27, 2001-05-02T19:20:52]:
- switched from makedepend to gcc -MM
- because makedepend couldn't cope with // comments
epgdb/epgdbmgmt.c [rev:1.31, 2001-05-03T19:26:06]:
- translated all comments from German to English
- improved explanations of PI sorting and priorities
epgdb/epgdbif.c [rev:1.26, 2001-05-03T19:29:25]:
- translated two lines of comment from German to English
epgdb/epgdbsav.c [rev:1.37, 2001-05-03T19:36:51]:
- translated German comments to English
epgui/epgmain.c [rev:1.59, 2001-05-05T19:21:43]:
- added 200ms timer for VPS polling
- added initialization of xawtv module
Makefile [rev:1.28, 2001-05-05T19:49:45]:
- adaptions for NetBSD compatibility
- renamed manpage extension from .1x to .1
- added -DEPG_DB_DIR for flexible configuration of database directory
epgui/epgmain.c [rev:1.60, 2001-05-05T19:57:15]:
- use preprocessor macro EPG_DB_DIR for definition of database dir
- macro will be defined per -D cc option from Makefile
epgvbi/btdrv.h [rev:1.11, 2001-05-06T14:26:51]:
- added new elements to EPGACQ_BUF
- CNI_ACQ_STATE: decoder state machine for VPS, PDC, NI
- start_writer_idx: restart idx after channel change
    written by slave when frameSeqNo increased from 0
    is used to synchronize channel change, i.e. skip data from old channel
epgvbi/btdrv4linux.c [rev:1.14, 2001-05-06T14:29:35]:
- BtDriver_DecodeFrame provides data from synchronized channel changes
- copy current ring buffer idx to pVbiBuf->start_writer_idx when
    frameSeqNo is 0 -> this tells the master where the data from the new
    channel starts
- for NetBSD set frameSeqNo to 1 starting with the first frame
epgvbi/vbidecode.c [rev:1.27, 2001-05-06T14:32:27]:
- VbiDecodeLine: moved bitfield decoder into subfunction
- now calls EpgDbAcqAddVpsData(data) instead of EpgDbAcqAddVpsCode(cni)
- reason is that PIL decoding has been added
Makefile [rev:1.29, 2001-05-06T14:59:51]:
- bugfix depend rule: used extension .obj instead of .o
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.27, 2001-05-06T17:25:30]:
- Synchronize channel changes with slave
- added new function EpgDbAcqNotifyChannelChange()
    called when acq state machine switches the channel
- new bit bNewChannel: set until slave received first frame of new channel
- new pVbiBuf->start_writer_idx: writer idx at the time of first frame
- all data is discarded until bNewChannel is cleared
- Added PIL decoding
- new state machine for CNI and PIL: added struct CNI_ACQ_STATE in pVbiBuf
    implemented in EpgDbAcqAddCni() for all CNI types
- PDC and NI CNIs are converted to equivalent VPS or PDC where available
- renamed EpgDbAcqAddVpsCode() to EpgDbAcqAddVpsData()
    is now passed the undecoded VPS data line instead of CNI value
- added EpgDbAcqGetCniAndPil() as interface for upper layers
- VPS decoding is now always enabled during acquisition
- because it's used to detect channel changes in a TV application
- renamed EpgDbAcqEnableVpsPdc() to EpgDbAcqResetVpsPdc()
epgdb/epgdbacq.h [epgvbi/ttxdecode.h, rev:1.13, 2001-05-06T17:26:37]:
- Added definitions of VPS system codes
- added new function EpgDbAcqNotifyChannelChange()
- renamed EpgDbAcqEnableVpsPdc() to EpgDbAcqResetVpsPdc()
- added EpgDbAcqGetCniAndPil() as interface for upper layers
- renamed EpgDbAcqAddVpsCode() to EpgDbAcqAddVpsData()
epgctl/debug.h [rev:1.9, 2001-05-06T17:30:35]:
- added debug macros debug8() ... debug11()
epgctl/epgacqctl.c [rev:1.42, 2001-05-06T17:31:07]:
- EpgAcqCtl_TuneProvider(): call EpgDbAcqNotifyChannelChange()
epgctl/epgscan.c [rev:1.12, 2001-05-06T17:31:21]:
- Added call to EpgDbAcqNotifyChannelChange() prior to channel changes
- this clears all acquisition buffers, esp. CNI values
    and disables acquisition until the first frame of the new channel
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.97, 2001-05-06T17:45:09]:
- Moved all Xawtv related functionality into xawtv.c
- renamed TuneTVSendCmd to C_Xawtv_SendCmd
- renamed ReadXawtvNetworkNames to C_Xawtv_GetStationNames
- Button 3 no longer selects the PI under the cursor
- Mouse can be dragged in PI listbox to change selection (with Button-1)
- SelectNetwopByIdx allows to de-select a network filter
- added parameter $is_on
- used in context menu when more than one network is selected
- Made column menus context sensitive (i.e. depending on selected PI)
- added shortcut to filter for selected network
- display "cleat text search" only if text filter is enabled
- added "clear history" command below text search history
epgui/menucmd.c [rev:1.45, 2001-05-06T17:45:34]:
- moved XawtvGetFreqTab() into new module epgui/xawtv.c
epgui/pifilter.c [rev:1.45, 2001-05-06T17:47:38]:
- improved context menu for multiple network selection
- offer to undo a single network if more than one is filtered for
- offer to filter for only one out of the ones currently filtered for
epgui/statswin.c [rev:1.35, 2001-05-06T17:49:00]:
- CNI acquisition is now running permanently during acquisition
- no longer required to turn on/off VPS acquisition
- renamed EpgDbAcqEnableVpsPdc() to EpgDbAcqResetVpsPdc()
epgui/xawtv.c [rev:1.1, 2001-05-06T17:50:12]:
- Initial revision
epgui/xawtv.h [rev:1.1, 2001-05-06T17:50:14]:
- Initial revision
www/index.html [rev:1.21, 2001-05-06T19:57:10]:
- Added link to provider table.
- Removed umlaut "" from my name.
- Refer to xawtv as Linux TV app. instead of UNIX.
www/index-de.html [rev:1.10, 2001-05-06T19:58:04]:
- Added link to provider table.
- Refer to xawtv as Linux TV app. instead of UNIX.
www/provnets.html [rev:1.1, 2001-05-06T19:58:40]:
- Initial revision
epgui/pilistbox.c [rev:1.53, 2001-05-07T20:48:23]:
- bugfix _DbInsert:
- must only insert PI if it's not expired
- the db does contain expired PI since a few updates ago, so we have to check manually!
epgui/xawtv.c [rev:1.2, 2001-05-12T12:14:43]:
- bugfix C_Xawtv_SendCmd: warning never popped up due to comparison error
epgctl/epgacqctl.c [rev:1.43, 2001-05-12T17:05:18]:
- bugfix EpgAcqCtl_Idle
- acq did not switch back to active mode from forced-passive
    when the current channel did not have EPG reception
- reason: used eff. acq mode instead or orig. userMode
    hence the mode was not detected as active
- also: only cyclic mode was considered, no follow-ui
epgdb/epgdbmgmt.c [rev:1.32, 2001-05-12T17:46:02]:
- bugfix EpgDbInsertPiBlock()
- returned TRUE although the block was not added to the db
- consequence: block was still referred to although the memory was freed
- the cause was that a bool result was not enough any more: there is an
    additional 3rd result: not added but not defective (parity errors)
- solution: moved code from EpgDbInsertPiBlock() into calling function
    EpgDbAddPiBlock() and work with two bools: added, defective
    instead of single result
epgui/pilistbox.c [rev:1.54, 2001-05-12T18:34:27]:
- added PiListBox_GotoPi() for xawtv
epgui/pilistbox.h [rev:1.10, 2001-05-12T18:34:51]:
- added PiListBox_GotoPi() for xawtv
epgui/epgmain.c [rev:1.61, 2001-05-13T16:23:38]:
- renamed UiControl_PollVpsPil to Xawtv_PollVpsPil
epgui/xawtv.c [rev:1.3, 2001-05-13T16:26:40]:
- Added VPS polling state machine
- which was originally planned for uictrl.c
- added Xawtv_PollVpsPil, Xawtv_StationSelected, Xawtv_FollowTVNetwork,
    Xawtv_NowNext
- made several funcs static only: Xawtv_SendCmd, Xawtv_QueryRemoteStation
epgui/xawtv.h [rev:1.2, 2001-05-13T16:28:29]:
- made funcs static only: Xawtv_SendCmd, Xawtv_QueryRemoteStation
- added Xawtv_PollVpsPil (moved here from uictrl.c - where it never was
    checked in)
epgvbi/btdrv4win.c [rev:1.14, 2001-05-13T16:34:09]:
- BtDriver_VbiThread: adapted for synchronized channel change
- special handling if pVbiBuf->frameSeqNo is 0
    + skip one frame (might contain data from old channel)
    + remember start index for new channel in pVbiBuf->start_writer_idx
- simply set pVbiBuf->frameSeqNo to 1 for now
    note: frame sequence counter could easily be implemented
epgvbi/btdrv4win.c [rev:1.15, 2001-05-13T16:39:34]:
- cleaned up syntax glitches with help of gcc
- commented out unused functions
epgvbi/bt848.h [dsdrv/bt8x8_reg.h, rev:1.5, 2001-05-13T16:40:09]:
- cleaned up syntax glitches with help of gcc
- commented out unused functions
epgvbi/windrvr.h [rev:1.3, 2001-05-13T16:41:16]:
- removed redeclarations of BYTE and WORD because gcc choked on them
epgdb/epgdbsav.c [rev:1.38, 2001-05-15T19:47:07]:
- Win32: added #include ctype.h for toupper()
epgctl/epgacqctl.c [rev:1.44, 2001-05-15T19:48:50]:
- fixed assertion in EpgAcqCtl_AdvanceCyclePhase()
- while in forced-passive mode, any cycle state is plausible
    e.g. even Now&Next, because the userMode might be e.g. cycle02
epgui/xawtv.c [rev:1.4, 2001-05-16T18:50:08]:
- Added timer to wait for VPS after PropertyNotify on _XAWTV_STATION
epgui/epgmain.c [rev:1.62, 2001-05-18T19:41:52]:
- ported to gcc/mingw32:
- gcc has no __try {} __except {}
- use SetUnhandledExceptionFilter() instead
Makefile [rev:1.30, 2001-05-18T19:56:40]:
- bak archive has grown > 1.4MB
--> switch to bzip2, now down to about 1MB again
Makefile.win32 [rev:1.8, 2001-05-18T19:59:46]:
- switched to gcc/mingw32
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.98, 2001-05-19T10:45:48]:
- removed destroy callback from main
- C_Xawtv_Disconnect is no longer needed since we're notified of
    xawtv destruction via an X event
epgui/xawtv.c [rev:1.5, 2001-05-19T10:47:28]:
- rewrote the xawtv -> nxtvepg connection handling
- xawtv no longer notifies us via property of channel changes
- also we do no longer pass our window id to xawtv ("connect" command)
- instead X events are installed to be notified of property changes
    or window destruction directly on the xawtv window
- if xawtv is not opened, an event is installed on the X root window
    and every created window is checked if it's xawtv
README [rev:1.16, 2001-05-19T11:27:59]:
- removed MSVC from windows compile requirements - use gcc/mingw32 instead
epgdb/epgblock.h [rev:1.28, 2001-05-19T14:21:57]:
- EPGDB_CONTEXT: removed expireTime: now implemented in filter context
epgdb/epgdbfil.c [rev:1.26, 2001-05-19T14:23:39]:
- added EpgDbFilterSetExpireTime()
- added handling of FILTER_EXPIRE_TIME in match function
epgdb/epgdbfil.h [rev:1.16, 2001-05-19T14:24:05]:
- added FILTER_EXPIRE_TIME
- added FILTER_PERM = EXPIRE_TIME + NETWOP_PRE
- added expireTime to filter context
- added EpgDbFilterSetExpireTime()
epgdb/epgdbif.c [rev:1.27, 2001-05-19T14:25:56]:
- expire time now implemented in filter context instead of db
- removed check of expire time from PI search functions
- use current time for stats function
epgdb/epgdbmgmt.c [rev:1.33, 2001-05-19T14:27:15]:
- removed obsolete EpgDbExpire(): now implemented as search filter
epgdb/epgdbmgmt.h [rev:1.14, 2001-05-19T14:27:15]:
- removed obsolete EpgDbExpire(): now implemented as search filter
epgdb/epgdbsav.c [rev:1.39, 2001-05-19T14:27:48]:
- removed initialization of dbc->expireTime
- expire time has moved from db context to filter context
epgctl/epgctxctl.c [rev:1.7, 2001-05-19T14:31:00]:
- removed obsolete EpgContextCtl_Expire(): now implemented as search filter
epgctl/epgctxctl.h [rev:1.6, 2001-05-19T14:31:54]:
- removed obsolete EpgContextCtl_Expire(): now implemented as search filter
epgctl/epgctxmerge.c [rev:1.3, 2001-05-19T14:32:06]:
- removed initialization of dbc->expireTime
- expire time has moved from db context to filter context
epgui/epgmain.c [rev:1.63, 2001-05-19T14:34:26]:
- changed handling of PI expiration
- expire time has moved from db context to filter context
- call PiFilter_Expire instead of EpgContextCtl_Expire
- PiListBox_UpdateNowItems moved into PiFilter_Expire
- Xawtv_Init called earlier - now right after PiFilter and Listbox
- must be called before the window is mapped
    because the TV-Tune button is inserted there
epgui/pifilter.c [rev:1.46, 2001-05-19T14:42:31]:
- changed handling of PI expiration: now implemented as search filter
- set FILTER_EXPIRE_TIME in init func
-  added PiFilter_Expire, called every minute to update expire filter
- PiFilter_Reset: added expire time as exception to "all"
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.99, 2001-05-19T14:52:48]:
- use a C procedure for detection if .xawtv rc file is present
- replace all file isfile "$env(HOME)/.xawtv with C_Xawtv_Enabled
- moved creation of button into proc CreateTuneTvButton
    because info if .xawtv exists is not available at compile time yet
epgui/pilistbox.c [rev:1.55, 2001-05-19T14:57:20]:
- changed handling of PI expiration: now implemented as search filter
- removed special checking of expire time in several funcs,
    because it's already done in EpgDbFilterMatches() now
epgui/pifilter.h [rev:1.7, 2001-05-19T14:58:25]:
- added PiFilter_Expire() decl.
epgui/uictrl.c [rev:1.12, 2001-05-19T15:04:08]:
- UiControl_CheckDbState: adapt PI search for new expire time handling
- except of search with NULL filter, set expire-time filter
epgui/xawtv.c [rev:1.6, 2001-05-19T15:06:50]:
- added Xawtv_Check() and Xawtv_Enabled()
- used to check if xawtv module is enabled, from C and Tcl
- initialize the module only if .xawtv found
- adapted Xawtv_FollowTVNetwork() PI search to new expire time handling
- add expire time filter with current time to search for current PI
CHANGES.version [rev:1.6, 2001-05-19T15:16:15]:
- renamed nxtvepg.1x to nxtvepg.1
www/index-de.html [rev:1.11, 2001-05-19T19:31:38]:
- recompiled 1.6-win with gcc -> renamed zip to 1.6-win-gcc
www/index.html [rev:1.22, 2001-05-19T19:31:38]:
- recompiled 1.6-win with gcc -> renamed zip to 1.6-win-gcc
Makefile.win32 [rev:1.9, 2001-05-19T19:42:03]:
- added compilation of tkwinico.rc
- added existance check to epgui/tcl_libs.c generation
- renamed nxtvepg.1x to nxtvepg.1
- fixed zip target
www/provnets.html [rev:1.2, 2001-05-19T19:44:50]:
- removed Switzerland from Pro7
- movied TV down to other french providers
- added France to SF1
www/man.html [rev:1.7, 2001-05-19T19:46:57]:
- fix: removed <HEAD> section from in the midst of the file
nxtvepg.pod [rev:1.39, 2001-05-19T19:53:16]:
- removed a blank line inbetween =for html section
- this line appeared in the nroff output too
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.100, 2001-05-19T20:42:34]:
- renamed German "alle" to English "-all-" in network filter bar
- reported by Hampa Hug <hhug@student.ethz.ch>
epgui/xawtv.c [rev:1.7, 2001-05-19T21:38:13]:
- Xawtv_StationSelected: moved name->CNI conversion into new func Xawtv_StationNametoCni()
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.101, 2001-05-24T19:37:55]:
- added proc Create_XawtvPopup
epgui/xawtv.c [rev:1.8, 2001-05-25T16:18:19]:
- fixed VPS polling after property event: now wait 3 * 120 ms
- added alternative way to generate the Xawtv popup: a toplevel generated
    by nxtvepg, next to the xawtv window. Added Xawtv_Popup(),
    Xawtv_PopDownNowNext() and Xawtv_QueryParent()
- moved property dprintf into new func DebugDumpProperty()
- moved Xawtv_X11ErrorHandler() upwards in the file
- split off Xawtv_QueryClass() from Xawtv_QueryRemoteStation()
- remove TVTWM support from Xawtv_FindWindow()
www/provnets.html [rev:1.3, 2001-05-25T18:11:35]:
- Added new provider: TRT
- including explanations about problems during testing phase
- corrected VALIGN for M6 and Canal+
www/index-de.html [rev:1.12, 2001-05-25T18:35:19]:
- added news about TRT: new Nextview EPG provider
www/index.html [rev:1.23, 2001-05-25T18:35:19]:
- added news about TRT: new Nextview EPG provider
www/changelog.html [rev:1.7, 2001-05-25T18:36:37]:
- added preview of changes in 0.5.1
epgdb/epgblock.c [rev:1.35, 2001-05-25T19:39:07]:
- bugfix: index was not checked when accessing natOptChars table
- natOptChars: added support for Turkish chars
- 6 Latin-5 specials replaced by their ASCII counterparts
www/provnets.html [rev:1.4, 2001-05-25T19:51:07]:
- fixed note about TRT: their charset is ok, but it's not supported in nxtvepg
www/changelog.html [rev:1.8, 2001-05-25T19:56:42]:
- added item for 0.5.1: support for Turkish charset
www/provnets.html [rev:1.5, 2001-05-25T20:01:46]:
- added content-provider info for M6 and Canal+: Swiss Teletext
- info obtained from TARA-Systems website
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.102, 2001-05-26T18:56:27]:
- added xawtv configuration dialog: proc XawtvConfigPopup
- added $xawtvcf to rc/ini file (paired list: keyword/value)
- CreateTuneTvButton can now be called repeatedly (checks if button exists)
    added proc RemoveTuneTvButton to remove button upon user request
epgui/xawtv.c [rev:1.9, 2001-05-26T19:06:14]:
- added user configuration dialog: stores options in Tcl global $xawtvcf
    which is copied into new struct XAWTVCF: global var xawtvcf
- now 3 types of xawtv EPG display can be used (popup, vtx, message)
    also popup duration is configurable
    all main features can be switched off
- added functions Xawtv_InitConfig() and Xawtv_ReadConfig() to process cfg
    called during startup and after "Ok" in config dialog
    most of the functionality (e.g. FindWindow) moved here from module init func
- also:
- removed obsolete param bool checkClass from Xawtv_QueryRemoteStation
- xawtv command "epg" discarded; use "vtx" instead (EPG refused by Gerd Knorr)
    the former "epg" popup is now implemented inside nxtvepg as poptype POP_EXT
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.103, 2001-05-27T09:22:59]:
- network name selection
- bugfix: added netname_provlist to keep track which providers are listed
    in the box; before the wrong prov might have been used when selecting a
    network name from the prov listbox
- fix save func: arrays were not declared global, hence never freed
- added Help text reference for XawtvConfig popup
epgui/xawtv.c [rev:1.10, 2001-05-27T09:43:19]:
- Xawtv_GetStationNames: added support for multi-network channel names
- names are split around separator char '/'
- the original name plus all splitted segments are added to the output list
nxtvepg.pod [rev:1.40, 2001-05-27T09:59:53]:
- added description for Xawtv connection config dialog
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.104, 2001-05-27T11:49:42]:
- xawtv config dialog: allow popup duration 0 ("forever")
epgui/xawtv.c [rev:1.11, 2001-05-27T11:50:37]:
- allow popup duration 0: forever
- check popType in ReadConfig: error message if > POP_COUNT
- split off new func Xawtv_SearchCurrentPi() from Xawtv_FollowTVNetwork()
    to enhance structuring; renamed ..TV.. to Xawtv_FollowTvNetwork()
nxtvepg.pod [rev:1.41, 2001-05-27T17:43:20]:
- added credits for Gerd Knorr
- added note to intro that EPG does not only cover the provider's programme
- xawtv config: special meaning of popup duration 0
- netname config: multi-network channel names separator '/'
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.105, 2001-05-27T18:21:58]:
- prepared listbox to allow expired PI
- define tag "past", color $cursor_bg_past
- set tabs on new tag "past"
epgui/pilistbox.c [rev:1.56, 2001-05-27T18:22:52]:
- prepared listbox to allow expired PI
- assign tag "past" to expired PI (-> color red)
- prepare to change cursor color to red for expired PI
    XXX TODO: cannot detect expired PI there because stop time is not available!
epgui/xawtv.c [rev:1.12, 2001-05-29T17:55:05]:
- added popType VTX2: VTX now only 1 line high, VTX2 two
    reason is the bug in xawtv < 3.48 (bg in shorter line not cleared)
- use XGetWindowAttributes() instead of XGetGeometry()
    suppress popup while window is invisible
- fixed FindWindow: do{} retry did not work
- fix PollVps: ignore change to invalid PIL (when CNI identical)
    this must be done to avoid flickering of the popup on chn w/ bad recept.
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.106, 2001-05-29T17:59:22]:
- split xawtv popup type "video overlay" into two separate modes
- reason is the bug in xawtv < 3.48 (bg in shorter line not cleared)
nxtvepg.pod [rev:1.42, 2001-05-29T18:01:21]:
- split xawtv popup type "video overlay" into two separate modes
    reason is the bug in xawtv < 3.48 (bg in shorter line not cleared)
- added hint how to change xawtv vtx font (~/.Xdefaults)
epgui/xawtv.c [rev:1.13, 2001-05-31T16:59:25]:
- added lastCni & startTime to followTvState
    to suppress repeated popups
- added EpgAcqCtl_CheckDeviceAccess() after start & stop of xawtv
- removed params from Xawtv_FollowTvNetwork(): accesses now followTvState
- Xawtv_FollowTvNetwork(): negated acq ctl expr. to simplify it
- fix: check mode before passiveMode; check for passive mode
epgctl/epgacqctl.c [rev:1.45, 2001-05-31T17:07:52]:
- added EpgAcqCtl_CheckDeviceAccess()
epgctl/epgacqctl.h [rev:1.27, 2001-05-31T17:08:07]:
- added EpgAcqCtl_CheckDeviceAccess()
epgui/xawtv.c [rev:1.14, 2001-05-31T17:36:51]:
- bugfix: Xawtv_FindWindow() result was assigned to xawtv_wid
- returns bool now though
epgui/xawtv.c [rev:1.15, 2001-05-31T17:58:50]:
- removed Tcl "update" from init func - obsolete
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.107, 2001-05-31T18:24:44]:
- bugfix proc TuneTV: did not work until netname config was called once
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.28, 2001-05-31T18:52:34]:
- bugfix: dataPageCount was not cleared at init or channel change
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.108, 2001-06-02T12:39:03]:
- Netname Configuration:
- new separate confirmation popup for abort if only changes are auto-matches
- do not save auto-matched names which are not in xawtv (i.e. colored red)
- mark names that match only "compressed" .xawtv station names red too
- also:
- bugfix xawtvcf popup: XawtvConfigSelected: poptype.t3 state was not set
epgui/epgtxtdump.c [epgui/dumpraw.c, rev:1.17, 2001-06-02T18:38:34]:
- EpgTxtDump_Database:
- renamed expired/obsolete to defective PI (expired are in normal list now)
- use proper interface funcs to access defective PI blocks:
    EpgDbGetFirstObsoletePi() instead of access to pDbContext->pObsoletePi
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.109, 2001-06-02T18:41:38]:
- fool-proofed network naming handling:
- display popup when Tune-TV is used and no names configured yet
- added "Closest match" button to dialog
- added trace to entry field var; after each modification check if the
    name now equals one in .xawtv; signal result via black/red colors
- also:
- dump db dialog: renamed "expired" to "defective" PI
    since expired PI are now covered by the normal PI option (again)
nxtvepg.pod [rev:1.43, 2001-06-02T18:46:15]:
- modified network name config dialog description:
- intro: mentiaon that names are used both for Tune-TV and channel changes
- added "Closest match" button below xawtv name list
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.110, 2001-06-02T19:32:40]:
- fix last check-in: proc TuneTV
- cancel button in msgbox was not handled at all
- show popup just once after each program start
- added comments
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.111, 2001-06-03T10:12:16]:
- fixed netname dialog for users without .xawtv: disabled match button
- maded match button and xawtv menubutton same width
    max width of all xawtv station names
nxtvepg.pod [rev:1.44, 2001-06-03T10:13:26]:
- netname config dialog: add note about matching without .xawtv file
www/provnets.html [rev:1.6, 2001-06-04T09:37:43]:
- update note about TRT:
- are now using correct CNIs for Turkish networks; others still invalid
- national options chars now decoded correctly by nxtvepg (release 0.5.1)
epgdb/epgblock.c [rev:1.36, 2001-06-04T17:14:20]:
- added debug printf to CreateBlock func
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.29, 2001-06-04T17:15:24]:
- fixed memory leak in EpgDbAcqProcessPackets()
- AI block was not freed when rejected by callback
epgdb/epgstream.c [rev:1.15, 2001-06-04T17:19:29]:
- changed handling of scratch buffer inStreamInit:
- do not overwrite scratch pointer with 0
- may still have entries, if acq was not stopped (e.g. after EPG scan)
- scratch buffer ptr is now initialized with NULL
epgctl/epgscan.c [rev:1.13, 2001-06-04T17:35:47]:
- EpgScan_EvHandler: fixed change to new provider channel:
    acq must be resetted *after* the new empty db has been created,
    since default values are written to the context during acq reset
- added TRT-1 to list of known providers
- added/enhanced some debug printfs
epgctl/epgacqctl.c [rev:1.46, 2001-06-04T18:57:53]:
- Removed call to EpgDbAcqNotifyChannelChange() from EpgAcqCtl_TuneProvider()
    Instead call EpgAcqCtl_ChannelChange() in EpgAcqCtl_UpdateProvider()
    whenever input source or acq database change.
    This is a bugfix! before data could be added to the wrong db since state
    was not resetted to WAIT_BI after frequency change.
- added check for EpgScan_IsActive() in EpgAcqCtl_CheckDeviceAccess()
    and EpgAcqCtl_ChannelChange()
- added/enhanced debug statements
epgctl/epgctxctl.c [rev:1.8, 2001-06-04T19:01:27]:
- changed semantics of EpgContextCtl_GetAny():
- ignore empty contexts (no AI block) during search
- acq and ui should use separate dbs while both are empty
- also added debug printf statements
Makefile [rev:1.31, 2001-06-04T19:24:03]:
- added command to install rule to remove old .1x manpage
README [rev:1.17, 2001-06-04T19:37:56]:
- Windows sys.req.: exchanged radio@mp3 and MultiDec in driver source
- list, since radio@mp3 was reported to make problems.
README [rev:1.18, 2001-06-04T19:44:11]:
- added TRT to list of providers
- fixed list for Switzerland with respect to www/provnets.html
nxtvepg.pod [rev:1.45, 2001-06-05T19:01:51]:
- Basic Browsing: rewrote paragraph about xawtv connection
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.112, 2001-06-05T19:02:21]:
- network name config dialog:
- added popup at dialog start to notify about number of automatically matched networks
epgctl/epgversion.h [rev:1.12, 2001-06-05T19:04:37]:
- set to version 0.5.1
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.113, 2001-06-05T19:26:01]:
- fixed proc SortProvList:
- providers that were not yet in $prov_selection were assigned
    an undefined position
- added additional loop to assign them sort indices at the end of the list
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.114, 2001-06-05T20:00:40]:
- fix netname cf dlg for win32: access .netname.cmd.fx.mb cget -font only for UNIX
www/changelog.html [rev:1.9, 2001-06-05T20:46:39]:
- update for release 0.5.1
www/index-de.html [rev:1.13, 2001-06-05T20:46:39]:
- update for release 0.5.1
www/index.html [rev:1.24, 2001-06-05T20:46:39]:
- update for release 0.5.1
www/provnets.html [rev:1.7, 2001-06-05T20:47:03]:
- added note for TRT-int: identifies itself as TRT1
www/man.html [rev:1.8, 2001-06-05T20:52:17]:
- update for release 0.5.1
CHANGES [rev:1.13, 2001-06-05T20:58:56]:
- updated for release 0.5.1
TODO [rev:1.12, 2001-06-05T20:59:12]:
- updated for release 0.5.1
www/index.html [rev:1.25, 2001-06-06T16:27:46]:
- corrected English.
www/provnets.html [rev:1.8, 2001-06-06T16:27:59]:
- removed one obsolete verb from TRT note.
www/changelog.html [rev:1.10, 2001-06-06T16:28:55]:
- corrected English.
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_5_1 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgui/pilistbox.c [rev:1.57, 2001-06-12T18:09:38]:
- bugfix PiListBox_GotoPi
- network filter setting was never detected because expire
    filter was not masked out
- bug report submitted by Werner Renhardt <werner@kangaroo.at>
epgdb/epgdbif.c [rev:1.28, 2001-06-12T18:20:53]:
- bugfix EpgDbGetStat()
- expired PI were not counted for sinceAcq statistics
- hence the variance did not reach 0 even if 100% blocks were in the db
epgctl/epgversion.h [rev:1.13, 2001-06-14T18:26:03]:
- set to version 0.5.2 (bugfix release)
www/index-de.html [rev:1.14, 2001-06-14T19:41:45]:
- update for release 0.5.2
www/index.html [rev:1.26, 2001-06-14T19:41:45]:
- update for release 0.5.2
www/changelog.html [rev:1.12, 2001-06-14T19:42:09]:
- update for release 0.5.2
- also added first changes for 0.6.0
www/man.html [rev:1.9, 2001-06-14T19:56:06]:
- update for release 0.5.2
CHANGES [rev:1.14, 2001-06-14T20:49:38]:
- updated for release 0.5.2 (bugfix release)
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_5_2 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgvbi/btdrv4linux.c [rev:1.15, 2001-06-09T19:01:16]:
- improved handling of SIGHUP in BtDriver_Main()
- pVbiBuf->isEnabled is not set to FALSE before the actual close()
epgdb/epgdbacq.h [epgvbi/ttxdecode.h, rev:1.14, 2001-06-10T08:08:37]:
- added struct EPGDB_ACQ_CB
- added EpgDbAcqSetCallbacks()
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.30, 2001-06-10T08:09:05]:
- removed #include "epgctl/epgacqctl.h"
- interface to control layer is now implemented via callbacks
- callbacks are set per new func EpgDbAcqSetCallbacks()
    using the new struct EPGDB_ACQ_CB
- replaced all ref's to EpgAcqCtl_* funcs with callbacks
- fix in EpgDbAcqCheckForPackets() for bNewChannel handling
- pVbiBuf->isEnabled was not supervised during channel change
- hence acq could have locked up
epgui/epgmain.c [rev:1.64, 2001-06-10T08:12:48]:
- ClockSecEvent: added call to EpgScan_ProcessPackets
- acq and scan engines now have separate acq callback handling
epgui/menucmd.c [rev:1.46, 2001-06-10T08:13:24]:
- MenuCmd_EpgScanHandler: detect if scan has stopped
- scan can be stopped by the driver; this info is passed up via callback
    into scan ctrl and now polled in the menucmd scan handler invocation
- ungrabs the popup when the scan has stopped
epgctl/epgacqctl.h [rev:1.28, 2001-06-10T08:29:15]:
- removed decls of BI/AI/ChannelChange funcs
- these are now passed as callback pointers to dbacq
- replaced EpgAcqCtl_ToggleAcqForScan() with EpgAcqCtl_Suspend()
- scan now uses its own set of callbacks
- scan suspends acqctl for the entire time of the scan
epgctl/epgacqctl.c [rev:1.47, 2001-06-10T08:30:25]:
- BI/AI/ChannelChange callbacks now passed to epgdbacq as func pointers
- this allows for epgscan to use a different set of callbacks
- use new func EpgDbAcqSetCallbacks() and struct EPGDB_ACQ_CB to pass cb ptrs
- cb funcs are declared static now
- replaced EpgAcqCtl_ToggleAcqForScan() with EpgAcqCtl_Suspend()
- scan now uses its own set of callbacks
- scan suspends acqctl for the entire time of the scan
- removed special handling of EpgScan_IsActive() in cb funcs
epgctl/epgscan.h [rev:1.6, 2001-06-10T08:32:58]:
- added EpgScan_ProcessPackets(), called from main loop every second
epgctl/epgscan.c [rev:1.14, 2001-06-10T08:33:13]:
- Scan no longer uses BI/AI callbacks from epgacqctl module
- added reduced copy of the callbacks
- callback pointers are passed to epgdbacq module via new func
    EpgDbAcqSetCallbacks() and struct EPGDB_ACQ_CB
- also no longer use pAcqDbContext
- changed all references to scanCtl.pDbContext
- replaced EpgAcqCtl_ToggleAcqForScan() with EpgAcqCtl_Suspend()
- scan suspends acqctl for the entire time of the scan
nxtvepg.pod [rev:1.46, 2001-06-12T18:46:38]:
- improved section on Xawtv connection, option channel changes
- make clear that the network filter follows the channel only if
    it is used exclusively
- mention that the network filter will filter even for networks
    which are excluded in the network selection dialog
www/changelog.html [rev:1.11, 2001-06-12T19:03:28]:
- added two bugfixes for 0.5.2 (yet unreleased)
epgdb/epgdbfil.c [rev:1.27, 2001-06-13T17:47:42]:
- EpgDbFilterSetSubStr(): changed/added params:
- added param matchFull: suppress sub-string search, compare full text
- inverted param ignoreCase: now called matchCase
- EpgDbFilterMatches() now handles 4 cases for text search
    using new func xstrcmp()
epgdb/epgdbfil.h [rev:1.17, 2001-06-13T17:49:07]:
- EpgDbFilterSetSubStr(): changed/added params:
- added param matchFull: suppress sub-string search, compare full text
- inverted param ignoreCase: now called matchCase
- struct FILTER_CONTEXT: same changes
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.115, 2001-06-13T17:58:22]:
- text search dialog: options changed
- inverted param ignoreCase: now called matchCase
- added param matchFull: suppress sub-string search, compare full text
- changed in all funcs that handle text search params
- LoadRc for version < 0.6.0: convert text search params
- for backwards compatibility:
- remove substr history
- change shortcut params for text search: invert ignoreCase, add FALSE fullMatch
epgui/pifilter.c [rev:1.47, 2001-06-13T17:58:38]:
- SelectSubStr: params changed
- inverted param ignoreCase: now called matchCase
- added param matchFull: suppress sub-string search, compare full text
- Context menu: added text search option "fullMatch"
epgui/menucmd.c [rev:1.47, 2001-06-16T10:27:15]:
- Dump database:
- renamed menu entry to "Dump raw database" in SetControlMenuStates()
- MenuCmd_DumpDatabase(): slight fix in Tcl result checks: use TCL_OK macro
- display file creation errors in message box instead of Tcl error result
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.116, 2001-06-16T10:32:26]:
- Added new dialog in Control menu: "Dump in HTML"
- added new proc PopupDumpHtml
- renamed "Dump database..." to "Dump raw database..."
- dumpdb now warns if given file already exists
- LoadRc: changed version check for substr from 0.5.2 to 0.6.0
epgui/pilistbox.c [rev:1.58, 2001-06-16T11:10:14]:
- Added new feature "Dump HTML"
- split off PiListBox_PrintColumnItem() from PiListBox_InsertItem()
    the new func is now used by listbox and HTML dump
- split several funcs off from PiListBox_UpdateInfoText():
    Pi_AppendShortAndLongInfoText(), Pi_AppendCompressedThemes(),
    Pi_AppendFeatureList()
    these new funcs are also used by the new PiListbox_HtmlDesc()
- new Tcl command C_DumpHtml, which invokes PiListBox_DumpHtml()
- XXX TODO: split this source file
epgui/pioutput.c [rev:1.1, 2001-06-16T14:57:44]:
- Initial revision
epgui/pioutput.h [rev:1.1, 2001-06-16T14:57:44]:
- Initial revision
epgui/pilistbox.c [rev:1.59, 2001-06-16T14:58:08]:
- split off pioutput module
epgui/pilistbox.h [rev:1.11, 2001-06-16T14:58:08]:
- split off pioutput module
Makefile [rev:1.32, 2001-06-16T15:00:33]:
- added epgui/pioutput
Makefile.win32 [rev:1.10, 2001-06-16T15:00:33]:
- added epgui/pioutput
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.117, 2001-06-16T15:01:14]:
- split pilistbox module -> renamed 2 C operators
- proc C_PiListBox_PopupPi --> C_PopupPi
- proc C_PiListBox_CfgColumns --> C_PiOutput_CfgColumns
epgui/epgmain.c [rev:1.65, 2001-06-16T15:02:04]:
- added init & destroy calls for new pioutput module
nxtvepg.pod [rev:1.47, 2001-06-16T19:09:42]:
- added description for new dialog "Dump (database) in HTML"
- improved description of "Dump raw database" (renamed from "Dump database")
- renamed "substring search" to "text search"
Makefile [rev:1.33, 2001-07-02T21:29:34]:
- added support for RPM specfile:
- added var: ROOT, prepended to all paths, to support RPM buildroot
- renamed several vars: IROOT->prefix, BINDIR->bindir, MANDIR->mandir
nxtvepg.spec [rev:1.1, 2001-07-02T21:30:18]:
- Initial revision
epgui/pioutput.c [rev:1.2, 2001-08-12T13:02:40]:
- fixed for Win32
- added link to external stylesheet for HTML dump
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.118, 2001-08-12T18:32:03]:
- added new filter menu: "Series alphabetically..."
    created by new post command proc CreateSeriesLetterMenu
- limit both series menus to 25 entries; add "more..." entry
    insert "none" if no titles in the menu
- removed proc DictifySeriesTitle -> moved to pioutput.c
- dump HTML: updated ref to Help doc
- pi column widths: adjusted width of time from 20 to 22 for non-unix
- series reset: replaced C_SelectSeries w/o args with C_ResetFilter series
epgui/pifilter.c [rev:1.48, 2001-08-12T18:38:19]:
- corrected usage strings: added "C_" prefix to proc names
- removed special case argc==1 from C_SelectSeries -> handled by C_ResetFilter
- series title funcs now use PiOutput_DictifyTitle():
    in GetNetwopSeriesList(), GetSeriesByLetter(), GetSeriesTitles().
    so on Tcl/Tk level the title strings need no longer be modified
    plus the language id need not be returned in the results
- added new func GetSeriesByLetter() for alphabetically sorted series list
- bugfix UpdateFilterContextMenuState:
    used netwop*128 instead of <<8 for series code calculation
epgui/pioutput.c [rev:1.3, 2001-08-12T18:38:33]:
- added new func PiOutput_DictifyTitle()
- was previously implemented on Tcl level as regex
- now used one level down in pifilter.c for series titles
epgui/pioutput.h [rev:1.2, 2001-08-12T18:39:16]:
- added new func PiOutput_DictifyTitle()
- was previously implemented on Tcl level as regex
- now used one level down in pifilter.c for series titles
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.119, 2001-08-12T19:18:19]:
- merged the two width columns in the coltabs array
- use pixels instead of mm -> same numbers work on all platforms
- latest problem was with move from XFree3 -> XFree 4
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.120, 2001-08-12T19:28:39]:
- fix proc FilterMenuAdd_Title: "Clear search history"
- rc file was not updated after clear
- hence titles re-appeared after next program start (unless rc was written otherwise)
epgui/pifilter.c [rev:1.49, 2001-08-14T18:34:23]:
- bugfix CreateContextMenu (crash SEGV)
- missing check for pPiBlock==NULL in "undo netwop filter" section
epgdb/epgblock.c [rev:1.37, 2001-08-19T09:11:58]:
- bugfix: declare nationalOptionsMatrix as signed char
- bug reported by Gerd Knorr for Power-PC platform
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.121, 2001-08-19T11:10:40]:
- added Context menu popup configuration dialog
- added list ctxmencf to the rc/ini file
epgui/pifilter.c [rev:1.50, 2001-08-19T11:11:32]:
- added user-defined entries to the context menu
- defined in global Tcl var ctxmencf
- added separator above if neccessary
- bugfix: replaced C_SelectSeries w/o args with C_ResetFilter series
epgui/pioutput.c [rev:1.4, 2001-08-19T11:15:16]:
- Added Tcl operator C_ExecUserCmd -> new func PiOutput_ExecUserCmd
- Changed tpe of arg fp in PiOutput_AppendShortAndLongInfoText() to void *
epgui/pioutput.h [rev:1.3, 2001-08-19T11:16:24]:
- Changed tpe of arg fp in PiOutput_AppendShortAndLongInfoText() to void *
epgui/pilistbox.c [rev:1.60, 2001-08-19T11:16:42]:
- fix: PiListBox_InsertItem()
- must not use tag "past" even if start time is over
- else some titles might appear red in the short time between a
    reset/refresh and the regular expire call
- Changed tpe of arg fp in PiOutput_AppendShortAndLongInfoText() to void *
www/changelog.html [rev:1.13, 2001-08-19T11:51:32]:
- added items for unrelease 0.6.0
- user-def cmds in ctx men
- removed internal change: EPG scan
- added possible releae date: end august 2001
nxtvepg.pod [rev:1.48, 2001-08-21T19:29:24]:
- chapter context menu: added section #3: user-defined commands
- chapter configuration: added context menu config dialog (user-def'd cmds)
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.122, 2001-08-21T19:45:51]:
- added file selection dialog to dump menus (raw & HTML)
- HTML dump: reordered dialog widgets
epgui/pilistbox.c [rev:1.61, 2001-08-21T19:46:59]:
- added maxlen arg to call to PiOutput_AppendCompressedThemes()
epgui/pioutput.h [rev:1.4, 2001-08-21T19:47:26]:
- added maxlen arg to PiOutput_AppendCompressedThemes()
epgui/pioutput.c [rev:1.5, 2001-08-21T19:51:09]:
- added buffer overflow prevention
- to PiOutput_AppendCompressedThemes()
- to PiOutput_ExtCmdAppend() and it's users
-> PiOutput_ExtCmdVariable() uses PiOutput_ExtCmdAppend() exclusively
     to write its output
- HTML dump: correct handling of special chars: & < >
-> new function PiOutput_HtmlWriteString(), used by all non-HTML strings
-> remove double quotes from service name in copyright meta tag
nxtvepg.pod [rev:1.49, 2001-08-21T20:55:55]:
- chapter control: dump HTML: adapted to changed widget ordering
- fileselection is now topmost, then flags, then type.
epgui/pioutput.c [rev:1.6, 2001-08-23T19:59:43]:
- bugfix WIN32 in HtmlFileCreate()
- do not abort if backup file does not exist,
- i.e. when remove fails with ENOENT
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.123, 2001-08-23T20:00:38]:
- save dumpdb and dumphtml settings in rc/ini file
epgctl/epgacqctl.c [rev:1.48, 2001-08-23T20:01:17]:
- tiny fix: removed 2nd ; behind statement
pod2help.pl [rev:1.11, 2001-08-23T20:13:46]:
- added support for pre-formatted paragraphs
- i.e. paragraphs that start with blank
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.124, 2001-08-23T21:02:13]:
- bugfixes ctxmencf dialog:
- unset ctxmencf_arr must check if array exists
- selidx can be -1 and still appear < llength $ctxmencf_ord
    symptom was that no warning for unsaved changed showed when no idx selected
- added word "Note:" to warning texts; "OK" is no longer default button
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.125, 2001-08-24T19:55:29]:
- improvements in context menu config dialog
- added "clear" button
- clear entry fields after the last item is deleted
- removed default from "discard" dialog in abort button
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.126, 2001-08-25T06:54:37]:
- fix dumdb dialog: added destroy to the proc called after Ok
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.127, 2001-08-25T08:52:02]:
- fixes in ProvMerge_Quit:
- don't check if prov selist is empty upon Abort
- do not remove destroy binding of opt dialog
epgui/pioutput.c [rev:1.7, 2001-08-25T11:52:41]:
- removed embarrassing size restriction for command lines to user-def cmds
-> use new struct DYN_CHAR_BUF to implement dynamically growing buffer
-> buffer handled by new func PiOutput_ExtCmdAppendChar
-> all ExtCmd functions changed to transparently pass ptr to dynbuf
     instead of char* and maxlen
nxtvepg.pod [rev:1.50, 2001-08-25T12:38:14]:
- updated description of context menu config dialog
Makefile [rev:1.34, 2001-08-25T12:46:29]:
- changed bak rule: windows path from C: back to E:
Makefile.win32 [rev:1.11, 2001-08-25T12:47:10]:
- Changed paths to Tcl: now in D:/gnu/tcl
CHANGES.version [rev:1.7, 2001-08-25T12:48:10]:
- added nxtvepg.spec to list of manually version update required
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.128, 2001-08-25T12:50:12]:
- ctxmencf dialog: widened entry fields from 50 to 55 to use
epgctl/epgversion.h [rev:1.14, 2001-08-25T12:52:12]:
- set to version 0.6.0
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.129, 2001-08-25T15:07:45]:
- fixed proc SelectPiMotion for Win95:
- mask $state with 0x100 because bit 3 is permanently set
www/index-de.html [rev:1.15, 2001-08-25T17:07:09]:
- update for release 0.6.0
- added possibility to generate RPM from source tarball
- removed thecounter.com script code
- added </P> tags
www/index.html [rev:1.27, 2001-08-25T17:07:09]:
- update for release 0.6.0
- added possibility to generate RPM from source tarball
- removed thecounter.com script code
- added </P> tags
www/changelog.html [rev:1.14, 2001-08-25T17:08:20]:
- update for release 0.6.0
www/man.html [rev:1.10, 2001-08-25T17:08:43]:
- update for release 0.6.0
www/provnets.html [rev:1.9, 2001-08-25T17:08:57]:
- moved TRT note to the bottom; tightened the text
CHANGES [rev:1.15, 2001-08-25T17:28:24]:
- updated for release 0.6.0
TODO [rev:1.13, 2001-08-25T17:28:39]:
- updated for release 0.6.0
www/changelog.html [rev:1.15, 2001-08-28T19:11:30]:
- added pre-info for 0.6.1: bugfix epgdbmgmt
- removed "maybe more" from 0.6.0
- fixed HTML: replaced some & with &amp;
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_6_0 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgdb/epgdbmgmt.c [rev:1.34, 2001-08-29T08:58:21]:
- bugfix EpgDbPiBlockNoValid:
- did not check for special case of AI block range 0x0000-0xffff
    and startno=stopno+1
- in this case all blocks for that network are obsolete
epgdb/epgdbif.c [rev:1.29, 2001-08-29T08:59:49]:
- bugfix EpgDbGetStat:
- obsolete blocks were counted as expired when stop time is in the past
- this distinction is no longer neccessary as normal expired blocks
    are kept in the normal PI list since some time
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.130, 2001-08-30T08:41:56]:
- bugfix proc ApplySelectedColumnList:
- in the branch for "column headers off" for PI listbox width calculation
- forgot to remove "m" after width variable -> set pixels as if mm
epgctl/epgversion.h [rev:1.15, 2001-08-30T08:52:56]:
- set to version 0.6.1 (bugfix release)
nxtvepg.spec [rev:NONE - missing check-in]:
- changed version to 0.6.1
www/changelog.html [rev:1.16, 2001-08-29T19:27:34]:
- added note about GUI bug: listbox width when column headers switched off
www/index.html [rev:1.28, 2001-08-30T15:54:03]:
- update for release 0.6.1
- improved description of new features in 0.6.0 a little bit
www/index-de.html [rev:1.16, 2001-08-30T15:55:10]:
- update for release 0.6.1
- improved description of new features in 0.6.0 a little bit
www/changelog.html [rev:1.17, 2001-08-30T15:55:57]:
- update for release 0.6.1
- improved description of new features in 0.6.0 a little bit
- improved introductionary paragraph regarding unreleased features
CHANGES [rev:1.16, 2001-08-30T16:04:05]:
- updated for bugfix release 0.6.1
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_6_1 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgdb/epgdbif.c [rev:1.30, 2001-08-29T13:50:28]:
- stats funcs: curversion handling changed:
- now the block must not only have the current AI version but also
    have been received in the stream the PI block currently is assigned to
-> check stream in EpgDbGetStat both for curVersion and sinceAcq
-> added new func EpgDbGetStreamByBlockNo() for timescale GUI
     to do the same comparison there
- added 2nd minTime arg to EpgDbGetStat()
- both stream's variance history is now monitored by acqctl
epgdb/epgdbif.h [rev:1.19, 2001-08-29T13:54:54]:
- Added new func EpgDbGetStreamByBlockNo()
- to detect not up-to-date PI in the timescales GUI
- added 2nd minTime arg to EpgDbGetStat()
- both stream's variance history is now monitored by acqctl
epgui/statswin.c [rev:1.36, 2001-08-29T13:58:39]:
- handle new acq phase ACQMODE_PHASE_MONITOR in acq state output
- StatsWin_Load(): changed current version check
- now the block must not only have the current AI version but also
    have been received in the stream the PI block currently is assigned to
- current stream assignment is calculated by new func EpgDbGetStreamByBlockNo
epgdb/epgdbif.c [rev:1.31, 2001-08-30T09:30:24]:
- fix EpgDbGetStreamByBlockNo()
- must check for special case that stream 1 is empty
- this might occur even when stream 2 is not empty
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.131, 2001-08-31T07:27:20]:
- bugfix proc DbStatsWin_PaintPie and DbStatsWin_ClearPie
- wrong widget path in clear command
- old content was never deleted
epgdb/epgdbif.c [rev:1.32, 2001-08-31T12:38:55]:
- EpgDbGetStat:
- added calculation of avgAcqRepCount from pBlock->acqRepCount
- added maxNowRepCount as function param; required to filter
    Now & Next blocks from stream 1 for avgAcqRepCount
- stream 1 and 2 handling merged -> use arrays for all temp vars
    also param acqMinTime is now array[2]; this was required to
    avoid excessive code duplication
- EpgDbGetStreamByBlockNo: changed params
- now pass block_no and netwop instead of PI_BLOCK ptr
- preferrable since it's now also used by EpgDbGetStat
epgdb/epgdbif.h [rev:1.20, 2001-08-31T12:42:38]:
- EpgDbGetStat:
- added param maxNowRepCount: required for avgAcqRepCount calc.
- merged both acqMinTime1/2 params into array acqMinTime[2]
- EpgDbGetStreamByBlockNo:
- now pass block_no and netwop instead of PI_BLOCK ptr
- preferrable since it's now also used by EpgDbGetStat
epgdb/epgblock.c [rev:1.38, 2001-08-31T16:43:33]:
- Removed all Julian->Discrete date conversion func
- instead Julian is now directly transformed to UNIX Epoch
- therefore in init the UNIX base unixTimeBase1982 is calculated
- Removed static var lto
- instead EpgLtoGet calculatis is dynamically
- new param timme_t when, since LTO is not constant due to daylight saving t.
epgdb/epgblock.h [rev:1.29, 2001-08-31T16:45:38]:
- EpgLtoGet: added param time_t when
- lto is now calculated dynamically for the given timestamp
- Added acqRepCount to struct EPGDB_BLOCK
- required for acq cycle timeout criterium
epgdb/epgdbfil.c [rev:1.28, 2001-08-31T16:47:31]:
- Adapted for changed EpgLtoGet(): added arg "now"
epgdb/epgdbif.c [rev:1.33, 2001-08-31T16:50:27]:
- bugfix EpgDbGetProgIdx()
- caused by the change that expired PI are kept in the db
-> must search through the PI network chain for the first
    non-expired PI; that one has index 0 or 1
epgdb/epgdbif.c [rev:1.34, 2001-08-31T16:52:26]:
- Optimizations (after gperf analysis)
- in SearchNext/Prv/First/Last funcs: pulled condition (fc == NULL)
    out of the search loop
- EpgDbSearchPi(): removed param FILTER_CONTEXT *fc: was used by
    pilistbox (in some calls), however not required -> saves a lot of
    calls to EpgDbFilterMatches() in listbox management
epgdb/epgdbif.h [rev:1.21, 2001-08-31T16:55:36]:
- Simplified EpgDbSearchPi
- removed param FILTER_CONTEXT *fc
- was used by pilistbox (in some calls), however not required
epgui/pifilter.c [rev:1.51, 2001-08-31T16:59:39]:
- bugfix SelectNi: EXPIRE prefilter was disabled
- Adapted for changed EpgLtoGet(): added arg "now"
epgui/pilistbox.c [rev:1.62, 2001-08-31T17:00:44]:
- Adapted for changed EpgLtoGet(): added arg "now"
- Safety fix: added checks for pPiBlock != NULL at several places
- Removed arg FILTER_CONTEXT *fc from EpgDbSearchPi()
- was used in some calls, but never required
- performance improvement: saves calls to match function
- in consistancy check func: added extra call to match func
epgui/statswin.c [rev:1.37, 2001-08-31T17:25:19]:
- StatsWin_Load() improved: added gray ranges to mark missing PI blocks
- StatsWin_DisplayPi() new arg: bool isLast
    to remove rest of estimated "missing range" at the end of the scale
- added new enum STREAM_COLOR -> cleaned up stream color handling
    all accesses to color table use the enums
- StatsWin_HighlightNetwop: use new defines for colors
- calls to EpgDbGetStat(): dummy params adapted
- StatsWin_UpdateDbStatsWin: new element "PI rx repetition",
    i.e. new elem avgAcqRepCount in struct EPGDB_BLOCK_COUNT
- StatsWin_RebuildCanvas() improved: no longer destroys all canvas before
    rebuilding -> changed proc TimeScale_Create -> does create or update
    only if new # of netwops is smaller, the remaining scales are destroyed
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.132, 2001-08-31T17:28:46]:
- TimeScale_Create semantics changed: can now also be called when the scale
    already exists; then it's cleared and the label adapted
- added proc TimeScale_Remove to removed obsolete scales from the popup
    e.g. after change to a provider with less networks
- added arg isLast to proc TimeScale_AddPi
    remove any remaining blocks to the right, esp. the "PI missing" range
www/changelog.html [rev:1.18, 2001-08-31T20:25:52]:
- started with log for 0.6.2
- added Thanks to Peter Suetterlin for the bug report
epgui/menucmd.c [rev:1.48, 2001-09-01T10:04:09]:
- Removed restriction that acq timescale is available only when ui-db != acq-db
- MenuCmd_ChangeProvider: removed call to StatsWin_ProvChange(DB_TARGET_ACQ)
    this is handled by epgacqctl already
- MenuCmd_GetAiNetwopList: extended to check also if given CNI happens
    to be the same as the acq db; used by new proc TimeScale_Open
- Adapted call to EpgLtoGet(): additional arg "now"
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.133, 2001-09-01T10:14:11]:
- Added new proc TimeScale_Open
- functionality moved here from C funcs StatsWin_BuildCanvas()
    and StatsWin_RebuildCanvas()
- merged with proc TimeScale_Remove
epgui/statswin.c [rev:1.38, 2001-09-01T10:18:04]:
- Removed restriction that acq timescale is available only when ui-db != acq-db
    -> all acq input has to be offered to both scales
    -> put for() loops into these functions
- removed StatsWin_BuildCanvas(): now done on Tcl level by
    new proc TimeScale_Open; also used by StatsWin_RebuildCanvas()
- updated global description in file header
nxtvepg.pod [rev:1.51, 2001-09-02T15:11:34]:
- extended & updated statistics chapter
- new intro & split up in three level 2 sections
- added section on status line
- added 2 lists with explanations of every single statistic output line
pod2help.pl [rev:1.12, 2001-09-02T15:12:57]:
- added handling of =head2 command: equivalently to B<...>
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.31, 2001-09-02T16:12:39]:
- AI blocks are now checked for parity errors
-> EpgDbAcqProcessPackets: when result from EpgDbAddBlock() is FALSE
     free the block; however other processing is done in any case
epgdb/epgdbfil.h [rev:1.18, 2001-09-02T16:13:45]:
- defined LI_DESCR_TYPE and TI_DESCR_TYPE as 7 and 8
- commented out references to EPGDBACQ_TYPE_LI and EPGDBACQ_TYPE_TI
- so these can be used without including epgstream.h
epgdb/epgdbmgmt.c [rev:1.35, 2001-09-02T16:21:40]:
- EpgDbAddAiBlock: AI blocks are now checked for parity errors
epgdb/epgdbmerge.c [rev:1.16, 2001-09-02T16:23:11]:
- Merged db now contains only user-selected netwops, in the correct order
- additional args to EpgDbMergeAiBlocks: netwopCount, pNetwopList
- all PI merge funcs must check if the PI's network is enabled
    i.e. netwopMap[dbIdx][netwop] can be 0xff
- Fixed version handling
- added descriptor array to all PI blocks with list of merged db indices
- AI version is constantly 1; PI set to 1 if all merged PI have cur. version
- added new func EpgDbMerge_ResetPiVersion to reset versions after a
    version change in one of the merged dbs
epgdb/epgdbmerge.h [rev:1.7, 2001-09-02T16:28:04]:
- Merged db now contains only user-selected netwops, in the correct order
- additional args to EpgDbMergeAiBlocks: netwopCount, pNetwopList
- Fixed version handling
- added descriptor array to all PI blocks with list of merged db indices
    added define MERGE_DESCR_TYPE
- added new func EpgDbMerge_ResetPiVersion to reset versions after a
    version change in one of the merged dbs
epgctl/epgctxmerge.c [rev:1.4, 2001-09-02T16:30:54]:
- Merged db now contains only user-selected netwops, in the correct order
- additional args to EpgContextMerge: netwopCount, netwopCniTab
    directly passed on to EpgDbMergeAiBlocks
- EpgContextMergeAiUpdate compied CNI list from old AI block
- Fixed version handling
- call EpgDbMerge_ResetPiVersion and StatsWin_ProvChange
    when the version of a merged AI changes
epgctl/epgctxmerge.h [rev:1.3, 2001-09-02T16:33:28]:
- Merged db now contains only user-selected netwops, in the correct order
- additional args to EpgContextMerge: netwopCount, netwopCniTab
- Also removed redundant arg pAiBlock from EpgContextMergeAiUpdate()
- Also removed empty func EpgContextMergeAiCheckBlockRange()
epgctl/epgacqctl.c [rev:1.49, 2001-09-02T17:02:58]:
- Added final cycle phase ACQMODE_PHASE_MONITOR
- after stream 2 the acq state remains in monitor instead of restarting at NOW
- maintain variance history for both streams
- Fixed possible cycle hangups in abnormal cases
- added overall timeout for each phase: 5 mins for now, 30 mins for stream 1 & 2
- added timeout criterium based on cycle pass, i.e. avg. PI repetition
- check for ai count == 0 -> set fill percentage to 100 instead of 0
- AI callback: checks for stream 1/2 PI range changes
- PI that moved from stream 2 to 1 are considered not to have the cur.version
- call StatsWin_VersionChange() to rebuild the timescales
- do not reset stats (esp. acq runtime) upon AI version change; do normal update
- Required changes in statistics handling:
- added EpgDbGetNowCycleMaxRepCounter() to EpgAcqCtl_StatisticsUpdate
- replaced avgAiDistance with sumAiDistance
    since acq runtime now starts before the first AI is received
- check for division by 0 in case ai count == 0
- moved call to EpgDbResetAcqRepCounters() into EpgAcqCtl_StatisticsReset
epgctl/epgacqctl.h [rev:1.29, 2001-09-02T17:03:02]:
- Added final cycle phase ACQMODE_PHASE_MONITOR
- added overall timeout for each phase: 5 mins for now, 30 mins for stream 1,2
- maintain variance history for both streams in new struct EPGDB_VAR_HIST
- added nowNextMaxAcqRepCount to struct EPGDB_STATS
- added cniCount to struct EPGACQ_DESCR for stats win.
- added MAX_CYCLE_ACQ_REP_COUNT for cycle tmimeout
- replaced avgAiDistance with sumAiDistance
epgui/epgmain.c [rev:1.66, 2001-09-02T17:06:03]:
- added bitmap qmark.xbm for the new Help button in the db stats popup
images/qmark.xbm [rev:1.1, 2001-09-02T17:06:40]:
- Initial revision
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.134, 2001-09-02T17:15:16]:
- Merged db now contains only user-selected netwops, in the correct order
- network selection dialog must give additional arg "allmerged"
    to C_GetAiNetwopList()
- after commiting a new network selection, call C_ProvMerge_Start
- Added help button with new bitmap qmark.xbm to db stats popup window
epgui/pioutput.c [rev:1.8, 2001-09-02T17:20:32]:
- PiOutput_PopupPi: handle new descriptor type MERGE_DESCR_TYPE
epgui/menucmd.h [rev:1.9, 2001-09-02T17:21:10]:
- removed decl of ProvMerge_ParseConfigString: was already static
epgui/menucmd.c [rev:1.49, 2001-09-02T17:30:58]:
- Merged db now contains only user-selected netwops, in the correct order
- C_GetAiNetwopList Tcl operator has additional arg "allmerged"
    used by network selection dialog to retrieve all CNIs of all merged dbs
    instead of the ones included in the last merge
    uses new func MenuCmd_AppendNetwopList() now to generate the result
- new func ProvMerge_ParseNetwopList(): reads Tcl var cfnetwops(0x00FF)
    called by ProvMerge_Start() and OpenInitialDb()
epgui/statswin.c [rev:1.39, 2001-09-02T17:39:55]:
- StatsWin_UpdateDbStatsWin
- Fixed possible division by 0 (ai count) at several places
- fill count is assigned 100% when AI count == 0
- fix: expire percentage: checked for cur-vers-count > 0 but div. by all-vers.
- ai distance: replaced avgAiDistance with sumAiDistance in EPGDB_STATS
- use separate label 'Complete' for phase ACQMODE_PHASE_MONITOR
- Added dprintf for debugging ext. calls to stats update trigger funcs
- Fixed version handling for merged db timescales
- do not use EpgDbGetStreamByBlockNo() for merged db: use rx_stream
- Fixed timescale update triggers
- to allow merge timescale update upon AI version change
    this is called in addition to _VersionChange, which is triggered by acqctl
-> must not use arg unique=TRUE to AddMainIdleEvent(StatsWin_RebuildCanvas)
- removed hack target==3 in StatsWin_RebuildCanvas()
epgdb/epgdbif.c [rev:1.35, 2001-09-07T18:50:57]:
- EpgDbContextIsMerged(): added NULL ptr check
epgctl/epgversion.h [rev:1.16, 2001-09-07T19:56:32]:
- set to version 0.6.2
epgui/statswin.c [rev:1.40, 2001-09-07T20:26:49]:
- two more fixes for AI-total == 0
www/index-de.html [rev:1.17, 2001-09-07T21:17:22]:
- update for new release 0.6.2
- added note that tripod.com has more old distribs than nefkom (10MB vs. 50MB)
www/index.html [rev:1.29, 2001-09-07T21:17:22]:
- update for new release 0.6.2
- added note that tripod.com has more old distribs than nefkom (10MB vs. 50MB)
www/changelog.html [rev:1.19, 2001-09-07T21:18:31]:
- update for release 0.6.2
- added 3 missing items to 0.6.0
www/man.html [rev:1.11, 2001-09-07T21:18:58]:
- update for release 0.6.2
CHANGES [rev:1.17, 2001-09-07T21:25:42]:
- updated for release 0.6.2
- added missing fix for 0.6.0: Win-95 cursor
TODO [rev:1.14, 2001-09-07T21:27:32]:
- updated for release 0.6.2
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_6_2 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgctl/epgacqctl.c [rev:1.50, 2001-09-12T18:24:01]:
- fix EpgAcqCtl_Toggle: compared bool arg with acq state enum
epgctl/epgacqctl.h [rev:1.30, 2001-09-12T18:24:50]:
- EpgAcqCtl_Toggle: change type for arg from int to bool
epgvbi/btdrv4linux.c [rev:1.16, 2001-09-12T18:34:43]:
- BtDriver_SignalHangup: added possibility to enable acq per SIGHUP
    removed SIG_IGN for SIGHUP from master process
- BtDriver_SignalDeathOfChild: master catches SIGCHLD to detect death of slave
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.135, 2001-09-12T18:43:17]:
- Put all code into procedures
- new procs CreateMainWindow and CreateMenubar
- to allow to load the script without Tk support too -> daemon mode
epgui/statswin.c [rev:1.41, 2001-09-12T18:44:07]:
- StatsWin_ProvChange:
- catch pAcqDbContext==NULL (when acq has been disabled)
- to update status line more quickly
epgui/uictrl.h [rev:1.6, 2001-09-12T18:48:27]:
- Added new func UiControl_Init()
epgui/epgmain.c [rev:1.67, 2001-09-12T19:14:03]:
- added new options: -daemon -acqpassive (UNIX only) -> var optDaemonMode
    + do no set up Tk; skip GUI and browser db initializations
    + fork & setsid; separate main loop
    + SetDaemonAcquisitionMode
- added handler for SIGHUP to allow to enable acquisition
    new func EventHandler_StartAcq() invoked as AddMainIdleEvent
epgui/uictrl.c [rev:1.13, 2001-09-12T19:14:47]:
- Added UiControl_Init(): for new daemon mode
- sets global var uiControlInitialized
- if FALSE use fprintf instead of Tk messagebox for error messages
epgui/menucmd.c [rev:1.50, 2001-09-12T19:23:40]:
- Added support for daemon mode
- split off new func GetAcquisitionModeParams() from SetAcquisitionMode()
- added new func SetDaemonAcquisitionMode
- MenuCmd_ToggleAcq: change arg type from int to bool
- Added prefix "MenuCmd_" two 2 static funcs
epgui/menucmd.h [rev:1.10, 2001-09-12T19:23:46]:
- Added support for daemon mode
- split off new func GetAcquisitionModeParams() from SetAcquisitionMode()
- added new func SetDaemonAcquisitionMode
- MenuCmd_ToggleAcq: change arg type from int to bool
- Added prefix "MenuCmd_" two 2 static funcs
epgui/pioutput.c [rev:1.9, 2001-09-12T19:26:54]:
- PiOutput_ExecUserCmd: modified to support daemon mode
- ignore SIGCHLD for system() call, i.e. disabled signal handler
nxtvepg.pod [rev:1.52, 2001-09-12T19:28:50]:
- Added description for new options: -daemon and -acqpassive
nxtvepg.pod [rev:1.53, 2001-09-16T10:47:19]:
- corrected typo
epgctl/epgversion.h [rev:1.17, 2001-09-16T11:04:02]:
- set to version 0.6.3
CHANGES [rev:1.18, 2001-09-16T11:31:31]:
- updated for release 0.6.3
www/changelog.html [rev:1.20, 2001-09-16T11:31:31]:
- update for release 0.6.3
www/man.html [rev:1.12, 2001-09-16T11:31:31]:
- update for release 0.6.3
www/index-de.html [rev:1.18, 2001-09-16T11:31:42]:
- update for release 0.6.3
www/index.html [rev:1.30, 2001-09-16T11:31:42]:
- update for release 0.6.3
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_6_3 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgui/epgmain.c [rev:1.68, 2001-09-23T19:13:22]:
- fix EventHandler_StartAcq(): allow both en-/disable acq
www/index.html [rev:1.31, 2001-10-04T18:03:03]:
- added Nedstat counter code
www/index-de.html [rev:1.19, 2001-10-13T11:37:16]:
- added note about SuSE 7.3
- copyright section: added version number (2) to GPL references
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.32, 2001-11-01T11:06:18]:
- split function EpgDbAcqProcessPackets(): new func EpgDbAcqProcessBlocks()
    advantage: EpgDbAcqProcessPackets() can be called when DB is not locked;
    no TTX packets are lost even when the GUI is blocked for a long time.
    TODO: when the block queue gets very large, insertion must be optimized
- EpgDbAcqGetScanResults: allow NULL ptrs for all return value pointers
- improved module description plus a few other comments
epgdb/epgdbacq.h [epgvbi/ttxdecode.h, rev:1.15, 2001-11-01T11:06:39]:
- split function EpgDbAcqProcessPackets(): new func EpgDbAcqProcessBlocks()
- advantage: EpgDbAcqProcessPackets() can be called when DB is not locked;
- no TTX packets are lost even when the GUI is blocked for a long time.
- TODO: when the block queue gets very large, insertion must be optimized
epgvbi/btdrv4dummy.c [rev:1.4, 2001-11-01T11:10:44]:
- fixed BtDriver_SetInputSource()
- param bool keepOpen was missing as formal parameter
epgvbi/btdrv4linux.c [rev:1.17, 2001-11-01T11:11:54]:
- Added compile-time switch USE_THREADS
-> instead of Sys-V IPC multi-threading is used for acq slave
epgui/xawtv.c [rev:1.16, 2001-11-01T20:07:16]:
- bugfix in Xawtv_NowNext()
- percentage for titles with stop time in the past was 100*100
- provided by Ulrich Mueller <ulrich.mueller42@web.de>
www/changelog.html [rev:1.21, 2001-11-02T21:06:57]:
- added 3 items for 0.7.0: dbsrv, multi-threading, bugfix xawtv.
Makefile [rev:1.35, 2001-11-02T21:33:23]:
- added -lpthread to LDLIBS
- added epgdb/epgdbsrv to sources
epgdb/epgdbsav.c [rev:1.40, 2001-11-02T23:47:56]:
- bugfix EpgDbSavSetupDir()
- check for dbdir permissions did not mask out unrelated bits from stats mode
    hence chmod() was always called for the directory
- bug reported by Enrico Scholz <enrico.scholz@informatik.tu-chemnitz.de>
nxtvepg.spec [rev:NONE - missing check-in]:
- changed version to 0.6.4
www/provnets.html [rev:1.10, 2001-11-04T09:37:19]:
- added TSI
- added note to send me new providers or updates
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.136, 2001-11-04T11:36:36]:
- added client/server configuration dialog
- added netacqcf to the rc/ini file
epgdb/epgdbmerge.c [rev:1.17, 2001-11-05T21:43:54]:
- bugfix EpgDbMergeAiBlocks():
- during the very first merge the network list is always empty, because the
- user hasn't had a chance to invoke the network selection -> must include
- all CNIs of all providers
epgui/menucmd.c [rev:1.51, 2001-11-06T20:09:27]:
- Fixed error handling in ProvMerge_Start()
- check for NULL result after EpgContextMerge()
- handle missing Tcl var cfnetwops in ProvMerge_ParseNetwopList()
epgctl/epgversion.h [rev:1.18, 2001-11-06T20:42:27]:
- set to version 0.6.4
CHANGES [rev:1.19, 2001-11-07T19:33:18]:
- updated for bugfix release 0.6.4
www/index-de.html [rev:1.20, 2001-11-07T19:36:12]:
- update for release 0.6.4
www/index.html [rev:1.32, 2001-11-07T19:36:12]:
- update for release 0.6.4
www/changelog.html [rev:1.22, 2001-11-07T19:38:12]:
- update for release 0.6.4
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_6_4 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgdb/epgnetio.c [rev:1.1, 2001-11-01T10:44:15]:
- Initial revision
epgdb/epgnetio.h [rev:1.1, 2001-11-01T10:44:17]:
- Initial revision
epgdb/epgnetio.c [rev:1.2, 2001-11-07T19:54:16]:
- added "set" functions for GUI
- added logging for client & server
- server listens both on TCP/IP and pipe
- fixed DUMP: skip if CNI = 0
- added EpgDbServer_SetProvider()
epgdb/epgnetio.h [rev:1.2, 2001-11-07T19:54:42]:
- added "set" functions for GUI
- increased protocol compat version from 0.6.4 to 0.7.0
epgdb/epgqueue.c [rev:1.1, 2001-11-17T22:19:29]:
- Initial revision
epgdb/epgqueue.h [rev:1.1, 2001-11-17T22:19:31]:
- Initial revision
epgdb/epgqueue.c [rev:1.2, 2001-11-18T19:32:09]:
- Added EpgDbQueue_Peek() for epgdbsrv.c
- Fixed typo in func name EpgDbQueue_GeBlockCount()
- Made EpgDbQueue_Get() global for epgdbsrv.c
epgdb/epgqueue.h [rev:1.2, 2001-11-18T19:33:39]:
- Added EpgDbQueue_Peek() for epgdbsrv.c
- Fixed typo in func name EpgDbQueue_GeBlockCount()
- Made EpgDbQueue_Get() global for epgdbsrv.c
epgctl/epgctxctl.c [rev:1.9, 2001-11-18T20:04:44]:
- Implemented cache for "database peeks"
- when a db is closed by the last used it's "stripped down" to a peek
    i.e. all locks are freed except AI and OI#0 and the context struct
- if a db is open at the time someone want to "peek" into it,
    the full context is returned transparently
- upper layers must not use EpgDbPeek() directly anymore
epgctl/epgctxctl.h [rev:1.7, 2001-11-18T20:04:44]:
- Implemented cache for "database peeks"
- when a db is closed by the last used it's "stripped down" to a peek
    i.e. all locks are freed except AI and OI#0 and the context struct
- if a db is open at the time someone want to "peek" into it,
    the full context is returned transparently
- upper layers must not use EpgDbPeek() directly anymore
epgdb/epgblock.h [rev:1.30, 2001-11-24T20:16:46]:
- added elems to struct EPGDB_CONTEXT for use as peek: bool isPeek, stalePeek
- added struct EPGDB_QUEUE
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.33, 2001-11-24T20:28:41]:
- Use new epgdb/epgqueue module for EPG blocks
- queues replace scratch buffer in epgstream module
- added EPGDB_QUEUE pointer to start and reset functions
    pass the pointer to streams init func
- moved EpgDbAcqSetCallbacks, EpgDbAcqProcessBlocks to epgdbmgmt module
- EpgDbAcqCheckForPackets: added result bool * pStopped
- EpgDbAcqProcessPackets: returns FALSE upon channel changes
- moved all static variables into new struct EPGDBACQ_STATE
epgdb/epgdbacq.h [epgvbi/ttxdecode.h, rev:1.16, 2001-11-24T20:28:41]:
- Use new epgdb/epgqueue module for EPG blocks
- queues replace scratch buffer in epgstream module
- added EPGDB_QUEUE pointer to start and reset functions
    pass the pointer to streams init func
- moved EpgDbAcqSetCallbacks, EpgDbAcqProcessBlocks to epgdbmgmt module
- EpgDbAcqCheckForPackets: added result bool * pStopped
- EpgDbAcqProcessPackets: returns FALSE upon channel changes
- moved all static variables into new struct EPGDBACQ_STATE
epgdb/epgdbmgmt.c [rev:1.36, 2001-11-24T20:38:23]:
- Added option bool keepAiOi to EpgDbDestroy()
- used by peek cache in epgctl/epgctxctl module
- frees all blocks except AI, OI#0 and the context struct
- Added queue handling
- EpgDbAddBlock() now static
- added EpgDbProcessQueueByType() and EpgDbProcessQueue()
- Added forward of added blocks to epgdbsrv module in EpgDbAddBlock()
- Lowered PARITY output from debug to dprintf
epgdb/epgdbmgmt.h [rev:1.15, 2001-11-24T20:39:23]:
- Added option bool keepAiOi to EpgDbDestroy()
- used by peek cache in epgctl/epgctxctl module
- frees all blocks except AI, OI#0 and the context struct
- Added queue handling
- EpgDbAddBlock() declaration removed: now static
- added EpgDbProcessQueueByType() and EpgDbProcessQueue()
epgdb/epgdbsav.c [rev:1.41, 2001-11-24T20:46:15]:
- Use normal context struct for peek
- change EpgDbPeek() to EPGDB_CONTEXT
- removed EpgDbPeekDestroy()
- removed EPGDBSAV_PEEK from header file
epgdb/epgdbsav.h [rev:1.27, 2001-11-24T20:46:15]:
- Use normal context struct for peek
- change EpgDbPeek() to EPGDB_CONTEXT
- removed EpgDbPeekDestroy()
- removed EPGDBSAV_PEEK from header file
epgdb/epgqueue.c [rev:1.3, 2001-11-24T20:48:58]:
- Moved queue processing to epgdb/epgdbmgmt.c
- removed EpgDbQueue_ProcessAiBi(), EpgDbQueue_ProcessBlocks()
- made EpgDbQueue_GetByType() global
- moved EPGDB_QUEUE_CB to epgdb/epgblock.h
epgdb/epgqueue.h [rev:1.3, 2001-11-24T20:48:58]:
- Moved queue processing to epgdb/epgdbmgmt.c
- removed EpgDbQueue_ProcessAiBi(), EpgDbQueue_ProcessBlocks()
- made EpgDbQueue_GetByType() global
- moved EPGDB_QUEUE_CB to epgdb/epgblock.h
epgdb/epgstream.c [rev:1.16, 2001-11-24T20:54:22]:
- Replaced scratch buffer with new epgdb/epgqueue module
- removed EpgStreamAddBlockToScratch(), EpgStreamClearScratchBuffer()
    removed EpgStreamGetBlockByType(), EpgStreamGetNextBlock()
- EpgStreamInit(): added pointer to EPGDB_QUEUE
- added EpgStreamClear()
- Removed EpgStreamEnableAllTypes()
- this is now done automatically upon reception of first AI block
epgdb/epgstream.h [rev:1.12, 2001-11-24T20:54:22]:
- Replaced scratch buffer with new epgdb/epgqueue module
- removed EpgStreamAddBlockToScratch(), EpgStreamClearScratchBuffer()
    removed EpgStreamGetBlockByType(), EpgStreamGetNextBlock()
- EpgStreamInit(): added pointer to EPGDB_QUEUE
- added EpgStreamClear()
- Removed EpgStreamEnableAllTypes()
- this is now done automatically upon reception of first AI block
epgdb/epgnetio.c [rev:1.3, 2001-11-24T21:07:22]:
- Replaced queue handling with new module epgdb/epgqueue
- removed queue handling funcs: EpgDbServer_QueueFree(),
    EpgDbServer_QueueAppend()
- added param EPGDB_QUEUE to StartAcq
- renamed bool bScratchAcqMode to waitForAi
- moved EpgDbClient_ProcessBlocks() to epgdb/epgdbmgmt.c
    merged with equivalent func from epgdbacq.c
- Fixed handling of STATS_IND:
- must be queued and processed AFTER all EPG blocks
- added pNetStats to clientState
- added new funcs EpgDbClient_GetNetStats(), EpgDbClient_FreeNetStats()
epgdb/epgnetio.h [rev:1.3, 2001-11-24T21:08:33]:
- Replaced queue handling with new module epgdb/epgqueue
- added param EPGDB_QUEUE to EpgDbClient_StartAcq()
- moved EpgDbClient_ProcessBlocks() to epgdb/epgdbmgmt.c
    merged with equivalent func from epgdbacq.c
- removed pAiCallback and pStatsUpdate from callback struct
- Fixed handling of STATS_IND:
- must be queued and processed AFTER all EPG blocks
- added pNetStats to clientState
- added new funcs EpgDbClient_GetNetStats(), EpgDbClient_FreeNetStats()
epgctl/epgctxctl.c [rev:1.10, 2001-11-24T21:16:12]:
- Added possibility to lock automatic dumps upon context close
- used by acq ctl module when in network acq mode
- new func EpgContextCtl_LockDump() to toggle lock on/off
- new static bool contextLockDump, checked in context close func
epgctl/epgctxctl.h [rev:1.8, 2001-11-24T21:16:39]:
- Added possibility to lock automatic dumps upon context close
- used by acq ctl module when in network acq mode
- new func EpgContextCtl_LockDump() to toggle lock on/off
epgctl/epgscan.c [rev:1.15, 2001-11-24T21:43:16]:
- Use new epgdb/epgqueue module for EPG block queue
- added EPGDB_QUEUE to scanCtl struct
- pass queue pointer to EpgDbAcqStart and Reset funcs
- use new func EpgDbAcqProcessQueue() in epgdbmgmt.c
- Removed EpgScan_ChannelChange():
- obsolete: EpgDbAcqProcessPackets() now returns FALSE upon channel changes
- Implemented peek cache in epgctxctl
- EPGDB_PEEK struct obsolete, replaced by context
- use EpgContextCtl_Peek() instead of EpgDbPeek()
- Moved provider handling from EpgScan_EvHandler() into EpgScan_AiCallback()
- this get rid of the additional peek in EvHandler, which was required
    to check if the provider is new; this check was no longer possible
    this way because of the peek cache
epgvbi/btdrv4linux.c [rev:1.18, 2001-11-24T22:01:32]:
- removed #define USE_THREADS: moved into Makefile
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.137, 2001-11-29T19:11:10]:
- bugfix proc NetAcqConfigQuit: check for logfilename >=0 repl. by >0
epgui/epgmain.c [rev:1.69, 2001-11-29T19:51:10]:
- Implemented network acquisition mode (forward EPG blocks from daemon to GUI)
- added event handler for network socket
- added new option "-nodetach"
- replaced switch WIN32 by USE_DAEMON for references to epgdbsrv
- added EpgDbServer_Init(), SetNetAcqParams(interp, TRUE, FALSE),
    EpgDbClient_Init(), EpgDbClient_Destroy()
- Split off EpgAcqCtl_ProcessBlocks() from EpgAcqCtl_ProcessPackets()
- TTX packets can be processed right in EventHandler_UpdateClock()
- only EpgDbAdd must be done as MainIdleEvent if packets received
- Call EpgContextCtl_ClearCache() during shutdown
epgui/menucmd.c [rev:1.52, 2001-11-29T19:51:22]:
- replaced calls to EpgAcqCtl_UiProvChange() with SetAcquisitionMode(): acqctl
    no longer polls GUI for CNI list -> must be passed via EpgAcqCtl_SelectMode
- implemented cache for peeks in epgctxctl.c
    + struct EPGDB_PEEK replaced by EPGDB_CONTEXT
    + use EpgContextCtl_Peek() instead of EpgDbPeek()
- changed SetAcquisitionMode():
    + for follow-ui pass list of CNIs
    + added support for network acq: equiv follow-ui
    + return value now void
- SetDaemonAcquisitionMode() params change:
    + replaced startUiCni with cmdlCniCount, pCmdlCniList: for dbsrv
    + added followUi
- added new func SetNetAcqParams(): for netacq config dialog
epgui/menucmd.h [rev:1.11, 2001-11-29T19:51:28]:
- changed SetAcquisitionMode(): return value now void
- SetDaemonAcquisitionMode() params change:
    + replaced startUiCni with cmdlCniCount, pCmdlCniList: for dbsrv
    + added followUi
- added new func SetNetAcqParams(): for netacq config dialog
epgui/statswin.c [rev:1.42, 2001-11-29T19:51:35]:
- Implemented statistics output for netacq mode (remote daemon acquisition)
- General changes:
- use new struct EPGDB_ACQ_PROV_INFO: info from AI block in remote database
    filled by EpgAcqCtl_GetStatistics(); required if db not open locally
- moved EpgDbAcqGetScanResult() to EpgAcqCtl_GetVpsCni()
- struct EPGDB_STATS: internal changes (split in sub-structs)
- StatsWin_UpdateDbStatsWin:
- added network connection state to output
- improved output for follow-merged mode: list count of CNIs in list
- StatsWin_UpdateDbStatusLine:
- print network connection error state
- added prov name to improved ACQDESCR_NO_RECEPTION and _STALLED
- StatsWin_ToggleDbStats:
- removed call to EpgDbAcqResetVpsPdc(): obsolete, VPS isn't disabled in this
    function anymore anyways
- added new func StatsWin_StatsUpdate()
- only used during remote acq for non-forwarded providers
epgui/statswin.h [rev:1.10, 2001-11-29T19:51:43]:
- added new func StatsWin_StatsUpdate()
- only used during remote acq for non-forwarded providers
epgui/uictrl.c [rev:1.14, 2001-11-29T19:51:55]:
- added new func UiControlMsg_NetAcqError()
- from acq control upon network connection error
epgui/uictrl.h [rev:1.7, 2001-11-29T19:52:00]:
- added new func UiControlMsg_NetAcqError()
- from acq control upon network connection error
epgctl/epgacqctl.c [rev:1.51, 2001-11-29T19:53:45]:
- implemented new acq mode: ACQMODE_NETWORK
    + changed _Start, _Stop, _UpdateProvider, _AdvanceCyclePhase,
      _SelectMode, _AiCallback, _Idle, _ProcessPackets
    + added EpgAcqCtl_FwdCallback(): prov change trigger from epgdbsrv
    + call EpgDbServer_SetProvider() after all acq db provider changes
    + added EpgAcqCtl_Stopped() as callback
    + skip ACQSTATE_WAIT_BI in netacq mode: map BI to AI state in AI callback
    + moved EpgAcqCtl_GetVpsCni() here from epgdbacq.c
- 
- display remote acq stats
    + added EpgAcqCtl_GetNetStats() and EpgAcqCtl_NetStatsUpdate()
    + EpgAcqCtl_GetStatistics() returns also provider name
      in netacq mode this is the remote db info; db may not be open locally
    + EpgAcqCtl_DescribeAcqState() returns netacq stats
    + struct EPGDB_STATS split in sub-structs
    + added element isRemote to struct EPGACQ_DESCR
    + added module global vars to hold netacq stats:
      acqNetDescr, acqNetProvInfo, acqNetVpsCni
- 
- EpgDbAcqCheckForPackets() and hence EpgAcqCtl_ProcessPackets() split:
    1. EpgAcqCtl_ProcessPackets(): VBI line processor: TTX pkgs -> blocks in queue
    2. EpgAcqCtl_ProcessBlocks(): Queue processor, inserts blocks in db
    + only 2. must be called from main loop idle handler
    + queue processor moved from epgdbacq.c to epgdbmgmt.c
    + added generic epgdb/epgqueue.c module & new type EPGDB_QUEUE in epgblock.h
    + added static EPGDB_QUEUE acqDbQueue: param to EpgDbAcqStart and Reset()
    + ChannelChange and Stop callbacks obsolete: info now returned directly
      by EpgDbAcqCheckForPackets()
- 
- fix for acq in daemon mode: added chanChangeTime to struct acqCtl:
    needed when EpgAcqCtl_Idle() is called very often
- removed EpgAcqCtl_UiProvChange(): polling of GUI db is obsolete
    now the CNI list must be passed via SelectMode
- EpgAcqCtl_SelectMode() checks if params have changed; if not, do nothing
epgctl/epgacqctl.h [rev:1.31, 2001-11-29T19:53:54]:
- Implemented network acq mode:
- added ACQMODE_NETWORK to struct EPGACQ_MODE
- added macros ACQMODE_IS_PASSIVE() and ACQMODE_IS_FOLLOW()
- added element isRemote to struct EPGACQ_DESCR
- split EPGDB_STATS to allow reuse in new struct EPGDB_STATS_UPD
- added new struct EPGDB_ACQ_PROV_INFO
- added declarations for new functions: EpgAcqCtl_ProcessBlocks,
    EpgAcqCtl_AddBlocks, EpgAcqCtl_GetNetStats, EpgAcqCtl_GetVpsCni
Makefile [rev:1.36, 2001-11-29T19:55:02]:
- added compiler switches to DEFS: USE_THREADS, USE_DAEMON
- added module epgdb/epgqueue
Makefile.win32 [rev:1.12, 2001-11-29T19:57:00]:
- added compiler switches to DEFS: USE_THREADS, USE_DAEMON
- added module epgdb/epgqueue
epgdb/epgnetio.c [rev:1.4, 2001-11-29T20:31:49]:
- Added call to EpgTxtDump_Block() for all incoming EPG blocks.
nxtvepg.pod [rev:1.54, 2001-11-29T20:36:00]:
- updated description of option -daemon: warn about running as root,
    note about use of -rcfile, recomment use of netacq mode
- added option -nodetach
- added config dialog "Client/Server..." for netacq mode
- replaced "~" with $HOME in rc file path
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.138, 2001-12-01T15:18:40]:
- added support for wheelmouse in main window
- submitted by Serge Koenigsmann <skoe@gmx.net>
epgdb/epgstream.c [rev:1.17, 2001-12-01T15:51:45]:
- translated remaining German comments to English.
epgvbi/cni_tables.c [rev:1.1, 2001-12-02T20:12:41]:
- Initial revision
epgvbi/cni_tables.h [rev:1.1, 2001-12-02T20:12:45]:
- Initial revision
epgdb/epgnetio.c [rev:1.5, 2001-12-02T20:40:41]:
- Split off new func EpgDbServer_GetFdSet() from _HandleSockets():
- select() called moved up into the main loop
- GetFdSet now fetched the bit vector for the select;
    after the select _HandleSockets() is called
- this allows to serve multiple servers in parallel (e.g. HTTP server)
epgdb/epgnetio.h [rev:1.4, 2001-12-02T20:40:41]:
- Split off new func EpgDbServer_GetFdSet() from _HandleSockets():
- select() called moved up into the main loop
- GetFdSet now fetched the bit vector for the select;
    after the select _HandleSockets() is called
- this allows to serve multiple servers in parallel (e.g. HTTP server)
epgvbi/cni_tables.c [rev:1.2, 2001-12-02T20:50:26]:
- Added Turkish CNIs from TRT-1 AI block
- Added CNN-Int
epgui/epgmain.c [rev:1.70, 2001-12-02T20:51:34]:
- Changed daemon main loop:
- pulled select() call up into main loop
- Split off new func EpgDbServer_GetFdSet() from _HandleSockets()
- this allows to serve multiple servers in parallel (e.g. HTTP server)
epgui/epgtxtdump.c [epgui/dumpraw.c, rev:1.18, 2001-12-02T20:52:32]:
- PI dump: added start date to output (was only day of week)
epgui/menucmd.c [rev:1.53, 2001-12-02T20:54:40]:
- Added new Tcl proc C_GetCniDescription
- Return descriptive text for a given 16-bit network code
- used for network name config dialog; maybe netsel dialog too in the future
- implemented by new func MenuCmd_GetCniDescription
- based on new module cni_tables.c, interface CniGetDescription()
epgui/pdc_themes.c [rev:1.6, 2001-12-02T20:56:20]:
- removed obsolete & unused #define __PDC_THEMES_C
epgvbi/cni_tables.c [rev:1.3, 2001-12-04T19:06:19]:
- added many networks from latest version of TR 101 231
epgvbi/cni_tables.c [rev:1.4, 2001-12-04T19:50:44]:
- merged VPS with PDC table
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.139, 2001-12-04T20:10:57]:
- SelBoxCreate: added scroll bars to netwop selection dialog if > 27 lines
- Network name config dialog: added "official network description"
    based on new module cni_tables.c
- timescales: added scale with dates and marker for "now" at top of window
    new proc TimeScale_DrawDateScale
- timescales: added callback for Button-1-Press: filter PI listbox & goto time
    new proc TimeScale_GotoTime
epgui/statswin.c [rev:1.43, 2001-12-04T20:11:06]:
- timescales: display expired PI: changed startTime to first PI in db
    instead of current time
- added func StatsWin_TimeScaleGetTime() for timescales popup window:
    translates pixel-offset to start time
- added func StatsWin_UpdateTimescaleDateScale() for timescales popup:
    added scale with dates and marker for "now" at top of window
- new colors for expired PI in timescales
- new macros TSC_WIDTH_IN_PIXELS, TSC_WIDTH_IN_SECS, NOW_NEXT_BLOCK_COUNT
epgui/xawtv.c [rev:1.17, 2001-12-04T20:13:14]:
- popup (POP_EXT) is immediately removed when xawtv is terminated or iconified
Makefile [rev:1.37, 2001-12-04T20:25:00]:
- added new module cni_tables
www/changelog.html [rev:1.23, 2001-12-06T18:50:13]:
- updated 0.7.0 section with more changes (still unreleased 0.7.0a1)
epgdb/epgblock.h [rev:1.31, 2001-12-06T20:20:50]:
- translated remaining German comments to English.
epgui/epgmain.c [rev:1.71, 2001-12-07T20:26:02]:
- improved "usage" output:
- added cmd line syntag after "Usage:" line
- WIN32: for -daemon et.al. say "unsupported" instead of "unknown"
epgctl/epgacqctl.h [rev:1.32, 2001-12-07T23:32:40]:
- Removed obsolete func EpgAcqCtl_AddBlocks()
epgdb/epgblock.h [rev:1.32, 2001-12-08T17:26:17]:
- severe bug fix: struct EVENT_ATTRIB: fixed-len array EV_ATTRIB_DATA unit
- array was too short: only 7, but 16 are possible (4 bits in Nextview stream)
- use new macro NI_MAX_ATTRIB_COUNT
--> this fix makes the db format backwards incompatible!
- made pointers const in all GET() macros, e.g. PI_GET_TITLE()
epgdb/epgdbfil.c [rev:1.29, 2001-12-08T17:32:32]:
- EpgDbFilterApplyNi: added debug output for unknown NI event attrib kinds
epgdb/epgblock.c [rev:1.39, 2001-12-08T17:35:09]:
- Adapted for change in epgblock.h:
- pointers in all GET() macros (e.g. PI_GET_TITLE()) now are const
-> added casts to non-const (char*) or (void*)
     where these macros are used to write into newly allocated blocks
epgdb/epgdbmerge.c [rev:1.18, 2001-12-08T17:41:43]:
- Adapted for change in epgblock.h:
- pointers in all GET() macros (e.g. PI_GET_TITLE()) now are const
-> corrected some variable declarations: added const *
-> added casts to non-const (char*) or (void*)
     where these macros are used to write into newly allocated blocks
epgui/epgtxtdump.c [epgui/dumpraw.c, rev:1.19, 2001-12-08T17:44:25]:
- Adapted for change in epgblock.h:
- pointers in all GET() macros (e.g. PI_GET_TITLE()) now are const
-> corrected variable declaration: added const *
- EpgTxtDumpNi: added debug output for unkown NI event attrib kinds
epgui/pioutput.c [rev:1.10, 2001-12-08T17:50:02]:
- Adapted for change in epgblock.h:
- pointers in all GET() macros (e.g. PI_GET_TITLE()) now are const
-> corrected variable declaration: added const *
epgui/menucmd.c [rev:1.54, 2001-12-08T17:50:16]:
- Adapted for change in epgblock.h:
- pointers in all GET() macros (e.g. PI_GET_TITLE()) now are const
-> added cast to (char*) for arg to Tcl_SetVar2
epgui/pifilter.c [rev:1.52, 2001-12-08T17:50:55]:
- Adapted for change in epgblock.h:
- pointers in all GET() macros (e.g. PI_GET_TITLE()) now are const
-> corrected variable declaration: added const *
epgdb/epgdbsav.h [rev:1.28, 2001-12-08T19:30:28]:
- changed DUMP_COMPAT from 0.4.3 to 0.7.0
- due to bug fix in epgblock.h struct EVENT_ATTRIB
epgdb/epgqueue.c [rev:1.4, 2001-12-08T19:37:06]:
- removed 3 superfluous include files
epgdb/epgblock.h [rev:1.33, 2001-12-09T10:43:33]:
- Added EpgBlockCheckConsistancy()
epgvbi/btdrv4linux.c [rev:1.19, 2001-12-09T11:31:01]:
- bugfix BtDriver_SignalDeathOfChild()
- GUI process hang in wait when acq slave was delivered a STOP signal
- use WNOHANG option
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.140, 2001-12-10T20:45:26]:
- proc TimeScale_Open: in update of already open timescale popup, delete
    all obsolete scales in one destroy; might solve trouble with wm bugs
- added UpdateMergedProvSelection to update provider preference list
    after merge -> set merged CNIs to the top of the list
epgui/menucmd.c [rev:1.55, 2001-12-10T20:46:21]:
- ProvMerge_Start: call new Tcl proc UpdateMergedProvSelection
- with list of merged CNIs -> put them at top of the prov. preference list
epgdb/epgblock.h [rev:1.34, 2001-12-11T20:56:48]:
- reduced NI_MAX_EVENT_COUNT from 16 to 15 (valid range is 0..15)
- replaced type CNI_VAL for cni in AI with uint
    because this type was used nowhere else
- replaced uint with ushort in EPG blocks whereever possible
- removed obsolete element long_info_type from PI block
- added ulong series_code and bool block_no_in_ai to PI block
- removed mergeCount from EPG block union (unused)
- added new element time_t updTimestamp to EPG block union
epgvbi/cni_tables.c [rev:1.5, 2001-12-12T21:45:30]:
- added missing country codes
- plus a few corrections
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.141, 2001-12-14T20:26:26]:
- Made several filter & config dialog windows resizable:
- substr, sortcrit, provwin, epgscan, netsel, netname, ctxmencf.
- Resize support added to proc SelBoxCreate.
epgui/epgtxtdump.c [epgui/dumpraw.c, rev:1.20, 2001-12-14T20:46:28]:
- EpgTxtDumpPi(): added output of pPi->background_reuse & ..._ref
epgui/statswin.c [rev:1.44, 2001-12-14T20:56:56]:
- bugfix StatsWin_UpdateDbStatusLine():
- suppress acq phase output whilst in network error state
epgdb/epgblock.c [rev:1.40, 2001-12-14T21:02:36]:
- EpgBlockCreate(): added initialisation of updTimestamp
- EpgBlockConvertPi(): added initialisation of block_no_in_ai, series_code;
    removed long_info_type
- added consistancy check functions for all block types
    AI and PI check funcs moved here from epgdbsav.c, but completely reworked
- added new func EpgBlockCheckConsistancy() as interface to block checks
    used by epgdbsav (reload from file) and epgdbsrv (network acq)
epgdb/epgblock.h [rev:1.35, 2001-12-14T21:09:22]:
- bugfix PI_BLOCK: pil was short, but needs 20 bits -> made to uint; reordered
epgdb/epgdbsav.c [rev:1.42, 2001-12-14T21:21:07]:
- moved AI and PI consistancy check funcs to epgblock.c
    now one interface for all types: EpgBlockCheckConsistancy()
    returns bool instead of EPGDB_RELOAD_RESULT -> result handling adapted
- EpgDbReloadAddGenericBlock(), EpgDbPeekOi(): added calls to consistancy check
- slight change in checks: errors in block ranges no longer lead to abort
epgdb/epgnetio.h [rev:1.5, 2001-12-14T21:21:39]:
- added #ifndef WIN32 around func decls with fd_set params
epgdb/epgdbmerge.c [rev:1.19, 2001-12-14T21:22:29]:
- EpgDbMergePiBlocks(): removed obsolete elems long_info_type, mergeCount
- from the generated block (removed in epgblock.h)
epgdb/epgblock.h [rev:1.36, 2001-12-19T13:29:16]:
- changed struct EPGDB_CONTEXT:
- removed elements pNextpNext, refCount, isPeek, stalePeek
- moved into new wrapper struct, which is internal to epgctxctl.c
epgdb/epgdbif.c [rev:1.36, 2001-12-19T13:29:28]:
- replaced many debugx() calls with the new macro fatalx()
-> aborts on serious errors, e.g. DB not locked
epgdb/epgqueue.c [rev:1.5, 2001-12-19T14:01:05]:
- EpgDbQueue_GetByType:
- fixed type of param type from uchar to BLOCK_TYPE
- for generic blocks, only return block_no #0
epgdb/epgqueue.h [rev:1.4, 2001-12-19T14:01:12]:
- EpgDbQueue_GetByType: fixed type of param type from uchar to BLOCK_TYPE
epgdb/epgdbsav.c [rev:1.43, 2001-12-19T14:01:25]:
- EpgDbReloadScan(): now returns one list with all CNIs, instead of one by one
- removed parameter "int nextIndex"; special "best" for -1 also obsolete
- result is new struct EPGDB_SCAN_BUF, dynamically allocated;
    contains CNI and file modification time for each database
    (mtime needed by the caller to find the newest db)
- added new helper func EpgDbReloadScanAddCni()
epgdb/epgdbsav.h [rev:1.29, 2001-12-19T14:01:27]:
- EpgDbReloadScan(): now returns one list with all CNIs, instead of one by one
- removed parameter int nextIndex
- added new struct EPGDB_SCAN_BUF: list of CNI and mtime for each db
epgctl/debug.h [rev:1.10, 2001-12-19T14:40:42]:
- added do{}while(0) around all macros which use brackets {} or if
    specifically: assert, SHOULD_NOT_BE_REACHED, debugX, ifdebugX
- added new macro series fatalX: combines debugX and SHOULD_NOT_BE_REACHED
- noted that SHOULD_NOT_BE_REACHED is now obsolete
- added a few missing dummy macros, e.g. debug8, debug9, ...
- added comments and usage examples
www/index-de.html [rev:1.21, 2001-12-19T15:36:05]:
- added note that Windows 2000 is not supported
www/index.html [rev:1.33, 2001-12-19T15:36:05]:
- added note that Windows 2000 is not supported
epgui/epgmain.c [rev:1.72, 2001-12-19T20:15:53]:
- Adapted for changes in epgctxctl.c (extended caching)
- added call to EpgContextCtl_InitCache() during startup
- replaced open for demo db with new func EpgContextCtl_OpenDemo()
epgui/menucmd.c [rev:1.56, 2001-12-19T20:16:00]:
- Adapted for changes in epgctxctl.c (extended caching)
- removed include epgdbsav.h (all calls now go through epgctxctl)
- additional arg to EpgContextCtl_Open(): open failure handling mode
- MenuCmd_ChangeProvider(): do not change db if open failes
    (previously an empty db would have opened)
- MenuCmd_GetProvCnisAndNames(): replaced loop with calls to EpgDbReloadScan()
    with new func EpgContextCtl_GetProvList() which retrieves the complete list
- ProvMerge_Start(): changed to keep previous db if merge fails
- OpenInitialDb(): adapted for changed semantics of EpgContextCtl_Open()
    use failure handling mode CTX_FAIL_RET_NULL to spare close after failure;
    use new func EpgContextCtl_OpenAny() if no known CNIs left
epgui/uictrl.c [rev:1.15, 2001-12-19T20:16:07]:
- Adapted for changes in epgctxctl.c (extended caching)
- additional arg to EpgContextCtl_Open(): open failure handling mode
epgctl/epgctxmerge.c [rev:1.5, 2001-12-19T20:46:45]:
- EpgDbMergeOpenDatabases(): adapted for changes in epgctxctl.c
    additional arg to EpgContextCtl_Open(): CTX_FAIL_RET_NULL
- EpgContextMergeGetCnis(): removed unnecessary reference to pUiDbContext;
    use parameter dbc instead
- EpgDbMergeOpenAcqContext(): removed unused parameter dbc
epgctl/epgscan.c [rev:1.16, 2001-12-19T20:59:24]:
- EpgScan_EvHandler(): added output of network names during scan (cni_tables.h)
- adapted for changes in epgctxctl.c (extended caching)
    + additional arg to calls of EpgContextCtl_Open(): failure handling mode
    + use empty dummy context until an AI block is found; then a new context
      must be created, even if a db with the given CNI does not exist yet
- bugfix EpgDbProcessQueueByType(): must give address of context pointer
- EpgScan_ProcessPackets(): added insertion of OI#0 to db, if available
- bugfix EpgScan_Start():
    - was: core dump upon device access errors and restart of acq
    - moved closing of pAcqDbContext into EpgAcqCtl_Suspend()
    - call EpgAcqCtl_Suspend() earlier to avoid complex checks if it needs to be
      un-suspended upon errors
epgctl/epgctxctl.c [rev:1.11, 2001-12-19T21:12:44]:
- Extended caching (BIG change, almost equals a total rewrite)
- use an internal wrapper struct to chain all contexts
- do initial dbdir scan and keep info about all found db files (CTX_CACHE_STAT)
    added new func EpgContextCtl_InitCache(): to be called at startup
    added new funcs EpgContextCtl_GetProvList(), EpgContextCtl_GetProvCount()
- keep info about failed opens (CTX_CACHE_ERROR)
- use pContextDummy for all empty databases (CTX_CACHE_DUMMY)
- added arg CTX_FAIL_RET_MODE to EpgContextCtl_Open()
- EpgContextCtl_Open(): split off new funcs to handle special cases
    EpgContextCtl_OpenAny(), _OpenDemo(), _OpenDummy()
- added consistancy check function
epgctl/epgctxctl.h [rev:1.9, 2001-12-19T21:12:51]:
- Extended caching (BIG change, almost equals a total rewrite)
- do initial dbdir scan and keep info about all found db files (CTX_CACHE_STAT)
    added new func EpgContextCtl_InitCache(): to be called at startup
    added new funcs EpgContextCtl_GetProvList(), EpgContextCtl_GetProvCount()
- added arg CTX_FAIL_RET_MODE to EpgContextCtl_Open()
- EpgContextCtl_Open(): split off new funcs to handle special cases
    EpgContextCtl_OpenAny(), _OpenDemo(), _OpenDummy()
- removed obsolete EpgContextCtl_CreateNew()
epgctl/epgacqctl.c [rev:1.52, 2001-12-19T21:27:08]:
- bugfix EpgAcqCtl_NetStatsUpdate():
    call EpgAcqCtl_FwdCallback() only if cni != 0
- EpgAcqCtl_FwdCallback:
    + bugfix: must go back to state ACQSTATE_WAIT_AI after provider change
    + added check for cni != 0
- EpgAcqCtl_AiCallback():
    + added check for CNI != 0
    + improvd handling of tuner frequency updates
    + fixed handling of pOldAi in case the previous db was empty
      added an additional call to EpgDbGetAi() after the db switch
- EpgAcqCtl_Suspend(): close context here; moved here from epgscan.c
- adapted for changes in epgctxctl.c
    + use OpenDummy instead of OpenAny if no acq db is selected initially
    + additional arg to EpgContextCtl_Open(): failure handling mode
- EpgAcqCtl_GetDbState():
    use EpgContextCtl_GetProvCount() instead of EpgDbReloadScan()
- EpgAcqCtl_ChannelChange(): adapted comparison with pUiDbContext CNI
- bugfix EpgDbProcessQueueByType(): must pass address of context pointer
epgdb/epgdbfil.c [rev:1.30, 2001-12-20T12:45:59]:
- replaced debugX() with fatalX() macro for serious errors (like NULL ptr params)
epgdb/epgdbmgmt.c [rev:1.37, 2001-12-20T13:20:17]:
- bugfix EpgDbDestroy (forgot to undo debug code):
    OI was removed despite keepAiOi mode
- bugfix EpgDbProcessQueueByType(): must get pointer to ctx pointer
    because here too the provider might change in the AI callback
- EpgDbCompareParityErrorCount() and EpgDbAddAiBlock():
    added handling of updTimestamp
    fixed handling of acqRepCount and acqTimeStamp
epgdb/epgdbmgmt.h [rev:1.16, 2001-12-20T13:20:23]:
- bugfix EpgDbProcessQueueByType(): must get pointer to ctx pointer
- because here too the provider might change in the AI callback
epgdb/epgnetio.c [rev:1.6, 2001-12-20T13:31:45]:
- EpgDbServer_CheckMsg(): added consistancy check for incoming EPG blocks
- protocol fixe: MSG_STRUCT_FORWARD_CNF: added CNI list from req
    EpgDbServer_TakeMessage(): copy CNI list from FWD_REQ into FWD_CNF message
    EpgDbClient_TakeMessage(): wait for a FWD_CNF that matches the last FWD_REQ
- EpgDbServer_AddBlock(): do not forward blocks with updTime != acqTime
    i.e. skip blocks which were already in the db
- EpgDbClient_ChangeProviders():
    compare new CNI list with previous: do nothing if not changed
epgdb/epgnetio.c [rev:1.7, 2001-12-20T21:18:47]:
- bugfix EpgDbServer_TakeMessage:
- when sending FWD_CNF from within DUMP_REQ, the CNI list was not included
- EpgDbServer_CheckMsg(): added check for cniCount in FWD_CNF
- bugfix EpgDbClient_TakeMessage():
- pMsg=NULL must not be set when block rejected due to waitForAi==TRUE
epgdb/epgstream.c [rev:1.18, 2001-12-21T20:06:07]:
- EpgStreamDecodePacket(): split off new func EpgStreamAddData()
-> much, much more readable
- also moved declaration of internal types here from header file.
epgdb/epgstream.h [rev:1.13, 2001-12-21T20:09:13]:
- moved declarations of internal types into .c file
epgdb/epgnetio.c [rev:1.8, 2001-12-22T16:08:18]:
- Optimized I/O performance (mainly for the DUMP)
- split message head from body
- struct EPGDBSRV_IO: added boolean flag freeWriteBuf
    so that not all messages need to be malloced and freed
- removed EpgDbClient_FreeNetStats(): obsolete since the upper layer
    now gets a pointer to the msg body which it can free by itself
- EpgDbServer_DumpEpgBlock()
- loops until write on sockets would block
- use updTimestamp instead of acqTimestamp -> much less blocks get dumped
epgdb/epgnetio.h [rev:1.6, 2001-12-22T16:08:28]:
- removed EpgDbClient_FreeNetStats(): obsolete
epgdb/epgdbif.c [rev:1.37, 2001-12-22T16:08:36]:
- replaced some more debugX() macros with fatalX()
epgctl/epgacqctl.c [rev:1.53, 2001-12-22T16:12:05]:
- replaced call to EpgDbClient_FreeNetStats() with xfree()
- because EpgDbClient_GetNetStats() now returns a freeable pointer
epgui/statswin.c [rev:1.45, 2001-12-22T16:25:43]:
- bugfix StatsWin_UpdateTimescaleDateScale()
- timer scaleUpdateHandler was never created
- timer scaleUpdateHandler was missing factor 1000
epgvbi/cni_tables.c [rev:1.6, 2001-12-22T16:29:00]:
- renamed TF1 to "France 1 (TF1)"
- added obsolete BBC codes, because they are still in use
epgui/epgmain.c [rev:1.73, 2001-12-22T16:31:09]:
- daemon main loop: removed boolean enableNet
- the daemon now always listens on its sickets
- client/server on/of switch now only is used by the GUI
epgdb/epgdbmgmt.c [rev:1.38, 2001-12-25T19:43:24]:
- EpgDbCompareParityErrorCount() and EpgDbAddAiBlock():
    do not keep updTimestamp of the old block if parity errors have been removed
- bugfix EpgDbAddGenericBlock(): must not free block if rejected
    because of parity errors; instead return FALSE
- EpgDbCheckChains(): added checks for block types
epgdb/epgblock.c [rev:1.41, 2001-12-25T19:43:34]:
- EpgBlockConvertAi(): removed unused elems serviceNameLen and pNetwop->nameLen
epgdb/epgblock.h [rev:1.37, 2001-12-25T19:43:40]:
- struct AI_BLOCK: removed unused elem serviceNameLen
- struct AI_NETWOP: removed unused pNetwop->nameLen
    replaced with reserved_1, which is set to 0 to allow use of memcmp()
epgdb/epgnetio.c [rev:1.9, 2001-12-25T19:43:49]:
- Client now always gets AI and OI#0, regardless if requested
- always dump AI and OI#0, even for non-requested providers
- the same stats messages are sent for all providers;
    introduced new separation: minimal and regular (init/update)
- added message MSG_TYPE_STATS_REQ: payload statsReqBits
- removed enum values SRV_FWD_STATS_INITIAL_AI, _UPD_AI
    added enum value _UPD_NO_AI
- added new func EpgDbClient_SetAcqStatsMode(): sends STATS_REQ clnt -> srv
- struct EPGDBSRV_STATE: added elem enableAllBlocks
    caching if the current acq provider is one of those requested by the client
- EpgDbServer_AddBlock(): split loop, i.e. block queuing from stats indication
epgdb/epgnetio.h [rev:1.7, 2001-12-25T19:43:58]:
- added new func EpgDbClient_SetAcqStatsMode(): sends STATS_REQ clnt -> srv
- pGetStats callback: added arg bool aiFollows and
    replaced withSums with statsReqBits
epgdb/epgdbmerge.c [rev:1.20, 2001-12-25T19:49:27]:
- fixed EpgDbMergeAiBlocks() netwop table merge:
- the merged netwop table could contain uninitialized entries, if the user
    network selection contained networks that were included in none of the
    merged databases (e.g. remains of a previous merge with different providers)
- now unavailable CNIs are removed from the list
    for the "initial" mode without user-configured list, a separate loop is
    used to generate a netwop table with all CNIs from all providers
- XXX TODO: do not modify passed list; use internal array instead
- also: removed unused AI_BLOCK elems serviceNameLen and pNetwop->nameLen
epgctl/epgacqctl.c [rev:1.54, 2001-12-25T22:44:37]:
- Reworked handling of statistics and unrequested providers in network acq mode:
- EpgAcqCtl_FwdCallback(): unrequested dbs are now opened as "peek"
    + the server forwards AI and OI#0 for these providers too
    + this makes struct EPGDB_ACQ_PROV_INFO and acqNetProvInfo obsolete
      removed ptr param from EpgAcqCtl_GetAcqStats()
    + also removed EpgAcqCtl_FillProvInfo()
- no difference in stats handling for unrequested providers anymore
    changed enum EPGDB_STATS_UPD_TYPE and struct EPGDB_STATS_UPD
    changed EpgAcqCtl_GetNetStats() and EpgAcqCtl_NetStatsUpdate()
- added elem bool initial_ai to stats message: is FALSE same UI related
    actions as after AI are triggered
- by default only "minimal" stats are sent; more only if stats window is open
    added new func EpgAcqCtl_EnableAcqStats()
- Other changes:
- removed EpgAcqCtl_GetDbState(): moved into uictrl.c
- fixed: EpgAcqCtl_AiCallback(): must not use EpgDbContextGetCni() for new
    providers because no AI is in the db yet
epgctl/epgacqctl.h [rev:1.33, 2001-12-25T22:44:43]:
- Reworked handling of statistics and unrequested providers in network acq mode:
- changed args to EpgAcqCtl_GetNetStats() and EpgAcqCtl_NetStatsUpdate()
- removed struct EPGDB_ACQ_PROV_INFO
- changed enum EPGDB_STATS_UPD_TYPE and struct EPGDB_STATS_UPD
- added new func EpgAcqCtl_EnableAcqStats()
- Other changes:
- removed EpgAcqCtl_GetDbState(): moved into uictrl.c
- removed enum EPGDB_STATE: moved to pilistbox.h
epgctl/epgctxctl.c [rev:1.12, 2001-12-25T22:44:54]:
- Fixed PEEK to OPEN upgrade
- because acq now holds peek open for long time
- bugfix EpgContextCtl_Load(): do not reset refCount if peek is still open
- there are no unconnected DB contexts anymore
- EpgContextCtl_Load(): merge peek with full db if refCount > 0
- Handling of unknown CNIsin open and peek funcs:
- create new error context instead of generating a "missing db" error
    added new func EpgContextCtl_AddStat()
- added flag bool isNewDb to UiControlMsg_ReloadError()
    suppress "missing db" errors from 2nd
- Added currently unused draft for EpgContextCtl_Load()
epgctl/epgctxctl.h [rev:1.10, 2001-12-25T22:44:59]:
- open and peek funcs: renamed arg errHandling to failMsgMode
epgui/uictrl.c [rev:1.16, 2001-12-26T13:39:27]:
- Design fix: Moved part of EpgAcqCtl_GetDbState() here
- new func UiControl_GetDbState contains query part of the old func
- acq cni table modification part was moved to SetAcquisitionMode()
    i.e. it's done already during enabling acq or provider change etc.
    and not afterwards during PI listbox reset
- Added param bool isNewDb to UiControlMsg_ReloadError()
- display "missing db" error only once, i.e. suppressed when isNewDb==FALSE
- also added param to internal struct MSG_RELOAD_ERR
epgui/uictrl.h [rev:1.8, 2001-12-26T13:39:32]:
- Added param bool isNewDb to UiControlMsg_ReloadError()
- display "missing db" error only once, i.e. suppressed when isNewDb==FALSE
epgui/statswin.c [rev:1.46, 2001-12-26T13:40:08]:
- Changed network mode handling of unrequested acq dbs:
- now the acqctl module opens at least a "peek" for any acq db
- hence all special handling of network mode is obsolete
    struct EPGDB_ACQ_PROV_INFO is obsolete
- Split EpgAcqCtl_GetStatistics():
- new func EpgAcqCtl_GetDbStats returns only db percentages
- new func EpgAcqCtl_GetAcqStats() returns complete acq stats incl. history
    (acq stats are only required with the acq stats popup window)
- mode full stats must first be enabled upon opening the stats window
    TODO: disable stats forward when popup is closed
- Made acq stats histogram handling more stable
- new function StatsWin_UpdateHist
    used for initial display in StatsWin_ToggleDbStats()
    and updates in StatsWin_UpdateDbStatsWin()
- new elem lastHistReset in struct dbStatsWinState
epgui/pilistbox.h [rev:1.12, 2001-12-26T13:40:21]:
- moved enum EPGDB_STATE here from epgacqctl.h
- because the function EpgAcqCtl_GetDbState() was removed from there
- GetDbState functionality is now located in uictrl.c
epgui/menucmd.c [rev:1.57, 2001-12-26T13:40:29]:
- Design fix: Moved code here from epgacqctl.c EpgAcqCtl_GetDbState()
- function was split; the query part moved to uictrl.c
- the acq mode adaption was moved here: new func SortAcqCniList()
    special case of handling empty browser db in manual acq mode
- called from SetAcquisitionMode()
- EPG scan: analystic output improved
- MenuCmd_StartEpgScan(): added param bool isOptionXawtv
    in call to EpgScan_Start()
epgdb/epgnetio.c [rev:1.10, 2001-12-26T14:19:37]:
- bugfix EpgDbServer_GetFdSet(): when a write was pending, ongoing reads
    were disabled in select()
- bugix EpgDbServer_AddBlock(): do not send STAT_INDs to clients which
    are not yet in FORWARD state
- fixed I/O blocking handling in EpgDbClient_HandleSocket()
- fixed EpgDbClient_ChangeProviders() and EpgDbClient_SetAcqStatsMode():
    must invoke pCbUpdateEvHandler() after EpgDbServer_HandleIO()
    to update select() fd_set
- additional clean-up in EpgDbServer_HandleIO()
epgui/epgtxtdump.c [epgui/dumpraw.c, rev:1.21, 2001-12-26T14:34:15]:
- EpgTxtDumpAi():
- removed output of obsolete AI_BLOCK elem pNetwop->nameLen
- added labels to each cell in netwop "table", e.g. "CNI=", "lang=" etc.
- made PI total block sum output more clear
epgvbi/cni_tables.c [rev:1.7, 2001-12-26T15:36:49]:
- added new func CniIsKnownProvider()
- Check if the given CNI belongs to a known Nextview provider
- uses new table cni_prov_table
- functionality moved here from epgscan.c
epgctl/epgscan.c [rev:1.17, 2001-12-26T15:41:50]:
- print network labels for all identified channels
- EpgScan_EvHandler(): moved provider table to cni_tables.c
    use new function CniIsKnownProvider() to query the table
- added param bool scanCtl.useXawtv to EpgScan_Start():
    + skip video signal test
    + warn when no CNI is found on a channel
- added new state variable scanCtl.newProvCount: count new providers
    used for summary after scan finished
- added new state variable scanCtl.foundBi: used for diagnostic output
    when no AI block is found
- replaced message "Found ETS-708 syntax" with "Found some kind of data
    transmission"; also made clear which channel it refers to by adding channel
    number if no CNI available yet
epgctl/epgscan.h [rev:1.7, 2001-12-26T15:41:57]:
- EpgScan_Start(): added param bool scanCtl.useXawtv
epgctl/epgacqctl.c [rev:1.55, 2001-12-26T17:24:02]:
- EpgAcqCtl_StatisticsReset(): always clear acqNetDescr and acqNetVpsCni
- EpgAcqCtl_NetStatsUpdate(): when msg EPGDB_STATS_UPD_TYPE_MINIMAL
    is received, clear non-transmitted data (in case stats fwd mode was
    downgraded)
epgdb/epgnetio.c [rev:1.11, 2001-12-26T17:27:09]:
- fix EpgDbServer_TakeMessage() for STATS_REQ:
    only set doTtxStats to SRV_FWD_STATS_INITIAL when in FORWARD state
- EpgDbClient_SetAcqStatsMode(): only send STATS_REQ msg if param changed
epgvbi/cni_tables.h [rev:1.2, 2001-12-26T17:28:09]:
- added declaration for new func CniIsKnownProvider()
- functionality moved here from epgscan.c
epgui/statswin.c [rev:1.47, 2001-12-26T17:33:40]:
- bugfix StatsWin_UpdateDbStatusLine(): acq provider name was not set until
    acq state was RUNNING -> moved AI query to different place
- StatsWin_ToggleTimescale(): disable extended stats reports (network acq)
    when the last stats popup is closed
- also fix: set open state to FALSE before destroying the window to avoid
    recursion; removed bind <Destroy> {} because it did not work.
epgctl/epgacqctl.c [rev:1.56, 2001-12-28T12:21:36]:
- Adapted for change in epgctxctl: separate close function for peeks
- added global bool acqContextIsPeek to remember how acq db was opened
- added new function EpgAcqCtl_CloseDb() which automatically chooses
    the right close function, depending on acqContextIsPeek
- set acqContextIsPeek before all context open and peek calls
- Fixed EpgAcqCtl_SelectMode()
- for change between netacq and normal acq while acq is enabled
- acq always was stopped and never enabled again
epgctl/epgctxctl.c [rev:1.13, 2001-12-28T12:23:21]:
- Changed struct CTX_CACHE:
- different reference counters for peek and open requests
    replaced refCount with peekRefCount and openRefCount
- EpgContextCtl_Close() renamed static EpgContextCtl_CloseInt()
- added new wrapper funcs: EpgContextCtl_Close(), EpgContextCtl_ClosePeek()
epgctl/epgctxctl.h [rev:1.11, 2001-12-28T12:23:26]:
- Added declaration for new func EpgContextCtl_ClosePeek()
epgui/uictrl.c [rev:1.17, 2001-12-28T12:30:24]:
- fixed UiControl_GetDbState()
- check if acq works for the UI db failed for merged db
- added loop to search if acq db is one of the merged dbs
epgui/menucmd.c [rev:1.58, 2001-12-28T12:33:26]:
- Adapted for change in epgctxctl: separate close function for peeks
- replaced EpgContextCtl_Close() with EpgContextCtl_ClosePeek()
    in all functions that open peeks
epgui/menucmd.c [rev:1.59, 2001-12-28T13:07:19]:
- Improved EPG scan:
- in refresh mode EpgScan_Start() additionally gets list of provider CNIs
- GetProvFreqTab() changed to return two lists, i.e. the complete content
    of Tcl variable prov_freqs
- EpgScan_Start() additional result value EPGSCAN_INTERNAL
- MenuCmd_EpgScanHandler(): do not beep is scan is aborted
    i.e. if it's stopped outside the handler
pod2help.pl [rev:1.13, 2002-01-01T20:47:18]:
- fixed "generated by" header generation
- used $ARGV[0] and $ARGV[1], but meant $0 and $ARGV[0]
epgui/timescale.c [rev:1.1, 2002-01-02T14:03:39]:
- Initial revision
epgui/timescale.h [rev:1.1, 2002-01-02T14:07:03]:
- Initial revision
epgvbi/cni_tables.c [rev:1.8, 2002-01-02T17:03:23]:
- moved module from epgui to epgvbi directory
- added new function CniConvertP8301ToVps():
    replaces obsolete ConvertP8301Ni() in epgdbacq.c
epgvbi/cni_tables.h [rev:1.3, 2002-01-02T17:03:32]:
- added declaration for new function CniConvertP8301ToVps()
- replaces obsolete ConvertP8301Ni() in epgdbacq.c
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.34, 2002-01-02T17:03:46]:
- removed ConvertP8301Ni() and table niVpsTable
- replaced by new func CniConvertP8301ToVps() in cni_tables.c
epgdb/epgdbif.c [rev:1.38, 2002-01-02T17:03:55]:
- changed params to EpgDbGetStreamByBlockNo(): use EPGDB_BLOCK* instead
    netwop and block_no: only used internally by epgdb modules now
- EpgDbGetStat(): added workaround for bug in TARA Nextview encoder_
    blocks are assigned to stream 2 in AI, but transmitted in stream 1 anyways
- EpgDbGetPiBlockIndex(): return type changed from ulong to uint
epgdb/epgdbif.h [rev:1.22, 2002-01-02T17:04:01]:
- changed params to EpgDbGetStreamByBlockNo(): use EPGDB_BLOCK* instead
    netwop and block_no: only used internally by epgdb modules now
- EpgDbGetPiBlockIndex(): return type changed from ulong to uint
epgdb/epgdbmerge.c [rev:1.21, 2002-01-02T17:04:12]:
- Implemented support for PI timescale forwarding
- in EpgDbMergeInsertPi(): instead of directly calling a function at
    GUI level (former StatsWin_NewPi()) blocks are added to a queue
    by EpgTscQueue_AddPi()
epgdb/epgdbmerge.h [rev:1.8, 2002-01-02T17:04:19]:
- Implemented support for PI timescale forwarding:
- struct EPGDB_MERGE_CONTEXT: added new elems tscQueue and tscEnable
epgdb/epgdbmgmt.c [rev:1.39, 2002-01-02T17:04:26]:
- Implemented support for PI timescale forwarding:
- instead of directly calling a function at GUI level (former StatsWin_NewPi())
    blocks are added to a queue by EpgTscQueue_AddPi()
- pass pointer to timescale queue through EpgDbProcessQueue()
    and EpgDbAddBlock()
- pass dbc pointer into EpgDbServer_AddBlock(): req. for EpgTscQueue_AddPi()
- Removed call to StatsWin_NewAi() - triggered by AI callback now
- Replaced debugX macros with fatalX where appropriate
epgdb/epgdbmgmt.h [rev:1.17, 2002-01-02T17:04:31]:
- Implemented support for PI timescale forwarding:
- instead of directly calling a function at GUI level (former StatsWin_NewPi())
    blocks are added to a queue by EpgTscQueue_AddPi()
- pass pointer to timescale queue through EpgDbProcessQueue()
epgdb/epgtscqueue.c [rev:1.1, 2002-01-02T17:04:38]:
- Initial revision
epgdb/epgtscqueue.h [rev:1.1, 2002-01-02T17:04:40]:
- Initial revision
epgdb/epgnetio.c [rev:1.12, 2002-01-02T17:05:09]:
- Implemented support for PI timescale forwarding
- added message MSG_TYPE_TSC_IND
- added timescale queues to server-side and client-side state structs
- added aiVersionChange to server-side struct
- added new func EpgDbServer_WriteTscQueue()
- call EpgTscQueue_AddPi() during dump and in _AddBlock()
- statsReqBits are now processed in this module: added STATS_REQ_BITS_HIST etc.
    EpgDbServer_TakeMessage: handle TSC bits in MSG_TYPE_STATS_REQ statsReqBits
- Optimized EPG block forwarding EpgDbServer_WriteEpgBlock()
- stuff the socket until short write
- Bugfix EpgDbServer_DumpEpgBlock() for enableAllBlocks == FALSE
- if OI#0 is not newer than updTimestamp, stop dump
- Fixed Acq provider change handling:
- EpgDbServer_SetProvider(): go into new state SRV_STATE_PROV_CHANGE;
- when in EpgDbServer_HandleSockets and queues are empty: send FWD_IND
    go back into WAIT_DUMP_REQ state
- renamed MSG_TYPE_FORWARD_CNF to MSG_TYPE_FORWARD_IND
- EpgDbClient_TakeMessage(): fwd_ind can now arrive in all states >= wait_fwd
- Improved client-side UI provider change:
- stay in FORWARD state
- added bool sendFwdInd to message MSG_TYPE_FORWARD_REQ
    to tell the server if client expects MSG_TYPE_FORWARD_IND
- EpgDbServer_TakeMessage: FWD_REQ handling split up depending on
    state and sendFwdInd
- Removed pErrorInd callback from client callback struct EPGDB_NET_CLNT_CB:
- errors are now reported through polling, same as with regular acq
- added arg bool * pStopped to EpgDbClient_CheckForBlocks()
- new state CLNT_STATE_ERROR: until error is reported
epgdb/epgnetio.h [rev:1.8, 2002-01-02T17:05:18]:
- Implemented support for PI timescale forwarding
- removed pErrorInd callback from client callback struct EPGDB_NET_CLNT_CB:
    errors are now reported through polling, same as with regular acq
    added arg bool * pStopped to EpgDbClient_CheckForBlocks()
- added new func EpgDbClient_SetAcqTscMode(): en-/disable timescale forwarding
    changed arg type of EpgDbClient_SetAcqStatsMode()
- added EPGDB_CONTEXT arg to EpgDbServer_AddBlock()
    to be passed to EpgTscQueue_AddPi()
- added timescale queue pointer arg to EpgDbClient_StartAcq()
epgctl/epgacqctl.c [rev:1.57, 2002-01-02T17:05:35]:
- Implemented support for PI timescale forwarding in network acq mode
- added new global vars: acqTsc and acqTscEnabled
- added new func EpgAcqCtl_EnableTimescales() and EpgAcqCtl_GetTimescaleQueue()
- EpgAcqCtl_ProcessBlocks() pass timescale queue pointer to queue processor
    and trigger GUI if PI added
- Removed pErrorInd callback from client callback struct EPGDB_NET_CLNT_CB:
- errors are now reported through polling, same as with regular acq
- added arg bool * pStopped to EpgDbClient_CheckForBlocks()
- Fixed network mode acq provider changes:
- db switch is done in AI callback, same as with normal acq modes
    never switch db in EpgAcqCtl_FwdCallback(), just peek for mtime
- removed call of EpgAcqCtl_FwdCallback from EpgAcqCtl_NetStatsUpdate()
- Improved client-side UI provider change:
- EpgAcqCtl_SelectMode(): do not close old acq db
    because in most cases the acq db will not change
- Cleaned up AI callback: if old db is empty
- Cleaned up triggers for GUI
- replaced all calls to StatsWin_*() functions with new UiControlMsg_AcqEvent()
- always send PROV_CHANGE trigger at acq start
- EpgAcqCtl_ChannelChange(): do not trigger if changeDb == FALSE
epgctl/epgacqctl.h [rev:1.34, 2002-01-02T17:05:43]:
- Implemented support for PI timescale forwarding
- added new func EpgAcqCtl_EnableTimescales() and EpgAcqCtl_GetTimescaleQueue()
- Cleaned up triggers for GUI
- removed DB_TARGET_UI and DB_TARGET_ACQ: moved to uictrl.h
epgctl/epgctxctl.c [rev:1.14, 2002-01-02T17:05:50]:
- bugfix EpgContextCtl_OpenDemo(): negated condition
- lead to core dump if demo db did not exist
epgctl/epgctxmerge.c [rev:1.6, 2002-01-02T17:06:24]:
- Implemented support for PI timescale forwarding in network acq mode
- changed handling of timescales: instead of directly calling a function
    at GUI level (former StatsWin_NewPi()) in EpgDbMergeInsertPi(),
    blocks are added to a queue by EpgTscQueue_AddPi()
- EpgContextMergeInsertPi() triggers GUI to process the queue
- struct EPGDB_MERGE_CONTEXT has new elems tscQueue and tscEnable:
    initialize queue in EpgContextMerge(); clear in EpgContextMergeDestroy()
- added new funcs EpgContextMergeEnableTimescale() and
    EpgContextMergeGetTimescaleQueue()
- Added new helper func EpgContextMergeCheckForCni()
- Checks if the given CNI is one of the merged providers
- Removed call to StatsWin_ProvChange()
- is now instead triggered by epgacqctl.c
epgctl/epgctxmerge.h [rev:1.4, 2002-01-02T17:06:43]:
- Implemented support for PI timescale forwarding in network acq mode
- added new funcs EpgContextMergeEnableTimescale() and
    EpgContextMergeGetTimescaleQueue()
- Added new helper func EpgContextMergeCheckForCni()
- Checks if the given CNI is one of the merged providers
- Wrapped some declarations with __EPGDBMERGE_H
-> removed include epgdbmerge.h from higher layer funcs
epgctl/epgscan.c [rev:1.18, 2002-01-02T17:06:54]:
- Improved diagnostic output in refresh mode:
- in refresh mode EpgScan_Start() additionally gets list of provider CNIs
- added elems badProvCount and provCniTab to scanCtl
- fix: refresh flag was abused to determine if provFreqTab was available;
    use (scanCtl.provFreqCount > 0) instead
- EpgScan_Start() additional result value EPGSCAN_INTERNAL for param errors
- added summary output in refresh mode
- in refresh or xawtv mode: warn if no CNI is found on a channel
- EpgScan_EvHandler(): open db instead of peek to check for errors
epgctl/epgscan.h [rev:1.8, 2002-01-02T17:07:00]:
- Improved diagnostic output in refresh mode:
- in refresh mode EpgScan_Start() additionally gets list of provider CNIs
epgui/epgmain.c [rev:1.74, 2002-01-02T17:07:20]:
- added initialization for new GUI module tunescale.c
epgui/epgtxtdump.c [epgui/dumpraw.c, rev:1.22, 2002-01-02T17:07:28]:
- bugfix EpgTxtDumpPi(): strftime len parameter too small
epgui/menucmd.c [rev:1.60, 2002-01-02T17:07:38]:
- removed calls to StatsWin_NewAi(): called by epgacqctl.c now
- added calls to TimeScale_ProvChange() after StatsWin_ProvChange()
- MenuCmd_StartEpgScan(): call MenuCmd_StartEpgScan()
epgui/pioutput.c [rev:1.11, 2002-01-02T17:07:47]:
- fixed length param in calls to strftime():
- use sizeof() for string instead of constant
epgui/statswin.c [rev:1.48, 2002-01-02T17:07:56]:
- Moved all timescale related functions into new module timescale.c
- acq trigger funcs: removed timescale handling
    equivalent funcs exists in the timescale.c module
- StatsWin_UpdateDbStatsWin()
- do not install update timer for AI count < 2 in network mode
- Replaced description in module header
epgui/statswin.h [rev:1.11, 2002-01-02T17:08:03]:
- Moved all timescale related functions into new module timescale.c
- removed funcs StatsWin_NewPi(), StatsWin_NewAi()
- renamed StatsWin_StatsUpdate() to StatsWin_AcqStatsUpdate()
epgui/timescale.c [rev:1.2, 2002-01-02T17:08:28]:
- Implemented support for PI timescale forwarding in network acq mode
- now based on timescale queue in new epgtscqueue.c module
    instead of direct function calls from epgdb -> almost complete rewrite!
- most functionality of TimeScale_Load() and TimeScale_AddPi() moved into
    epgtscqueue module: EpgTscQueue_AddAll() and EpgTscQueue_AddPi()
- removed function TimeScale_AddPi()
    added trigger funcs TimeScale_AcqPiAdded(), TimeScale_AcqPiMerged()
- replaced TimeScale_NewAi() with TimeScale_AcqStatsUpdate()
- added new element bool locked to state struct: scale is locked immediately
    upon trigger for prov change or AI version change for PI additions
- Use new Tcl proc TimeScale_ShiftRight in TimeScale_DisplayPi():
- when a new PI is found which starts earlier than the scale base time
epgui/timescale.h [rev:1.2, 2002-01-02T17:08:31]:
- Implemented support for PI timescale forwarding in network acq mode
- now based on timescale queue in new epgtscqueue.c module
    instead of direct function calls from epgdb
- removed function TimeScale_AddPi()
    added trigger funcs TimeScale_AcqPiAdded(), TimeScale_AcqPiMerged()
- replaced TimeScale_NewAi() with TimeScale_AcqStatsUpdate()
epgui/uictrl.c [rev:1.18, 2002-01-02T17:08:41]:
- Cleaned up GUI triggers by epgacqctl: added new func UiControlMsg_AcqEvent()
    calls other GUI funcs as needed
- UiControl_GetDbState(): use new helper func EpgContextMergeCheckForCni()
    instead of looping of the merged provider list
epgui/uictrl.h [rev:1.9, 2002-01-02T17:08:44]:
- Cleaned up GUI triggers by epgacqctl: added new func UiControlMsg_AcqEvent()
    added new typedef ACQ_EVENT for the arg to that func
- added enum DB_TARGET_UI, DB_TARGET_ACQ: moved here from epgacqctl.h
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.142, 2002-01-02T17:12:22]:
- bugfix proc TimeScale_Open: replaced "list" with "concat"
- timescales: use grid packer instead of pack
- changed prefix of timescale related C procedures from C_StatsWin_*
    to C_TimeScale_*
- added new proc TimeScale_ShiftRight: shift all canvas content to the right
- enlarged EPG scan message output window (added channel name output)
epgdb/epgdbmerge.c [rev:1.22, 2002-01-02T21:26:03]:
- Removed obsolete include of epgui/statswin.h
epgdb/epgdbmgmt.c [rev:1.40, 2002-01-02T21:26:03]:
- Removed obsolete include of epgui/statswin.h
epgdb/epgnetio.c [rev:1.13, 2002-01-02T21:26:29]:
- fixed order of includes
epgdb/epgdbmerge.c [rev:1.23, 2002-01-03T15:36:40]:
- fix EpgDbMergeInsertPi: only add to timescale queue if enabled
epgdb/epgnetio.c [rev:1.14, 2002-01-03T15:37:34]:
- EpgDbClient_CheckForBlocks: return FALSE until dump is finished
epgui/epgmain.c [rev:1.75, 2002-01-03T20:34:23]:
- main/startup: moved call to UiControl_AiStateChange() upwards,
    to a point before the window is displayed to avoid flickering.
- replaced calls to StatsWin_UpdateDbStatsWin() and StatsWin_UpdateDbStatusLine
    with StatsWin_StatsUpdate(): the single new if func to statswin.c
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.143, 2002-01-03T20:34:32]:
- changed wheel mouse bindings: always scroll by +/- 1 page
- added wheel mouse bindings for help window (as suggested by Jan)
- added new proc IsNetAcqMode: when in network acquisition mode, display
    warning in config dialogs for acquisition mode and TV-card
- split off new proc EpgScan_Start from proc PopupEpgScan
epgui/menucmd.c [rev:1.61, 2002-01-03T20:34:39]:
- removed includes statswin.h and timescale.h
- moved triggers for stats updates during provider change and merge start
    into UiControl_AiStateChange()
epgui/pilistbox.c [rev:1.63, 2002-01-03T20:34:44]:
- added new func PiListBox_Lock():
    Lock/Unlock the direct link between listbox and acquisition
- added new elem bool pibox_lock to state struct
- removed obsolete includes
epgui/pilistbox.h [rev:1.13, 2002-01-03T20:34:50]:
- added declaration for new func PiListBox_Lock()
epgui/statswin.c [rev:1.49, 2002-01-03T20:34:59]:
- Cleaned up interface -> only 1 global func now: StatsWin_StatsUpdate()
- removed StatsWin_ProvChange(): no special handling for provider changes
    required by this module, i.e. use normal stats update instead
- renamed StatsWin_AcqStatsUpdate() to StatsWin_StatsUpdate()
    and added target argument
- made StatsWin_UpdateDbStatusLine() static
epgui/statswin.h [rev:1.12, 2002-01-03T20:35:05]:
- Cleaned up interface -> only 1 global func now: StatsWin_StatsUpdate()
- renamed StatsWin_AcqStatsUpdate() to StatsWin_StatsUpdate()
    and added target argument
- removed all other funcs except _Create
epgui/timescale.c [rev:1.3, 2002-01-03T20:35:14]:
- bugfix TimeScale_ProcessMergeQueue():
- passed wrong CNI to EpgTscQueue_SetProvCni
- queue never was processed
epgui/uictrl.c [rev:1.19, 2002-01-03T20:35:21]:
- Improved UiControl_AiStateChange:
- when ui is empty and takes over to acq provider, call SetAcquisitionMode()
    to update acq status
- included calls to trigger statswin and timescale updates
- UiControlMsg_AcqEvent
- added acq event ACQ_EVENT_AI_PI_RANGE_CHANGE
- renamed StatsWin_AcqStatsUpdate() to StatsWin_StatsUpdate()
- added call to UiControl_AiStateChange() in PROV_CHANGE and VERSION_CHANGE
    removed UiControlMsg_AiStateChange()
- Added new func UiControlMsg_AcqQueueOverflow()
- Acq input queue "overflow", i.e. very large number of blocks pending
epgui/uictrl.h [rev:1.10, 2002-01-03T20:35:24]:
- added acq event ACQ_EVENT_AI_PI_RANGE_CHANGE
- added new func UiControlMsg_AcqQueueOverflow()
- removed UiControlMsg_AiStateChange(): no longer called directly by acq ctl
epgctl/epgacqctl.c [rev:1.58, 2002-01-03T20:55:38]:
- huge bugfix in EpgAcqCtl_ProcessBlocks() and AI callback in netacq mode:
    must no go back to WAIT_AI when AI block with different CNI is found;
    must not search ahead for AI block in acqDbQueue
- EpgAcqCtl_ProcessBlocks(): use new func UiControlMsg_AcqQueueOverflow()
    to lock direct connection to PI listbox when >100 blocks in queue
    added macro EPG_QUEUE_OVERFLOW_LEN = 100
- added new func as net acq client callback EpgAcqCtl_NetStatsOverflow()
    informs the client if an unprocessed stats msg is about to be deleted
    preserved incremental history info
- EpgAcqCtl_NetStatsUpdate(): included call to EpgDbClient_GetNetStats()
    also prepared to work as loop (could fetch more than one net stats msg)
- removed calls to UiControlMsg_AiStateChange(); now handled by acq events;
    split off new event ACQ_EVENT_AI_PI_RANGE_CHANGE from VERSION_CHANGE
epgdb/epgnetio.c [rev:1.15, 2002-01-03T20:56:01]:
- increased SRV_STALLED_STATS_INTV from 13 to 15 for TRT1
- added new client callback pStatsOverflow: called when STATS msg is discarded
    because of queue overflow
epgdb/epgnetio.h [rev:1.9, 2002-01-03T20:56:08]:
- struct EPGDB_NET_CLNT_CB:
- added new client callback pStatsOverflow: called when STATS msg is discarded
Makefile [rev:1.38, 2002-01-03T21:00:31]:
- added 2 new files: epgdb/epgtscqueue, epgui/timescale
- moved cni_tables from epgui tp epgvbi directory
Makefile.win32 [rev:1.13, 2002-01-03T21:01:13]:
- added 2 new files: epgdb/epgtscqueue, epgui/timescale
- moved cni_tables from epgui tp epgvbi directory
epgctl/debug.h [rev:1.11, 2002-01-04T16:57:50]:
- fix ifdebug macros for non-debugging mode:
- duplicate arg "I" replaced with "COND" in ifdebug0 - ifdebug9
epgdb/epgqueue.c [rev:1.6, 2002-01-04T18:13:09]:
- bugfix EpgDbQueue_GetBlockCount(): result variable was bool instead of uint
- put #if DEBUG_SWITCH == ON around consistancy check function
epgdb/epgtscqueue.c [rev:1.2, 2002-01-04T18:13:53]:
- put #if DEBUG_SWITCH == ON around consistancy check function
epgdb/epgnetio.c [rev:1.16, 2002-01-05T17:31:12]:
- EpgDbClient_HandleSocket(): performance optimization:
    don't stop after one message complete; loop until socket blocks,
    or a maximum message count is reached (CLNT_MAX_MSG_LOOP_COUNT)
- struct EPGACQ_EVHAND: added new elem processQueue
    used to trigger EPG block queue processing in epgacqctl
    the queue is no longer polled by a timer! (in network acq mode)
- renamed EpgDbClient_CheckForBlocks() into EpgDbClient_CheckTimeouts()
    removed query result; only handles timeouts
- bugfix EpgDbClient_DescribeNetState(): state CLNT_STATE_ERROR was missing
- server-side: fixed handling of msg MSG_TYPE_FORWARD_REQ:
    must initiate dump if enable mode switches from off to on
epgdb/epgnetio.h [rev:1.10, 2002-01-05T17:31:18]:
- struct EPGACQ_EVHAND: added new elem processQueue
    used to trigger EPG block queue processing in epgacqctl
- renamed EpgDbClient_CheckForBlocks() into EpgDbClient_CheckTimeouts()
    removed query result; only handles timeouts
epgctl/epgacqctl.c [rev:1.59, 2002-01-05T17:31:51]:
- added new func EpgAcqCtl_SwitchDb()
    switched acq db for AI callback and SelectMode:
    in network mode it the acquisition database is only opened as "peek"
    if the acq db is not in the GUI provider list; when the GUI list is
    updated it may be required to up-/downgrade the db
- forward callback: use new func EpgContextCtl_GetAiUpdateTime()
- forward callback: upon first fwd ind message, trigger stats update
    to switch from "loading db" to a regular state
- EpgAcqCtl_ProcessPackets(): always returns FALS in network mode now
    EPG block queue processing is triggered by the epgdbsrv.c socket handler
    the queue is no longer polled by a timer! (in network acq mode)
- renamed EpgDbClient_CheckForBlocks() into EpgDbClient_CheckTimeouts()
- EpgAcqCtl_ProcessBlocks(): queue overflow handling: disable overflow
    handling if the UI handler returns FALSE (i.e. if acq works not for ui db)
epgctl/epgacqctl.h [rev:1.35, 2002-01-05T17:31:57]:
- enum ACQDESCR_STATE: added new state ACQDESCR_NET_CONNECT = 0
    used to identify uninitialized description struct: in network mode,
    before the first msg was received
epgui/epgmain.c [rev:1.76, 2002-01-05T17:32:22]:
- separated regular and scan EPG block queue processing timer handler
    i.e. split off new funcs MainEventHandler_ProcessBlocks() and
    MainEventHandler_ProcessScanPackets() from obsolete ClockSecEvent()
- in network acq mode, the client does no longer poll for blocks;
    the second timer is still executed, but only chekc for timeouts;
    queue processing is now triggered by new elem processQueue in EPGACQ_EVHAND
    in EventHandler_NetworkUpdate()
epgui/statswin.c [rev:1.50, 2002-01-05T17:32:26]:
- StatsWin_UpdateDbStatusLine(): improved handling of network error states
- if state == NETDESCR_RUNNING but no acq state available yet (new acq state
    ACQDESCR_NET_CONNECT), report same as NETDESCR_LOADING
- use state ACQDESCR_NET_CONNECT to cleanly suppress additional output
epgctl/epgctxctl.c [rev:1.15, 2002-01-05T17:34:14]:
- added new func EpgContextCtl_GetAiUpdateTime() for eogacqctl.c
    forward indication callback
- fixed compiler switches around consistancy check
epgctl/epgctxctl.h [rev:1.12, 2002-01-05T17:34:20]:
- added new func EpgContextCtl_GetAiUpdateTime() for eogacqctl.c
    forward indication callback
epgctl/epgctxctl.c [rev:1.16, 2002-01-05T19:36:17]:
- Added new func EpgContextCtl_GetFreqList()
- Get list of available providers and their tuner frequencies
epgctl/epgctxctl.h [rev:1.13, 2002-01-05T19:36:31]:
- added declaration for new func EpgContextCtl_GetFreqList()
epgdb/epgdbsav.c [rev:1.44, 2002-01-05T19:36:45]:
- aded new func EpgReadAiUpdateTime()
- added new func EpgDbReadFreqFromDefective()
epgdb/epgdbsav.h [rev:1.30, 2002-01-05T19:36:51]:
- added declarations for 2 new funcs:
- EpgReadAiUpdateTime() and EpgDbReadFreqFromDefective()
epgui/menucmd.c [rev:1.62, 2002-01-05T19:37:20]:
- menucmd.c
- added new func MenuCmd_LoadProvFreqsFromDbs
    Fetch the list of provider frequencies from all available databases
    as Tcl operator C_LoadProvFreqsFromDbs
- cleaned up GetProvFreqTab: report errors via debugX macros, not Tcl errors
    return freq count as result; 0 upon errors
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.144, 2002-01-05T19:37:30]:
- proc PopupEpgScan: call new operator C_LoadProvFreqsFromDbs
    and insert list ro prov_freqs
- improved proc UpdateProvFrequency: accept list with multiple CNIs/freqs
nxtvepg.pod [rev:1.55, 2002-01-06T18:57:17]:
- added DRS1, TSI1 and TRT1 to provider list.
- statistics: changed start time of timescales from "now" to "first PI"
    described new colors for expired PI.
- configuration, sub-section Client/Server: described all config options.
- files: added daemon socket /tmp/nxtvepg.0
- filter section:
    + index filters: merged database support only 0 and 1
    + start time filter: added note that it's depreciated for manual use;
    + network filter: added note abuot "show networks", and network name config
    + text search: described "match complete text" and "match case" options
- authors: added thanx to Jan Schuster
epgdb/epgdbfil.c [rev:1.31, 2002-01-06T19:03:04]:
- adapted for changed args in EpgDbGetProgIdx:
- PI ptr instead discrete block and netwop indices
epgdb/epgdbif.c [rev:1.39, 2002-01-06T19:03:13]:
- fixed EpgDbGetProgIdx for merged db:
- for merged db: return index 0 if PI is running NOW
    return 1 if it's directly following the NOW; return invalid else
    --> only Now and Next are supported!
- changed args: PI ptr instead discrete block and netwop indices
epgdb/epgdbif.h [rev:1.23, 2002-01-06T19:03:26]:
- fixed EpgDbGetProgIdx for merged db:
- changed args: PI ptr instead discrete block and netwop indices
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.145, 2002-01-06T19:19:33]:
- TimeScales: added "acq tails"
- new proc TimeScale_AddTail: similar proc TimeScale_AddRange,
    but the markers are faded upon subsequent additions and removed
    once they've reached a certain threshhold
- new proc TimeScale_ClearTail to clear markers when acq switches away
    from ui db
- new global array tsc_tail; reset during create
- renamed TimeScale_Create to TimeScale_CreateCanvas, because there's an
    equally named C function in timescale.c - potential for confusion
- changed params for proc TimeScale_AddRange
    canvas widget name is now assembled internally
epgui/timescale.c [rev:1.4, 2002-01-06T19:19:42]:
- implemented "acquisition tails"
- added new elems to state struct: filled, isForAcq
- TimeScale_DisplayPi(): added invocation of Tcl proc TimeScale_AddTail
    for non-defective, curent PI
- fixed provider change handling:
- (just to avoid potential problems; no crashes actually occured)
- nothing is done directly in the callback anymore
- moved call to TimeScale_RequestAcq() and TimeScale_HighlightNetwop()
    into TimeScale_ProcessAcqQueue() --> avoid recursion back into epgacqctl
- had to move func TimeScale_RequestAcq() to avoid fwd. ref.
epgui/menucmd.c [rev:1.63, 2002-01-06T19:20:02]:
- added new func GetProvFreqForCni() for acq control (accessed via uictrl.c):
- Fetch the frequency for the given provider from the prov_freqs Tcl variable
epgui/menucmd.h [rev:1.12, 2002-01-06T19:20:02]:
- added new func GetProvFreqForCni() for acq control (accessed via uictrl.c):
- Fetch the frequency for the given provider from the prov_freqs Tcl variable
epgui/uictrl.c [rev:1.20, 2002-01-06T19:20:10]:
- UiControl_GetDbState(): handle new acq state ACQDESCR_NET_CONNECT
- UiControlMsg_AcqQueueOverflow():
    + check if acq is working for ui db if not return FALSE
    + commented out the whole function; seems this not required;
      performance problems only arise while epgdbmgmt and pilistbox
      consistancy checks are enabled
- added new func UiControlMsg_QueryProvFreq() for epgacqctl:
    only calls new func GetProvFreqForCni() in menucmd.c
epgui/uictrl.h [rev:1.11, 2002-01-06T19:20:16]:
- changed result type of UiControlMsg_AcqQueueOverflow() from void to bool
- added new func UiControlMsg_QueryProvFreq()
epgctl/epgacqctl.c [rev:1.60, 2002-01-06T19:25:38]:
- Changed EpgAcqCtl_UpdateProvider()
- now retrieves provider channel frequency from rc/ini file
- based on new function UiControlMsg_QueryProvFreq()
- errors are only reported if a frequency is neither in rc nor in the db
- EpgAcqCtl_UpdateProvider() no longer used in network acq mode
    directly use EpgContextCtl_OpenDummy() instead in acq start
epgvbi/cni_tables.c [rev:1.9, 2002-01-13T18:45:38]:
- Added new function CniConvertPdcToVps(): moved here from epgdbacq.c
epgvbi/cni_tables.h [rev:1.4, 2002-01-13T18:46:04]:
- Added new function CniConvertPdcToVps(): moved here from epgdbacq.c
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.35, 2002-01-13T18:46:36]:
- Removed function ConvertPdcCni(): moved to epgvbi/cni_tables.c
- renamed to CniConvertPdcToVps()
epgdb/epgnetio.c [rev:1.17, 2002-01-16T20:13:21]:
- Added support for VPS forwarding
- new statsReqBits in STATS_REQ message: STATS_REQ_BITS_VPS_PDC_REQ, ..._UPD
- new message MSG_TYPE_VPS_PDC_IND (server -> client)
- added flag doVpsPdc to struct EPGDBSRV_STATE
- new interface: EpgDbServer_SetVpsPdc(), EpgDbClient_SetVpsPdcMode()
- new client callbacks: pGetVpsPdc, pResetVpsPdc
- new server callback: pVpsPdcCallback
- Split off server callback init from EpgDbServer_Init()
- new func EpgDbServer_SetCallbacks(), called by epgacqctl.c
- Also:
- use memset to initialize struct EPGACQ_EVHAND in client I/O
    instead of setting every single element
- new func EpgDbClient_IsLocalServer()
epgdb/epgnetio.h [rev:1.11, 2002-01-16T20:13:30]:
- Added support for VPS forwarding
- new client callbacks: pGetVpsPdc, pResetVpsPdc
- new server callback: pVpsPdcCallback
- new interface funcs: EpgDbServer_SetCallbacks(),
    EpgDbServer_SetVpsPdc(), EpgDbClient_SetVpsPdcMode()
- unrelated:
- new func EpgDbClient_IsLocalServer()
epgctl/epgacqctl.c [rev:1.61, 2002-01-16T20:17:13]:
- Added support for VPS forwarding
- moved VPS/PDC from uint acqNetVpsCni into EPGDB_STATS; new EPGDB_ACQ_VPS_PDC
- new callback funcs: EpgAcqCtl_GetNetVpsPdc(), EpgAcqCtl_ResetNetVpsPdc()
- struct EPGDB_STATS_UPD: moved VPS/PDC
- added EpgAcqCtl_ProcessVps(): non net-acq mode: poll VPS/PDC
- added GUI if funcs: EpgAcqCtl_GetVpsCni(), EpgAcqCtl_ResetVpsPdc()
- Moved epgdbsrv.c callback initialization here from epgmain.c
- added struct acqCtlSrvCb
- Added EpgAcqCtl_UpdateNetProvList()
- moved here from main function
- Removed EpgAcqCtl_Toggle():
- GUI uses start and stop instead
- Added EpgAcqCtl_InitDaemon():
- set epgdbsrv.c callbacks
- EpgAcqCtl_DescribeAcqState(): struct EPGACQ_DESCR:
    renamed isRemote to isNetAcq; added isLocalServer
epgctl/epgacqctl.h [rev:1.36, 2002-01-16T20:17:20]:
- Added support for VPS forwarding
- moved VPS/PDC from uint acqNetVpsCni into EPGDB_STATS; new EPGDB_ACQ_VPS_PDC
- added EpgAcqCtl_ProcessVps(): non net-acq mode: poll VPS/PDC
- added GUI interface funcs: EpgAcqCtl_GetVpsCni(), EpgAcqCtl_ResetVpsPdc()
- Removed EpgAcqCtl_Toggle(): GUI uses start and stop instead
- Added EpgAcqCtl_InitDaemon(): init daemon callbacks
epgui/epgmain.c [rev:1.77, 2002-01-16T20:22:32]:
- added new func RemoveMainIdleEvent()
- EventHandler_TimerVPSPolling(): removed call to Xawtv_PollVpsPil():
    now done by epgacqctl.c via UiControlMsg_AcqEvent();
    added EpgAcqCtl_ProcessVps()
- added new func DaemonMainLoop(), split off from main()
    use gettimeofday() to schedule EPG block acq, acq idle & vps in correct freq.
- removed epgdbsrv.c server callback struct acqCtlSrvCb: moved to epgacqctl.c
    initialized by new func EpgAcqCtl_InitDaemon()
- removed EpgMain_UpdateNetProvList(): moved into epgacqctl.c
    -> removed params from SetDaemonAcquisitionMode()
epgui/epgmain.h [rev:1.17, 2002-01-16T20:22:39]:
- added new func RemoveMainIdleEvent()
epgui/statswin.c [rev:1.51, 2002-01-16T20:24:03]:
- added PIL to stats output
- adapted to changed EpgAcqCtl_GetVpsCni() params & result
- struct EPGACQ_DESCR changed:
    renamed isRemote to isNetAcq; added isLocalServer
epgui/uictrl.c [rev:1.21, 2002-01-16T20:24:18]:
- UiControlMsg_AcqEvent()
- added new event ACQ_EVENT_VPS_PDC
- added check for uiControlInitialized
epgui/uictrl.h [rev:1.12, 2002-01-16T20:24:23]:
- enum ACQ_EVENT: added new event ACQ_EVENT_VPS_PDC
epgui/xawtv.c [rev:1.18, 2002-01-16T20:28:20]:
- Added support for VPS/PDC acq in network acq mode:
- Xawtv_PollVpsPil(): changed to use new func EpgAcqCtl_GetVpsPdc()
    no longer polling: instead triggered by epgactctl upon changes
- for channel changes, use EpgAcqCtl_ResetVpsPdc() instead EpgDbAcqResetVpsPdc()
- same in Xawtv_StationTimer()
- Also:
- Xawtv_Init(): moved xawtv cfg dialog from pos 6 to 7 (added netacqcf)
- Xawtv_Popup(): call RemoveMainIdleEvent(Xawtv_PopDownNowNext)
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.146, 2002-01-16T20:39:05]:
- added Control menu entry: "Connect to acq. daemon"
    status variable menuStatusDaemon
- changed netacqcf: removed enable; added remctl
- proc PopupNetAcqConfig:
    + changed from pack to grid
    + made resizable
    + added radios to switch view, callback new proc NetAcqChangeView
- UpdateRcFile/LoadRcFile: added netacq_enable
epgui/menucmd.c [rev:1.64, 2002-01-16T20:39:15]:
- Added Control menu entry: "Connect to acq. daemon"
- MenuCmd_SetControlMenuStates(): changed to use EPGACQ_DESCR
- MenuCmd_ToggleAcq(): added daemon handling
- added new func IsRemoteAcqEnabled(): uses Tcl var netacq_enable
- SetNetAcqParams(): removed arg onlyQuery; now realized via IsRemoteAcqEnabled
    added new netacqcf elem: remctl: XXX not yet handled
- MenuCmd_UpdateNetAcqConfig(): removed call to SetAcquisitionMode()
    because enable/disabled moved into Control menu
- Daemon follow-ui handling
- SetDaemonAcquisitionMode(): removed prov list;
    prov list callback from from main into epgacqctl
epgui/menucmd.h [rev:1.13, 2002-01-16T20:39:20]:
- Added Control menu entry: "Connect to acq. daemon"
- added new func IsRemoteAcqEnabled(): uses Tcl var netacq_enable
- SetNetAcqParams(): removed arg onlyQuery; now realized via IsRemoteAcqEnabled
- Daemon follow-ui handling
- SetDaemonAcquisitionMode(): removed prov list param
epgdb/epgnetio.c [rev:1.18, 2002-01-18T18:09:20]:
- made compilable for WIN32
    still TODO: non-blocking; syslog; getpid; efficient protofam for localhost
- replacement for getaddrinfo for hosts w/o it
- fixed EpgDbServer_NewConnection() error handling
- replaced getnameinfo() with gethostbyaddr() b/c not all hosts have it
- removed redundant sock_fd from CLNT_CTL_STRUCT
    bugfix EpgDbServer_Logger: used uninit. sock_fd; use io.sock_fd instead
- removed peer, peerhost and peerserv from CLNT_CTL_STRUCT: unused
- enable do_logtty if DPRINTF_OFF is disabled -> removed redundant debug output
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.147, 2002-01-18T18:09:59]:
- fixes:
- save new cf option "remctl" in netacqcf
- removed debugging puts
epgctl/epgctxctl.c [rev:1.17, 2002-01-19T19:08:35]:
- bugfix EpgContextCtl_OpenDemo():
- demo db was not linked into the cache list
epgvbi/btdrv4linux.c [rev:1.20, 2002-01-26T15:16:04]:
- new func BtDriver_GetDeviceOwnerPid()
    Obtain the PID of the process which holds the VBI device
- fix BtDriver_SignalDeathOfChild(): ignore pid 0 as wait() retval
    added debug output
- BtDriver_Main(): signal master process when acq slave dies
epgvbi/btdrv.h [rev:1.12, 2002-01-26T15:16:35]:
- new func BtDriver_GetDeviceOwnerPid()
epgvbi/btdrv4dummy.c [rev:1.5, 2002-01-26T15:18:01]:
- new func BtDriver_GetDeviceOwnerPid()
epgvbi/cni_tables.c [rev:1.10, 2002-01-26T15:18:15]:
- provider table
- added Kabel1 (FAST iPG)
- commented out TV5: ceased transmission since 2 months
epgdb/epgtscqueue.c [rev:1.3, 2002-01-26T15:18:48]:
- bugfix EpgTscQueue_AddAll(): added NULL ptr check for pFirst
epgdb/epgnetio.c [rev:1.19, 2002-01-26T15:18:57]:
- EpgDbServer_Logger()
    + made global: used to report errors during startup
    + replaced param EPGDBSRV_STATE * req with int fd, b/c struct is not global
    + fix: changed >= LOG_WARNING to <=: higher prios have lower value
- EpgDbServer_CheckConnect(): made global: for toggle acq
- EpgDbServer_ListenSocket(): fix: set socket permissions to 0666 after bind
- EpgDbServer_Listen(): added log output
epgdb/epgnetio.h [rev:1.12, 2002-01-26T15:19:03]:
- added EpgDbServer_Logger() and EpgDbServer_CheckConnect()
- consequently added LOG_ERR enum
epgui/epgmain.c [rev:1.78, 2002-01-26T15:20:05]:
- added new query func IsDemoMode()
    removed param (pDemoDatabase != NULL) from StatsWin_Create
- adapted EventHandler_StartAcq(): for changed params to C_ToggleAcq
    + renamed to EventHandler_SigHup()
    + use new func AutoStartAcq(): starts either in local or remote acq mode
- added new global funcs EpgMain_StartDaemon() and EpgMain_StopDaemon()
- fixed signal_handler: do not toggle acq in daemon, always terminate
- ParseArgv():
    -rcfile: removed stat() check: moved into proc LoadRcFile
    -guipipe <fd> added; added global optGuiPipe
- main():
    + added signal(SIGCHLD, SIG_IGN);
    + changed daemon startup: added log output when acq start fails
epgui/epgmain.h [rev:1.18, 2002-01-26T15:20:12]:
- added new funcs EpgMain_StartDaemon(), EpgMain_StopDaemon(), IsDemoMode()
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.148, 2002-01-26T15:20:20]:
- added new entry to Control menu: "Connect to acq. daemon"
- proc CreateDemoModePseudoMenu: disable Client/Server menu
- initialize global variable set acq_mode "follow-ui"
    removed exist chancks for acq_mode in proc PopupAcqMode
- proc LoadRcFile: added warning output to stderr if rcfile open error
- added new entry to Control menu: "Connect to acq. daemon"
- proc CreateDemoModePseudoMenu: disable Client/Server menu
- initialize global variable set acq_mode "follow-ui"
    removed exist chancks for acq_mode in proc PopupAcqMode
- proc LoadRcFile: added warning output to stderr if rcfile open error
epgui/menucmd.c [rev:1.65, 2002-01-26T15:21:24]:
- MenuCmd_SetControlMenuStates: do nothing if in demo mode
- added new func AutoStartAcq(): start acq in auto-detected mode
- MenuCmd_ToggleAcq():
    + split off new static funcs MenuCmd_StartLocalAcq() and
      MenuCmd_StartRemoteAcq()
    + offer to start daemon if not running yet: use new func EpgMain_StartDaemon
    + kill daemon: use new func EpgMain_StopDaemon
- new func ProvMerge_UpdateProvSelectionList():
    + Update provider selection preference list for the merged database
    + split off from ProvMerge_Start()
    + used by OpenInitialDb()
- SetDaemonAcquisitionMode():
    + bugfix: added check for cniCount==0
    + added output to syslog for config errors
epgui/menucmd.h [rev:1.14, 2002-01-26T15:21:30]:
- added new func AutoStartAcq(): start acq in auto-detected mode
epgui/pioutput.c [rev:1.12, 2002-01-26T15:21:43]:
- PiOutput_ExecUserCmd(): removed signal(SIGCHLD, SIG_IGN)
- this is already done in main() now
epgui/statswin.c [rev:1.52, 2002-01-26T15:21:58]:
- StatsWin_Create(): removed arg bool isDemoMode
- removed global var isStatsDemoMode
epgui/statswin.h [rev:1.13, 2002-01-26T15:22:04]:
- StatsWin_Create(): removed arg bool isDemoMode
README [rev:1.19, 2002-01-26T15:22:44]:
- updated provider list: added Kabel1, TSI1; removed TV5.
nxtvepg.pod [rev:1.56, 2002-01-26T15:24:29]:
- added desc. for new Control menu entry "Connect to acq. daemon"
- added desc. for new netacq option "Enable remote control"
    also: changed netacqcf list items from B<> to I<> style
- chapter STATISTICS: improved description of acq stats
- chapter FILES: more desc for vbi.pid file
epgdb/epgnetio.c [rev:1.20, 2002-01-27T12:03:26]:
- First step of preparations to vertically split the module:
- removed references to "req" and "srvState" from server IO functions
- split off new sub-func EpgDbServer_CloseIO() for both srv and clnt close
- combined STATS and VPS IND write funcs into EpgDbServer_WriteAllocMsg()
    callbacks are invoked by caller
- split dump func into two: separated full dump and AiOi dump
- split EpgDbServer_AddConnection() off from EpgDbServer_AcceptConnection(),
    renamed from EpgDbServer_NewConnection()
epgdb/epgnetio.c [rev:1.21, 2002-01-27T19:59:05]:
- added new enum EPGDBSRV_CLNT_TYPE to connection req
    (this allows for other types of clients to be handled by the server on the
    same port, i.e. xawtv VPS requests; currently only BROWSER is omplemented)
- moved statsReqBits from con req into fwd req
    because it's useful only for BROWSER client type
epgdb/epgdbmerge.c [rev:1.24, 2002-01-31T20:28:19]:
- Skip expired PI during merge
- in EpgDbMergeAllPiBlocks()
- in EpgDbMergeInsertPi()
epgdb/epgdbmgmt.c [rev:1.41, 2002-01-31T20:28:36]:
- Split epgdbsrv.c into 3 parts
-> EpgDbServer_AddBlock() renamed to EpgAcqServer_AddBlock()
     moved into epgctl/epgacqsrv.c
epgdb/epgnetio.c [rev:1.22, 2002-01-31T20:29:31]:
- Split epgdbsrv.c into 3 parts
- this module keeps only lower-level I/O handling
- split off protocol handling, separated into server and client side
    epgacqsrv.c and epgacqclnt.c
- renamed the module from epgdbsrv.c into epgnetio.c
epgdb/epgnetio.h [rev:1.13, 2002-01-31T20:30:57]:
- Split epgdbsrv.c into 3 parts
- this module keeps only lower-level I/O handling
- split off protocol handling, separated into server and client side
    epgacqsrv.c and epgacqclnt.c
- renamed the module from epgdbsrv.c into epgnetio.c
epgctl/epgacqctl.c [rev:1.62, 2002-01-31T20:32:53]:
- Split epgdbsrv.c into 3 parts
- renamed epgdbsrv.c into epgnetio.c; split off new modules
    epgacqsrv.c and epgacqclnt.c  -> adapted function prefixes
- fix EpgAcqCtl_NetStatsOverflow():
- EPGDB_STATS_UPD_TYPE_INITIAL must not be dropped
- this is a temporary fix only
epgctl/epgacqsrv.c [rev:1.1, 2002-01-31T20:34:43]:
- Initial revision
epgctl/epgacqsrv.h [rev:1.1, 2002-01-31T20:34:44]:
- Initial revision
epgctl/epgacqclnt.c [rev:1.1, 2002-01-31T20:34:47]:
- Initial revision
epgctl/epgacqclnt.h [rev:1.1, 2002-01-31T20:34:49]:
- Initial revision
epgui/epgmain.c [rev:1.79, 2002-01-31T20:35:07]:
- Split epgdbsrv.c into 3 parts
- renamed epgdbsrv.c into epgnetio.c; split off new modules
    epgacqsrv.c and epgacqclnt.c  -> adapted function prefixes
- added new includes epgacqsrv.h and epgacqclnt.h
epgui/menucmd.c [rev:1.66, 2002-01-31T20:37:32]:
- Split epgdbsrv.c into 3 parts
- renamed epgdbsrv.c into epgnetio.c; split off new modules
    epgacqsrv.c and epgacqclnt.c  -> adapted function prefixes
- added new includes epgacqsrv.h and epgacqclnt.h
epgui/statswin.c [rev:1.53, 2002-01-31T20:37:58]:
- Split epgdbsrv.c into 3 parts
-> adapted function prefixes: EpgDbClient -> EpgAcqClient
-> changed include epgdb/epgdbsrv.h into epgctl/epgacqclnt.h
epgui/uictrl.c [rev:1.22, 2002-01-31T20:38:55]:
- Split epgdbsrv.c into 3 parts
-> adapted function prefixes: EpgDbClient -> EpgAcqClient
-> changed include epgdb/epgdbsrv.h into epgctl/epgacqclnt.h
epgctl/epgacqclnt.c [rev:1.2, 2002-02-03T10:58:35]:
- Moved statistics reports handling here from epgacqctl.c
- added pNext pointer to stats msg struct -> keep queue of stats
    new func EpgAcqClient_FreeStats()
- removed obsolete callback struct EPGDB_NET_CLNT_CB pCb from clientState
- put vps_pdc_ind and stats_ind into msg union
- check stats_ind and vps_pdc_ind in EpgAcqClient_CheckMsg()
- moved content of callback pCb->pFwdCallback into TakeMessage
- call EpgAcqCtl_AddNetVpsPdc() instead of pCb->pVpsPdcCallback
- pass ptr to acqctl internal stats struct to EpgAcqClient_GetNetStats()
    decode union here; loop over stats report queue
epgctl/epgacqclnt.h [rev:1.2, 2002-02-03T10:58:44]:
- Moved statistics reports handling here from epgacqctl.c
- removed obsolete struct EPGDB_NET_CLNT_CB
- removed obsolete pCb param from StartAcq
- pass ptr to acqctl internal stats struct to EpgAcqClient_GetNetStats()
epgctl/epgacqsrv.c [rev:1.2, 2002-02-03T10:58:52]:
- Moved stats report handling here from epgacqctl.c
- added new func EpgAcqServer_BuildStatsMsg(); replaces pCb->pGetStats
- added new func EpgAcqServer_BuildVpsPdcMsg(); replaces pCb->pGetVpsPdc
- Replaced callbacks with direct function calls
- call EpgAcqCtl_UpdateNetProvList() instead of pCb->pProvChange
- call EpgAcqCtl_ProcessVps() instead of pCb->pGetVpsPdc
- removed obsolete EpgAcqServer_SetCallbacks()
- Added EPGDB_CONTEXT param to EpgNetIo_DumpAllBlocks()
epgctl/epgacqsrv.h [rev:1.2, 2002-02-03T10:59:00]:
- Moved stats report handling to epgacqsrv.c from epgacqctl.c
- moved EPGDB_STATS_UPD from epgacqctl.h here; renamed MSG_STRUCT_STATS_IND
- added ptr pNext to struct to support queueing stats reports
- added msg struct MSG_STRUCT_VPS_PDC_IND to enclose EPGDB_ACQ_VPS_PDC
- removed obsolete EPGDB_NET_SRV_CB
epgctl/epgacqctl.c [rev:1.63, 2002-02-03T10:59:19]:
- Client-side: Moved statistics reports handling to epgacqclnt.c
- removed obsolete callback struct EPGDB_NET_CLNT_CB epgNetCb
- EpgAcqCtl_NetStatsUpdate(): all report andling moved to acqclnt
- removed obsolete EpgAcqCtl_NetStatsOverflow()
- moved EpgAcqCtl_GetNetStats(), EpgAcqCtl_VpsPdcCallback() and
    EpgAcqCtl_ResetNetVpsPdc() to acqclnt
- Server-side: Replaced callbacks with direct function calls
- removed obsolete callback struct EPGDB_NET_SRV_CB acqCtlSrvCb
- moved EpgAcqCtl_FwdCallback() into epgacqsrv.c
epgctl/epgacqctl.h [rev:1.37, 2002-02-03T10:59:25]:
- moved struct EPGDB_STATS_UPD to epgacqsrv.h
- added interface funcs to epgacqsrv and clnt (former callbacks)
    EpgAcqCtl_AddNetVpsPdc(), EpgAcqCtl_UpdateNetProvList()
epgdb/epgnetio.c [rev:1.23, 2002-02-03T10:59:44]:
- removed unneeded includes
- removed reference to pAcqDbContext in EpgNetIo_DumpAllBlocks() and
    EpgNetIo_DumpAiOi(): added dbc ptr as parameter instead
epgdb/epgnetio.h [rev:1.14, 2002-02-03T10:59:51]:
- added param dbc to EpgNetIo_DumpAllBlocks() and EpgNetIo_DumpAiOi()
- replacing the direct reference to pAcqDbContext
- added param dbc to EpgNetIo_DumpAllBlocks() and EpgNetIo_DumpAiOi()
- replacing the direct reference to pAcqDbContext
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.149, 2002-02-03T19:19:23]:
- bugfix proc ProvMerge_Reset:
- redisplay config popup: else param array selist is undefined
- fix ShortcutPrettyPrint:
- string "$class: ... $" confused ident command when run on the executable
- put "class" variable name in {}
epgui/pioutput.c [rev:1.13, 2002-02-03T19:27:37]:
- fixed PI listbox theme handling for new provider "Kabel 1":
- improved PiOutput_PrintColumnItem(), case PIBOX_COL_THEME:
- if no theme filter is active, do not simply use theme #0
- instead search for the minimal valid PDC code in the theme list
epgdb/epgblock.h [rev:1.38, 2002-02-13T21:00:12]:
- Removed element time_t lastAiUpdate from struct EPGDB_CONTEXT
epgdb/epgdbif.c [rev:1.40, 2002-02-13T21:00:20]:
- added 2 new funcs: EpgDbGetAiUpdateTime(), EpgDbSetAiUpdateTime()
- because lastAiUpdate was removed from struct EPGDB_CONTEXT
- now the time is determined by the acq timestamp of the AI block
epgdb/epgdbif.h [rev:1.24, 2002-02-13T21:00:26]:
- added decl for 2 new funcs: EpgDbGetAiUpdateTime(), EpgDbSetAiUpdateTime()
epgdb/epgdbmgmt.c [rev:1.42, 2002-02-13T21:01:18]:
- removed update of elem lastAiUpdate: removed from struct EPGDB_CONTEXT
epgdb/epgdbsav.c [rev:1.45, 2002-02-13T21:02:28]:
- removed elem lastAiUpdate from struct EPGDB_CONTEXT
- it's still in the dump header though
epgdb/epgnetio.c [rev:1.24, 2002-02-13T21:02:40]:
- EpgNetIo_DumpAiOi(): removed check of acq timestamp for OI#0
    because it's used for the current acq db only where we have no dump base time
- EpgNetIo_DumpAllBlocks(): removed an assertion
epgdb/epgnetio.h [rev:1.15, 2002-02-13T21:02:50]:
- Changed client/server protocol:
- added msg MSG_TYPE_FORWARD_CNF, MSG_TYPE_DUMP_IND
- removed msg MSG_TYPE_DUMP_REQ, MSG_TYPE_DUMP_CNF
epgdb/epgtscqueue.c [rev:1.4, 2002-02-13T21:02:56]:
- added 2 new funcs:
- EpgTscQueue_IsIncremental(): required to en-/disable acq tails
    (in timescale popup)
- EpgTscQueue_ClearUnprocessed(): bugfix!  Before the complete queue
    was cleared, hence data was lost (e.g. after provider switch when
    both scales were open)
- removed elem lastAiUpdate from struct EPGDB_CONTEXT
- use new func EpgDbGetAiUpdateTime() instead (uses acq time of AI block)
epgdb/epgtscqueue.h [rev:1.2, 2002-02-13T21:03:04]:
- added decls for 2 new funcs:
- EpgTscQueue_IsIncremental(): required to en-/disable acq tails
    (in timescale popup)
- EpgTscQueue_ClearUnprocessed(): bugfix!  Before the complete queue
    was cleared, hence data was lost (e.g. after provider switch when
    both scales were open)
epgctl/epgacqclnt.c [rev:1.3, 2002-02-13T21:03:25]:
- Changed client/server protocol (MAJOR change)
- added msg MSG_TYPE_FORWARD_CNF: immediate reply to FORWARD_REQ
    fwd_req now includes dump start times for all dbs
- MSG_TYPE_FORWARD_IND is now sent when all dumps are complete
- added msg MSG_TYPE_DUMP_IND (currently unused though),
    removed msg MSG_TYPE_DUMP_REQ, MSG_TYPE_DUMP_CNF
    dumps are now started automatically, i.e. without handshake
- renamed state CLNT_STATE_WAIT_FWD_IND to CLNT_STATE_WAIT_FWD_CNF
epgctl/epgacqsrv.c [rev:1.3, 2002-02-13T21:03:34]:
- Changed client/server protocol (MAJOR change)
- added msg MSG_TYPE_FORWARD_CNF, MSG_TYPE_DUMP_IND
- removed msg MSG_TYPE_DUMP_REQ, MSG_TYPE_DUMP_CNF
- removed state SRV_STATE_WAIT_DUMP_REQ
    obsolete, because dbs are dumped without asking now
- split former req state SRV_STATE_DUMP into 2 parts:
    SRV_STATE_DUMP_REQUESTED: dump all req. prov. dbs: EpgAcqServer_DumpReqDb()
    SRV_STATE_DUMP_ACQ: dump AI and OI#0 of current acq db
- removed SRV_STATE_PROV_CHANGE
- renamed acq stats enum from SRV_FWD_STATS_STATE to SRV_STATS_STATE
- TakeMessage FWD_REQ: handled identically for all req states
- new func EpgAcqServer_DumpReqDb(): dumps ALL requested providers
    new helper funcs EpgAcqServer_DumpReqInit(), EpgAcqServer_EnableBlockFwd()
- added acq context to req struct
- Bugfix: moved srvMsg into request struct. required for >1 clients!
epgctl/epgacqsrv.h [rev:1.3, 2002-02-13T21:03:41]:
- Changed client/server protocol (MAJOR change)
- added dumpStartTimes array to fwd_req
- removed msg struct MSG_STRUCT_DUMP_REQ
- added msg struct MSG_STRUCT_DUMP_IND
- struct MSG_STRUCT_STATS_IND
- added lastAiTime to minimal struct
- added nowNextMaxAcqRepCount to update struct
epgctl/epgacqctl.c [rev:1.64, 2002-02-13T21:03:55]:
- bugfix EpgAcqCtl_UpdateNetProvList()
- change daemon prov list for ACQMODE_FOLLOW_MERGED too
- removed elem lastAiUpdate from struct EPGDB_CONTEXT
- use new func EpgDbGetAiUpdateTime() instead (uses acq time of AI block)
epgctl/epgctxctl.c [rev:1.18, 2002-02-13T21:04:05]:
- removed elem lastAiUpdate from struct EPGDB_CONTEXT
- use new func EpgDbGetAiUpdateTime() instead (uses acq time of AI block)
- Changed semantics of EpgContextCtl_GetAiUpdateTime()
- for peeks return cached AI update time; do not stat the file
epgui/statswin.c [rev:1.54, 2002-02-13T21:04:17]:
- removed elem lastAiUpdate from struct EPGDB_CONTEXT
- use new func EpgDbGetAiUpdateTime() instead (uses acq time of AI block)
Makefile [rev:1.39, 2002-02-13T21:04:45]:
- split epgdb/epgdbsrv into 3 parts:
- epgdb/epgnetio, epgctl/epgacqclnt, epgctl/epgacqsrv
nxtvepg.pod [rev:1.57, 2002-02-13T21:04:58]:
- dump stream: added note: in netacq mode dump only changed blocks
epgdb/epgqueue.c [rev:1.7, 2002-02-16T11:18:42]:
- Use separate switch DEBUG_EPGQUEUE_CONSISTANCY to disable consistancy check
- DEBUG_GLOBAL_SWITCH should remain enabled for NULL ptr checks
epgdb/epgdbmgmt.c [rev:1.43, 2002-02-16T11:35:00]:
- Use separate switch DEBUG_EPGDBMGMT_CONSISTANCY to disable consistancy check
- DEBUG_GLOBAL_SWITCH should remain enabled for NULL ptr checks etc.
epgui/timescale.c [rev:1.5, 2002-02-16T11:40:40]:
- bugfix: use EpgTscQueue_ClearUnprocessed() instead of EpgTscQueue_Clear()
- Before, the complete queue was cleared, hence data was lost (e.g. after
    provider switch when both scales were open)
- bugfix: use EpgTscQueue_IsIncremental()to en-/disable acq tails
epgui/pilistbox.c [rev:1.64, 2002-02-16T13:17:35]:
- Use separate switch DEBUG_PILISTBOX_CONSISTANCY to disable consistancy check;
- DEBUG_GLOBAL_SWITCH should remain enabled for NULL ptr checks etc.
epgctl/epgctxmerge.c [rev:1.7, 2002-02-16T17:12:54]:
- removed update of elem lastAiUpdate: removed from struct EPGDB_CONTEXT
epgctl/epgacqclnt.c [rev:1.4, 2002-02-16T17:19:29]:
- fix EpgAcqClient_GetNetStats() for type UPDATE:
- use lastest (acq stats) hist record to fill possible gaps
- i.e. loop from lastIdx+1 ... curHistIdx
epgctl/epgacqsrv.c [rev:1.4, 2002-02-16T17:20:11]:
- slight fixes in doTtxStats handling
epgui/statswin.c [rev:1.55, 2002-02-16T17:21:04]:
- fix StatsWin_UpdateDbStatsWin()
- check if acq start time is zero -> print zero duration
- this fixes the output for all-zero stats structs
epgui/statswin.c [rev:1.56, 2002-02-16T17:53:01]:
- fix StatsWin_UpdateDbStatusLine()
- handle pAi==NULL in state RUNNING (internal error case)
epgvbi/btdrv4linux.c [rev:1.21, 2002-02-16T18:29:51]:
- bugfix BtDriver_Main()
- after loop exit, when in USE_THREAD mode:
- must not send SIGHUP to itself to signal acq stop or acq will restart
Makefile.win32 [rev:1.14, 2002-02-16T18:42:31]:
- split off new variable TCLDIR to speed up path adaptions
epgdb/epgnetio.c [rev:1.25, 2002-02-17T21:09:00]:
- Adapted for NetBSD by Mario Kemper
- define HAVE_GETADDRINFO for __NetBSD__
- added new func getaddrinfo_pf_unix()
- Fixed IPv6 support in EpgNetIo_AcceptConnection()
- handle connections of type AF_INET6: use getnameinfo
nxtvepg.pod [rev:1.58, 2002-02-25T20:17:42]:
- client/server config dialog:
- added note about IPv6 and IPv4 esp. on NetBSD
- after email exchange with Mario Kemper id=3C701E87.37FB39FC
epgctl/epgacqctl.c [rev:1.65, 2002-02-28T19:09:03]:
- EpgAcqCtl_GetProvider():
- check for cniCount == 0 when accessing CNI array
- EpgAcqCtl_UpdateProvider():
- do UiControlMsg_QueryProvFreq() first before using db internal freq
    even if db already open -> same prios for all
- EpgAcqCtl_AiCallback(): skip freq update if in network mode
- EpgAcqCtl_Stopped(): added assertion
epgctl/epgacqsrv.c [rev:1.5, 2002-02-28T19:11:09]:
- bugfix protocol in EpgAcqServer_EnableBlockFwd()
- do not auto-enable first foud CNI if client requests zero CNIs
- because this is too hard to handle on client-side
- bugfix EpgAcqServer_HandleSockets()
- added EpgAcqServer_Close() upone client connection timeout
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.150, 2002-02-28T19:11:34]:
- improved 2 comments :)
epgui/menucmd.c [rev:1.67, 2002-02-28T19:15:58]:
- SetDaemonAcquisitionMode() improved:
- in follow-ui mode, if no CNI is found in rc/ini file
- pass list of all known CNIs to acqctl, even 0; do not abort with error msg!
- this is very usefule for the first start after the initial scan
- when the user never has selected a provider but still can use the acq daemon
epgui/pilistbox.c [rev:1.65, 2002-02-28T19:17:55]:
- PiListBox_UpdateState(): new msg EPGDB_ACQ_WAIT_DAEMON
- for network acq mode only: not known if one of the ui cnis i part of
    the acq cni list
epgui/pilistbox.h [rev:1.14, 2002-02-28T19:19:13]:
- EPGDB_STATE enum: added new member EPGDB_ACQ_WAIT_DAEMON
epgui/uictrl.c [rev:1.23, 2002-02-28T19:22:16]:
- UiControl_GetDbState(): new pilistbox msg EPGDB_ACQ_WAIT_DAEMON
- for network acq mode only
- not known on which cnis the daemon works
- UiControl_AiStateChange():
- always call UiControl_GetDbState(), even for Acq AI, because pilistbox msg
    may change (at least EPGDB_ACQ_WAIT_DAEMON <-> EPGDB_ACQ_WAIT)
- UiControlMsg_AcqEvent()
- removed redundant uiControlInitialized checks
Makefile [rev:1.40, 2002-03-02T12:52:01]:
- removed -lpthread from LDLIBS
- only added if USE_THREADS
README [rev:1.20, 2002-03-02T12:52:27]:
- added hint that Windows 2000 is not supported
- corrected URL to cygwin.com
nxtvepg.spec [rev:1.2, 2002-03-02T12:53:08]:
- changed version to 0.7.0
epgctl/epgversion.h [rev:1.19, 2002-03-02T12:54:09]:
- set to version 0.7.0
CHANGES.version [rev:1.8, 2002-03-02T12:54:27]:
- added USE_THREADS
TODO [rev:1.15, 2002-03-02T14:43:37]:
- updated for release 0.7.0
CHANGES [rev:1.20, 2002-03-02T14:43:46]:
- updated for release 0.7.0
epgdb/epgnetio.c [rev:1.26, 2002-03-02T14:48:15]:
- separate func EpgNetIo_GetLocalSocketAddr() fpr PF_LOCAL sockets
- formerly getaddrinfo was used, but this is not sufficiently portable
    was already used for NetBSD
- use malloc instead of xmalloc in getaddrinfo, for freeaddrinfo
www/index-de.html [rev:1.22, 2002-03-02T15:39:22]:
- updated for release 0.7.0
www/index.html [rev:1.34, 2002-03-02T15:39:22]:
- updated for release 0.7.0
www/changelog.html [rev:1.24, 2002-03-02T15:39:48]:
- updated for release 0.7.0
www/man.html [rev:1.13, 2002-03-02T15:39:48]:
- updated for release 0.7.0
www/provnets.html [rev:1.11, 2002-03-02T15:40:33]:
- added new German provider Kabel-1 (tvtv)
- added note to TV5: dead provider
www/tripod-src-index.html [rev:1.1, 2002-03-02T18:29:27]:
- Initial revision
www/tripod-src-index.html [rev:1.2, 2002-03-03T19:17:55]:
- fixes copy&paste error in file names for 0.6.0 and 0.6.1
www/changelog.html [rev:1.25, 2002-03-07T21:40:17]:
- started list for 0.7.1 (yet unreleased)
- first entry: daemon remote control
www/index.html [rev:1.35, 2002-03-08T21:25:14]:
- removed link to "currently in development"
- added year 2002 to copyright
www/index-de.html [rev:1.23, 2002-03-08T21:26:13]:
- fixed year of release of 0.7.0 (email by Christian Hoenig)
- added year 2002 to copyright
www/index-de.html [rev:1.24, 2002-03-10T14:58:56]:
- Release date of 0.7.0 was still wrong (2.3. instead 3.2.)
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_7_0 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.151, 2002-03-08T19:15:00]:
- Added year 2002 to copyright messages.
www/changelog.html [rev:1.26, 2002-03-10T14:59:27]:
- Added two points for 0.7.1: big-endian bug-fixes and auto-conversion.
epgvbi/cni_tables.c [rev:1.11, 2002-03-15T20:35:45]:
- added 2 Italian networks from EBU TR 231 v03/2002
www/provnets.html [rev:1.12, 2002-03-17T15:07:42]:
- Added network lists for M6 and Canal+
- provided 2002-03-17 by e-nek@netcourrier.com via mail
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.36, 2002-03-17T20:35:45]:
- fix: changed type of ttx data array from char to uchar
- in EpgDbAcqAddVpsData() and EpgDbAcqGetP830Cni()
epgdb/epgdbacq.h [epgvbi/ttxdecode.h, rev:1.17, 2002-03-17T20:35:45]:
- fix: changed type of ttx data array from char to uchar
- in EpgDbAcqAddVpsData() and EpgDbAcqGetP830Cni()
epgui/epgmain.c [rev:1.80, 2002-03-17T20:44:35]:
- WIN32: enabled EventHandler_TimerVPSPolling()
- else no VPS is available for WIN32
epgvbi/cni_tables.c [rev:1.12, 2002-03-20T20:29:26]:
- removed Pro7 from list of "known" providers
- added CNI for France 5 (La Cinquieme)
epgdb/epgblock.c [rev:1.42, 2002-03-22T20:00:11]:
- bugfix EpgBlockConvertNi():
- off_events must be 4-byte aligned because it contains long
- bugfix EpgBlockConvertTi():
- pointer psd was incremented only 5 in loop; must be 6
epgui/pioutput.c [rev:1.14, 2002-03-22T21:11:46]:
- compiler warnings fixed: changed ptr type from char to uchar
epgui/pifilter.c [rev:1.53, 2002-03-22T21:12:18]:
- compiler warnings fixed: changed ptr type from char to uchar
epgui/epgtxtdump.c [epgui/dumpraw.c, rev:1.23, 2002-03-22T21:12:33]:
- fixed LI and TI dump: missing \n at line ends
epgctl/epgctxctl.c [rev:1.19, 2002-03-22T21:13:56]:
- bugfix EpgContextCtl_GetFreqList()
- memory overwrite on 64-bit CPUs -> SEGV in free()
- alloc'ed only for uint, but wrote freq as array of longs
dsdrv/dsdrvlib.h [rev:1.1, 2002-03-24T12:17:36]:
- Initial revision
epgvbi/bt848.h [dsdrv/bt8x8_reg.h, rev:1.6, 2002-03-24T12:17:48]:
- Replaced WinDriver by Dscaler driver "DSdrv"
- Port done by E-Nek (e-nek@netcourrier.com)
epgvbi/btdrv4win.c [rev:1.16, 2002-03-24T12:19:07]:
- Replaced WinDriver by Dscaler driver "DSdrv"
- Port done by E-Nek (e-nek@netcourrier.com)
epgvbi/btdrv4dummy.c [rev:1.6, 2002-03-28T21:54:06]:
- Syntax fixes for WIN32:
- added #ifdef WIN32 around BtDriver_CheckParent() and
    BtDriver_GetDeviceOwnerPid()
- to match the btdrv.h header
www/pre-releases.html [rev:1.1, 2002-03-29T13:58:53]:
- Initial revision
www/nefkom-src-index.html [rev:1.1, 2002-03-29T13:59:07]:
- Initial revision
dsdrv/dsdrvlib.h [rev:1.2, 2002-03-29T16:11:57]:
- upgrade to DSdrv v4 (via email from E-nek 24.2.2002)
epgvbi/btdrv4win.c [rev:1.17, 2002-03-29T16:12:11]:
- upgrade to DSdrv v4:
- changed BT8X8_FindTVCard() to support multiple cards via TvCardIndex
- added msg when the requested card is not found
- NOTE: dynamic change of TV card index crashes Windows!
epgvbi/btdrv.h [rev:1.13, 2002-03-29T16:12:48]:
- struct EPGACQ_BUF: changed type of frameSeqNo from u32 to uint
epgvbi/btdrv4linux.c [rev:1.22, 2002-03-29T16:12:55]:
- struct EPGACQ_BUF: changed type of frameSeqNo from u32 to uint
epgvbi/hamming.h [rev:1.7, 2002-03-29T16:13:05]:
- changed macros UnHam84Nibble() and UnHam84Byte()
- after mail from Helge Kreutzmann 25.03.2002: BUS error on alpha CPU (64-bit)
- removed (uint) cast; instead cast pointers to (uchar *)
epgdb/epgblock.h [rev:1.39, 2002-03-29T17:24:11]:
- Changed all types in EPG blocks to fixed size for 64-bit CPU compatibility
- replaced ushort with uint16_t, uint with uint32_t, uchar with uint8_t
- replaced ulong with uint32_t!  long is only used for 32 bit anyway
- TODO: time_t is still used, also bool
- still binary compatible with version 0.7.0 (on 32-bit systems only)
- also changed ulong in EPGDB_BLOCK_COUNT to uint32_t (b/c sent in STATS_IND)
- Added prototype for new function EpgBlockSwapEndian()
- Swap all EPG block struct elements > 1 byte for non-endian-matching databases
epgdb/epgblock.c [rev:1.43, 2002-03-29T17:25:10]:
- Added new function EpgBlockSwapEndian()
- Swap all EPG block struct elements > 1 byte for non-endian-matching databases
- uses local functions for every EPG block type
- uses new include file epgswap.h with inline functions
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.37, 2002-03-29T17:26:45]:
- Changed prototype of EpgDbAcqGetStatistics(): replaced ulong with uint32_t
- because the type was changed in struct EPGDB_BLOCK_COUNT
epgdb/epgdbacq.h [epgvbi/ttxdecode.h, rev:1.18, 2002-03-29T17:26:45]:
- Changed prototype of EpgDbAcqGetStatistics(): replaced ulong with uint32_t
- because the type was changed in struct EPGDB_BLOCK_COUNT
epgdb/epgdbfil.c [rev:1.32, 2002-03-29T17:26:54]:
- EpgDbFilterFinishNi(): changed type of cariable now from uint to time_t
- avoids compiler warning on Sparc
epgdb/epgdbif.c [rev:1.41, 2002-03-29T17:27:08]:
- EpgDbGetStat(): changed type of sum variables from ulong to uint32_t
- ulong is no longer used for 64-bit compatibility
- changed result type of EpgDbGetPiBlockCount() from ulong to uint
epgdb/epgdbif.h [rev:1.25, 2002-03-29T17:27:17]:
- Changed result type of EpgDbGetPiBlockCount() from ulong to uint
epgdb/epgdbsav.c [rev:1.46, 2002-03-29T17:31:21]:
- Implemented automatic endian swapping in case of endian mismatch, e.g. Sparc
- Also changed all types in file header to fixed size for 64-bit CPU compatibility
- in EpgDbReloadHeader() and other funcs which read the header
- all EPG blocks are swapped too: new function EpgBlockSwapEndian()
- also changed all types in file header, e.g. from uint to uint32_t
epgdb/epgdbsav.h [rev:1.31, 2002-03-29T17:31:27]:
- Changed all types in file header to fixed size for 64-bit CPU compatibility
- replaced ushort with uint16_t, uint with uint32_t, uchar with uint8_t
- replaced ulong with uint32_t!  long is only used for 32 bit anyway
- TODO: time_t is still used, also bool
- still binary compatible with version 0.7.0 (on 32-bit systems only)
epgdb/epgnetio.c [rev:1.27, 2002-03-29T17:32:10]:
- Ported to WIN32:
- replaced write/read with send/recv
- replaced close with closesocket
- replaced errno with WSAGetLastError()  [not everywhere yet]
    replaced EAGAIN with WSAEWOULDBLOCK    [TODO: EINTR?]
- added new function GetWindowsSocketErrorMsg(): to replace strerr() [TODO]
- replaced setsocketopt() with ioctlsocket()
- EpgNetIo_FinishConnect(): replaced with constant TRUE: SO_ERROR not available
    on Windows the socket becomes writable only if the connect succeeded
    [TODO: add exception to FD mask to catch connect failures]
- bugfixes:
- in EpgNetIo_Logger(): epgNetIoLogCf.fileloglev was not used;
    instead hard-wired "daemon.out"
- getaddrinfo(): struct sockaddr_in sin_port: must be written through htons()
- getaddrinfo(): replaced xfree() with free()
- Avoided a few compiler warnings on Sparc arch:
- made getaddrinfo(), freeaddrinfo(), gai_strerror() static
- added #ifdef PF_INET6
- replaced PF_LOCAL with PF_UNIX
epgdb/epgnetio.h [rev:1.16, 2002-03-29T17:33:26]:
- Support for automatic endian swapping in case of endian mismatch
- changed all types in message header EPGNETIO_MSG_HEADER
    to fixed size for 64-bit CPU compatibility
- replaced ushort len with uint16_t;
    replaced EPGNETIO_MSG_TYPE type with uint8_t
- changed PROTOCOL_COMPAT from 0.7.0 to 0.7.1
- added PROTOCOL_ENDIAN_MAGIC, PROTOCOL_WRONG_ENDIAN
epgdb/epgtscqueue.c [rev:1.5, 2002-03-29T17:34:24]:
- EpgTscQueue_AdjustBaseTime(): changed type of diff from ushort to uint
- no particular reason; just by a hunch
epgdb/epgtscqueue.h [rev:1.3, 2002-03-29T17:34:30]:
- Changed all types in structs to fixed size for 64-bit CPU compatibility
- EPGDB_PI_TSC_ELEM, EPGDB_PI_TSC_BUF
- replaced ushort with uint16_t, uint with uint32_t, uchar with uint8_t
- TODO: time_t is still used, also bool
epgctl/epgacqclnt.c [rev:1.5, 2002-03-29T18:49:06]:
- Implemented automatic endian swapping in case of endian mismatch, e.g. Sparc
- swapping of all incoming messages is done in EpgAcqClient_CheckMsg()
- new state element clientState.endianSwap, set by MSG_TYPE_CONNECT_CNF
- Also changed types in all messages to fixed size for 64-bit CPU compatibility
- Ported for WIN32:
- EpgAcqClient_Init(): call WSAStartup()
epgctl/epgacqsrv.c [rev:1.6, 2002-03-29T18:49:13]:
- Implemented automatic endian swapping in case of endian mismatch, e.g. Sparc
- swapping of all incoming messages is done in EpgAcqServer_CheckMsg()
- new request element endianSwap, set when processing MSG_TYPE_CONNECT_REQ
- Also changed types in all messages to fixed size for 64-bit CPU compatibility
- Ported for WIN32:
- suppress creation of named socket in /tmp
- not really related but: check for pAcqDbContext==NULL for EpgNetIo_DumpAiOi()
epgctl/epgacqsrv.h [rev:1.4, 2002-03-29T18:49:20]:
- Changed types in all messages to fixed size for 64-bit CPU compatibility
- replaced ushort with uint16_t, uint with uint32_t, uchar with uint8_t
- replaced ulong with uint32_t!  long is only used for 32 bit anyway
epgctl/epgscan.c [rev:1.19, 2002-03-29T18:49:33]:
- EpgScan_EvHandler(): changed type of pkg count vars from ulong to uint32_t
epgctl/mytypes.h [rev:1.12, 2002-03-29T18:49:39]:
- Added fixed size integer types for 32 and 64-bit compatibility
- added #include <stdint.h> for UNIX, <inttypes.h> for WIN32
- removed obsolete type u32
epgctl/epgacqctl.h [rev:1.38, 2002-03-29T18:50:40]:
- Changed types in STATS structs to fixed size for 64-bit CPU compatibility
- replaced ushort with uint16_t, uint with uint32_t, uchar with uint8_t
- replaced ulong with uint32_t!  long is only used for 32 bit anyway
- added filler elements to get the same alignment as on Sparc
epgui/epgtxtdump.c [epgui/dumpraw.c, rev:1.24, 2002-03-29T19:05:05]:
- Removed unneccessary use of type long to ease 64-bit CPU compatibility
- changed type of pil in EPG block from ulong to uint
- changed type of block count vars from ulong to uint
epgui/statswin.c [rev:1.57, 2002-03-29T19:06:15]:
- Removed unneccessary use of type long to ease 64-bit CPU compatibility
- changed type of block count vars from ulong to uint32_t
- in StatsWin_UpdateDbStatsWin()
epgctl/epgacqctl.c [rev:1.66, 2002-03-29T19:18:55]:
- Removed unneccessary use of type long to ease 64-bit CPU compatibility
- changed type of block count vars from ulong to uint
epgui/epgmain.c [rev:1.81, 2002-03-29T19:29:39]:
- Ported to WIN32:
- EventHandler_NetworkUpdate(): Tcl_CreateFileHandler() not available on WIN32
    replaced by Tcl_MakeTcpClientChannel() and Tcl_CreateChannelHandler()
- replaced gettimeofday() by GetCurrentTime()
- replaced sleep(sec) with Sleep(msec)
- disabled EventHandler_DaemonStart() and EpgMain_StartDaemon()
- disabled -nodetach option in main()
dsdrv/dsdrvlib.h [rev:1.3, 2002-03-29T22:34:51]:
- Update from E-nek (in response to my email from today):
- added DoesThisPCICardExist()
- added InstallNTDriver() and UnInstallNTDriver()
- removed obsolete funcs memoryMap() and memoryUnmap()
www/pre-releases.html [rev:1.2, 2002-03-29T23:25:48]:
- updated for 1.15pre3-win
- removed one hint about crashes during TV card changes (solved)
epgvbi/btdrv.h [rev:1.14, 2002-03-30T14:12:44]:
- Changed return type of BtDriver_Configure() from void to bool
epgvbi/btdrv4dummy.c [rev:1.7, 2002-03-30T14:13:08]:
- Changed return type of BtDriver_Configure() from void to bool
epgvbi/btdrv4win.c [rev:1.18, 2002-03-30T14:19:33]:
- New dsdrv.dll from E-nek (in response to my email from today):
- Optimized BT8X8_FindCard(): merged with BT8X8_Open()
    use new DLL export DoesThisPCICardExist() to count cards
- BtDriver_Load(): call LoadDriver(); display msgbox if it fails
- BtDriver_Unload(): call new DLL export UnloadDriver()
    to detach from the driver, hence allowing other apps to access the card
- BtDriver_Configure(): check result of BtDriver_StartAcq():
    set pVbiBuf->isEnabled = FALSE if it fails to notify acq ctl
- removed obsolete typedef struct TBT848 and global variable hBT8X8
- removed obsolete calls to memoryMap() and memoryUnmap()
    these were also removed from the DLL
- changed ordering of Bt8x8 chips in array BT848Chips: moved Bt878 to front
epgctl/debug.c [rev:1.12, 2002-04-06T15:34:46]:
- WIN32: use OutputDebugString() instead of printf()
- debug output can be viewed with the DebugView tool from sysinternals
epgctl/debug.h [rev:1.12, 2002-04-06T15:34:46]:
- WIN32: use OutputDebugString() instead of printf()
- debug output can be viewed with the DebugView tool from sysinternals
epgui/menucmd.c [rev:1.68, 2002-04-20T17:10:57]:
- SetHardwareConfig: check result of BtDriver_Configure()
- if it fails, stop acq
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.152, 2002-04-20T17:16:03]:
- Win32 fix for PI listbox:
- use new tag "cur" instead of the standard "sel" (selection) tag
- because the sel tag is removed when the window loses focus,
    i.e. the cursor position is no longer visible
- proc HardwareConfigUpdateCardIdx:
- update rc/ini file only if card idx changed
- proc PopupAcqMode:
- moved acqmode_selist initialization here from proc UpdateAcqModePopup
- just in preparation for remote acq support
epgui/pilistbox.c [rev:1.66, 2002-04-20T17:16:20]:
- Win32 fix for PI listbox:
- use new tag "cur" instead of the standard "sel" (selection) tag
- because the sel tag is removed when the window loses focus,
    i.e. the cursor position is no longer visible
epgvbi/btdrv4linux.c [rev:1.23, 2002-04-20T17:18:05]:
- BtDriver_Configure(): result changed from void to bool
- it acq is enabled, waits for 300ms if slave was able to switch cards
- returns FALSE if not; acq ctl then should stop acq
epgui/uictrl.c [rev:1.24, 2002-04-29T15:58:27]:
- fix UiControl_GetDbState():
- check if acq db != 0 before calling EpgContextMergeCheckForCni()
epgvbi/cni_tables.c [rev:1.13, 2002-04-29T16:30:12]:
- bugfix: braught double entries together for QVC,HOT,Arte
- had separate entries for NI and PDC
epgctl/epgctxmerge.c [rev:1.8, 2002-04-29T18:14:22]:
- EpgContextMergeCheckForCni(): fixed prefix in debug statements
epgui/wintv.h [rev:1.1, 2002-04-29T18:31:58]:
- Initial revision
epgui/wintvcfg.h [rev:1.1, 2002-04-29T18:31:58]:
- Initial revision
epgvbi/winshm.h [rev:1.1, 2002-04-29T18:32:54]:
- Initial revision
epgvbi/winshmsrv.h [rev:1.1, 2002-04-29T18:32:54]:
- Initial revision
tvsim/tvsim_gui.tcl [rev:1.1, 2002-04-29T18:38:11]:
- Initial revision
tvsim/tvsim_main.c [rev:1.1, 2002-04-29T18:38:11]:
- Initial revision
tvsim/vbiplay.c [rev:1.1, 2002-04-29T18:38:11]:
- Initial revision
tvsim/vbirec_gui.tcl [rev:1.1, 2002-04-29T18:38:11]:
- Initial revision
tvsim/vbirec_main.c [rev:1.1, 2002-04-29T18:38:11]:
- Initial revision
tvsim/winshmclnt.c [rev:1.1, 2002-04-29T18:38:11]:
- Initial revision
tvsim/winshmclnt.h [rev:1.1, 2002-04-29T18:38:11]:
- Initial revision
epgctl/mytypes.h [rev:1.13, 2002-04-29T18:44:55]:
- added #define DEBUG_SWITCH_TVSIM: for WIN32 TV app interface
epgvbi/bt848.h [dsdrv/bt8x8_reg.h, rev:1.7, 2002-04-29T19:02:36]:
- enum TUNER_TYPE:
    + added 12 new tuners from bttv 0.7.78 tuner.h
    + added element TUNER_COUNT
- added #defines for new tuner manufacturers, from bttv too
epgvbi/btdrv.h [rev:1.15, 2002-04-29T19:02:59]:
- struct EPGACQ_BUF: revamped channel change handling: the state reset is
    now done on side of the slave -> removed slave internal vars from the struct
    (those have been moved into an internal struct in epgdbacq.c)
    -> removed frameSeqNo, start_writer_idx, isEpgPage, isMipPage
    -> added chanChangeReq, chanChangeCnf
- struct EPGACQ_BUF: added comments
- made pVbiBuf volatile
- added new WIN32-only funcs: BtDriver_Restart(), BtDriver_GetState(),
    BtDriver_MatchTunerByParams()
epgvbi/btdrv4dummy.c [rev:1.8, 2002-04-29T19:03:14]:
- made pVbiBuf volatile
epgvbi/btdrv4win.c [rev:1.19, 2002-04-29T19:03:29]:
- added 12 new tuners from bttv 0.7.78 tuner.c
- moved internal state vars into new struct btCfg
- made pVbiBuf volatile
- renamed some internal state vars, e.g. Initialized -> btDrvLoaded
- added shmSlaveMode & includes winshm.h, winshmsrv.h
- added new func BtDriver_MatchTunerByParams() for wintvcfg.c
- added new funcs BtDriver_GetState(), BtDriver_Restart() for winshmsrv.c
- added #ifndef WITHOUT_TVCARD to allow driver test w/o TV card
- moved frameSeqNo handling into epgdbacq.c -> call new function
    VbiDecodeStartNewFrame(frameSeqNo)
- added vbiThreadHandle: allows clean shutdown of VBI thread
epgvbi/tvchan.h [rev:1.5, 2002-04-29T19:03:37]:
- fixed module description
epgvbi/vbidecode.c [rev:1.28, 2002-04-29T19:03:43]:
- replaced VbiDecodeLostFrame() with VbiDecodeStartNewFrame()
epgvbi/vbidecode.h [rev:1.16, 2002-04-29T19:03:49]:
- replaced VbiDecodeLostFrame() with VbiDecodeStartNewFrame()
epgdb/epgblock.h [rev:1.40, 2002-04-29T19:26:22]:
- moved #define MAX_MERGED_DB_COUNT here from epgdbmerge.h
- this was required by too many other modules by now
epgdb/epgdbmerge.h [rev:1.9, 2002-04-29T19:26:43]:
- moved #define MAX_MERGED_DB_COUNT to epgblock.h
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.38, 2002-04-29T19:26:57]:
- improved channel change handling: the state reset is now MT safe:
    vars are reset on side of the slave -> removed slave internal vars from
    struct EPGACQ_BUF into new internal struct acqSlaveState
    -> added chanChangeReq, chanChangeCnf
    -> removed bNewChannel from EPGDBACQ_STATE: check chanChangeCnf instead
- replaced EpgDbAcqLostFrame() with EpgDbAcqNewVbiFrame():
    this does the state reset now
- removed func EpgDbAcqResetVpsPdc(): must not be used because at least
    the EPG pageno must be reset too upon chan change -> do EPG acq reset
- made pVbiBuf volatile -> added casts to calls to memset etc.
epgdb/epgdbacq.h [epgvbi/ttxdecode.h, rev:1.19, 2002-04-29T19:27:01]:
- removed func EpgDbAcqResetVpsPdc()
- replaced EpgDbAcqLostFrame() with EpgDbAcqNewVbiFrame()
epgdb/epgnetio.c [rev:1.28, 2002-04-29T19:27:15]:
- added compiler switch USE_DAEMON around the whole module code
    this allows to always keep the module in the makefile
- moved #include <winsock2.h> to the top: req. b/c conflict with sys/types.h
- EpgNetIo_FinishConnect(): prepared for WIN32 connect error handling
epgctl/epgacqctl.c [rev:1.67, 2002-04-29T19:45:54]:
- EpgAcqCtl_GetVpsPdc(): added param clientId: cache separately
- EpgAcqCtl_ResetVpsPdc(): replaced EpgDbAcqResetVpsPdc() with
    EpgAcqCtl_ChannelChange() & EpgAcqCtl_StatisticsUpdate()
- EpgAcqCtl_Start(): changed order of init function calls:
    call BtDriver_StartAcq() before EpgAcqCtl_UpdateProvider()
    -> now the tuner is not changed if the VBI device is busy
- changed result of EpgAcqCtl_ProcessVps(): return update instead of change
epgctl/epgacqctl.h [rev:1.39, 2002-04-29T19:46:00]:
- added new enum VPSPDC_REQ_ID
- EpgAcqCtl_GetVpsPdc(): added param clientId: cache separately
epgui/epgmain.c [rev:1.82, 2002-04-29T20:31:50]:
- removed VPS polling timer: moved into xawtv.c and wintv.c
- implemented WIN32 TV app interaction
    + added wintv.h and wintvcfg.h header includes
    + added calls to WintvSharedMem_Init(), WintvCfg_Init(), Wintv_Init(), ...
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.153, 2002-04-29T20:32:00]:
- Ported network acq to WIN32
    + always include "Connect to acq. daemon" in Control menu
- Implemented WIN32 TV app interaction
    + changed prefix of Tcl procs from C_Xawtv to C_Tvapp
    + always include "TV app interaction" into Configure menu
      moved here from xawtv.c init code
    + proc CreateTuneTvButton & PopupEpgScan & NetworkNamingPopup:
      removed $is_unix condition
    + added new global $tvapp_name: replaces "xawtv" in all output
    + TV card configuration popup: added "Load config" from TV apps INI files
    + TV app interaction popup & rc/ini file: new config var: wintvcf
- PopupHelp
    + changed cursor to arrow: better for selecting hyperlinks
    + changed binding for hyperlinks: ButtonRelease instead of Button
    + proc FollowHelpHyperlink: allow sub-section specification: break up at ":"
epgui/statswin.c [rev:1.58, 2002-04-29T20:32:15]:
- StatsWin_UpdateDbStatsWin()
- added clientId=VPSPDC_REQ_STATSWIN param to EpgAcqCtl_GetVpsPdc()
- fixed handling of CNI 0 -> display "---"
- homogenized output: always append \n
epgui/xawtv.c [rev:1.19, 2002-04-29T20:32:24]:
- Implemented WIN32 TV app interaction
    + changed prefix of Tcl procs from C_Xawtv to C_Tvapp
    + the "TV app interact." menu entry is now always there: just enable/disable
- changed result type of Xawtv_GetFreqTab() from int (TCL_OK/ERROR) to bool
- moved VPS/PDC polling here from epgmain.c: uses pollVpsEvent
    made Xawtv_PollVpsPil() static
- bugfix Xawtv_FollowTvNetwork():
    do not remove popup if CNI/PIL is identical to before
- calls to EpgAcqCtl_GetVpsPdc(): added arg clientId = VPSPDC_REQ_TVAPP
epgui/xawtv.h [rev:1.3, 2002-04-29T20:32:27]:
- changed result type of Xawtv_GetFreqTab() from int (TCL_OK/ERROR) to bool
- removed Xawtv_PollVpsPil(): VPS/PDC polling is now done internally
epgui/uictrl.c [rev:1.25, 2002-04-29T20:33:29]:
- UiControlMsg_AcqEvent(): event ACQ_EVENT_VPS_PDC
- removed call to Xawtv_PollVpsPil()
- xawtv.c now polls VPS/PDC on its own
epgui/menucmd.c [rev:1.69, 2002-04-29T20:34:59]:
- Implemented WIN32 TV app interaction
-> added WintvCfg_GetFreqTab() during EPG scan
epgvbi/winshmsrv.c [rev:1.1, 2002-04-30T08:49:09]:
- Initial revision
epgui/wintv.c [rev:1.1, 2002-04-30T08:50:06]:
- Initial revision
epgui/wintvcfg.c [rev:1.1, 2002-04-30T08:50:06]:
- Initial revision
pod2help.pl [rev:1.14, 2002-04-30T09:00:14]:
- Adapted for hyperlinks with sub-section references:
- when converting section names to lowercase, stop at the ":" separator
- e.g. "CONFIGURE: Client/Server" -> "Configure: Client/Server"
Makefile.win32 [rev:1.15, 2002-04-30T09:23:23]:
- Ported netacq daemon to WIN32 -> added -lws2_32 to LDLIBS
- Switched to the DScaler driver -> added dsdrv.a
- added switch -DWITHOUT_TVCARD (commented out by default)
- implemented TV application interaction
    + added winshmsrv, wintv and wintvcfg to source module list
    + added new compile targets: tvsim.exe, vbirec.exe, vbiplay.exe
- fixed include path: mingw instead of mingw32
- fixed extension of tcl2c: .exe was missing
README [rev:1.21, 2002-04-30T09:55:58]:
- updated for DScaler driver
- updated hardware requirements: allow other CPU than Intel too
nxtvepg.pod [rev:1.59, 2002-04-30T10:05:21]:
- updated provider list: removed Pro7 and TV5; added Kabel1
- hyperlinks now can include sub-section references, separated with ':'
    e.g. "CONFIGURATION: Client/Server"
- improved "GETTING STARTED": split up in sub-sections
    added section on TV app interaction
- TV app interaction now possible for Windows too
    -> replaced "Xawtv" with the neutral "TV app" everywhere
www/index.html [rev:1.36, 2002-05-01T10:50:08]:
- improved HW requirements: not only Pentium PC possible, other CPUs too
- added note about pending release 0.7.1 with DSdrv
www/index-de.html [rev:1.25, 2002-05-01T10:51:31]:
- improved HW requirements: not only Pentium PC possible, other CPUs too
- added note about pending release 0.7.1 with DSdrv
www/changelog.html [rev:1.27, 2002-05-01T10:52:20]:
- moved netacq remote control to 0.7.2
- added ne release 0.7.1 with: DSdrv & wintv
README.tcl83 [rev:1.1, 2002-05-01T10:58:06]:
- Initial revision
README.tcl83 [rev:1.2, 2002-05-01T10:58:44]:
- added description of shutdown message patch
- added (newly introducted) tk_messageBox patch:
    do not use native WIN32 message box; causes nxtvepg main window to
    be destroyed (shrunken into oblivion)
epgvbi/btdrv4linux.c [rev:1.24, 2002-05-01T11:04:24]:
- made pVbiBuf volatile
- moved frameSeqNo handling into epgdbacq.c -> call new function
    VbiDecodeStartNewFrame(frameSeqNo)
- frameSeqNo is no longer set to 0 upon channel changes; channel change
    sequence must be triggered by the master when he changes the channel
epgctl/epgacqsrv.h [rev:1.5, 2002-05-01T11:05:28]:
- removed obsolete include uictrl.h
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.154, 2002-05-01T12:23:31]:
- Added 2nd TV application type & path config to TV interaction dialog
- (that's where people would expect it to be located)
-> use different sets of config vars for HW cfg and wintv cfg
- use new globals hwcfg_tvapp_idx and hwcfg_tvapp_path in hwcfg dialog
    renamed temporary vars to hwcfg_tmp_tvapp_idx etc.
- added Winwods-only section to .xawtv dialog: TV app idx & path config
- added hwcfg_tvapp_path, hwcfg_tvapp_idx to rc/ini file
epgui/wintvcfg.c [rev:1.2, 2002-05-01T12:23:37]:
- added error messages for open errors in all freq. tab. funcs
- added arg Tcl_Interp to WintvCfg_GetFreqTab() and internal freq. funcs
- added new func WinTvCfg_OpenIni() for INI files: error msg on failures
- removed most "\n" from error messages: because now the Tk internal
    messagebox is used by tk83.dll instead of the native Win32 one
- added new Tcl proc: C_Tvapp_TestChanTab for TV interact. config dialog
- removed channel tab loading from Tcl proc C_Tvapp_LoadConfig
epgui/wintvcfg.h [rev:1.2, 2002-05-01T12:23:43]:
- WintvCfg_GetFreqTab(): added arg Tcl_Interp (for Tk error msg box)
epgui/xawtv.c [rev:1.20, 2002-05-01T12:23:50]:
- Xawtv_GetFreqTab(): added arg Tcl_Interp (for Tk error msg box)
epgui/xawtv.h [rev:1.4, 2002-05-01T12:23:50]:
- Xawtv_GetFreqTab(): added arg Tcl_Interp (for Tk error msg box)
epgui/menucmd.c [rev:1.70, 2002-05-01T13:11:05]:
- MenuCmd_SetControlMenuStates(): #ifndef USE_DAEMON:
    disable menu entry "Connect to acq. daemon"
- MenuCmd_StartEpgScan(): added arg Tcl_Interp (for Tk error msg box)
    in calls to WintvCfg_GetFreqTab() and Xawtv_GetFreqTab()
epgdb/epgstream.c [rev:1.19, 2002-05-01T17:51:53]:
- EpgStreamDecodePacket(): improved debug output for missing packets
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.39, 2002-05-01T18:02:32]:
- moved TTX stats in sub-structure of VBI buf: new struct TTX_DEC_STATS
- added ttxPkgDrop to stats
- EpgDbAcqProcessPackets(): added debug output if ttx packets are found
    that do not belong to the current EPG page
- EpgDbAcqAddPacket(): merged with VbiDecodePacket()
    packet and page number decoding is now done here
epgvbi/vbidecode.c [rev:1.29, 2002-05-01T18:03:02]:
- removed VbiDecodePacket(): functionality merged into EpgDbAcqAddPacket()
epgvbi/btdrv.h [rev:1.16, 2002-05-01T18:11:46]:
- changed all elements in EPGACQ_BUF to fixed-length types
- moved ttx stats into sub-struct: new type TTX_DEC_STATS
- added new ttx stats elem ttxPkgDrop
- added 128 reserved bytes at the end of the struct for future extensions
epgdb/epgdbacq.h [epgvbi/ttxdecode.h, rev:1.20, 2002-05-01T18:12:54]:
- Changed desclaration of EpgDbAcqAddPacket():
- function has been merged with VbiDecodePacket()
- now gets only raw teletext data line as input,
    does packet and page number decoding by itself
epgdb/epgblock.c [rev:1.44, 2002-05-02T16:51:19]:
- bugfix DecodeDescriptorLoop(), EpgBlockConvertLi(), EpgBlockConvertTi()
- error in bitfield offset calculation: bitOff was modified before
    it was used to calc. psd increment -> 1 byte was skipped in LI & TI decoding
- Changed struct LI_DESC:
- swapped order of 2-dim arrays
- lang string chars are now adjacent in memory
-> adapted EpgBlockConvertLi()
epgdb/epgblock.h [rev:1.41, 2002-05-02T16:51:27]:
- Changed struct LI_DESC:
- swapped order of 2-dim arrays
- lang string chars are now adjacent in memory
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.40, 2002-05-02T16:51:33]:
- Added elem lastHeader to struct EPGACQ_BUF in pVbiBuf
- all ttx pkg 0 headers are copied in EpgDbAcqAddPacket()
- initialized in EpgDbAcqNewVbiFrame()
epgdb/epgdbfil.c [rev:1.33, 2002-05-02T16:51:40]:
- EpgDbFilterSetLangDescr(): Changed struct LI_DESC:
- swapped order of 2-dim arrays
epgui/epgtxtdump.c [epgui/dumpraw.c, rev:1.25, 2002-05-02T16:59:27]:
- EpgTxtDumpLi(): Changed struct LI_DESC: swapped order of 2-dim arrays
epgui/wintv.c [rev:1.2, 2002-05-02T16:59:34]:
- made Wintv_PollVpsPil() static: only called by local timer
    (already since timer in epgmain was removed)
- moved winshmsrv callbacks into new struct WINSHMSRV_CB
    + made all callback funcs static
    + call WintvSharedMem_SetCallbacks() in Init
- Wintv_CbAttachTv(): stop acq, e.g. in case acq restart failed after detach
epgui/wintv.h [rev:1.2, 2002-05-02T16:59:42]:
- removed declarations of callback funcs: those are static now
- removed declaration of Wintv_PollVpsPil: static now
epgvbi/btdrv.h [rev:1.17, 2002-05-02T17:17:12]:
- struct VBI_LINE: mage pagno and sub into uint16_t -> saves 7 * 512 Bytes
- added elem VBI_LINE lastHeader to EPGACQ_BUF: last ttx header of any page
epgvbi/winshmsrv.c [rev:1.2, 2002-05-02T17:17:19]:
- removed extern decls for callbacks, because:
- added new struct * pWinShmSrvCb: holds pointers to GUI callback funcs
- added new func WintvSharedMem_SetCallbacks()
- fix WinSharedMem_AttachTvapp() and WinSharedMem_DetachTvapp:
    must check if drv restart failed for acqEnabled flag which is passed to Cb
- WintvSharedMem_Enable(): now uses WinSharedMem_AttachTvapp()
    now the driver may be already running when the func is called
- WintvSharedMem_StartStop():
    + for start simply call WintvSharedMem_Enable() now; no need to stop acq
    + fixed stop: only need to stop acq if in slave mode
      must call detach callback
epgvbi/winshmsrv.h [rev:1.2, 2002-05-02T17:17:25]:
- added new struct WINSHMSRV_CB
- added decl for new func WintvSharedMem_SetCallbacks()
tvsim/tvsim_gui.tcl [rev:1.2, 2002-05-02T17:37:01]:
- added default font for tk_messageBox: ansi -12 normal
- removed "Config" button & TV card config dialog
- changed LoadRc: gets file name as param; issue warning if not found
- removed UpdateRc (the app now uses the nxtvepg.ini)
- proc LoadChanTable: improved warning if table is empty: added warning
    if TV card is not configured
tvsim/tvsim_main.c [rev:1.2, 2002-05-02T17:37:09]:
- added version string (used for shared memory ID)
- added command line option handling (from nxtvepg)
- SetHardwareConfig(): added TV card idx as param (for cmd line option)
- removed unused func eval_global()
- removed Tcl procs for HW config dialog (b/c the dialog was removed from GUI)
- removed TvSimu_InitConfig: no longer required (same reason)
    during init LoadChanTable is called direct
- added arg interp to call to WintvCfg_GetFreqTab()
- LoadRcFile: now gets filename as arg (may be set via cmd line option)
tvsim/vbiplay.c [rev:1.2, 2002-05-02T17:37:21]:
- fix: pVbiBuf->mipPageNo must be set to pageno of written EPG pages
    else the receiver won't read them
- adapted for change in EPGACQ_BUF: ttx stats were moved into sub-struct
tvsim/vbirec_gui.tcl [rev:1.2, 2002-05-02T17:37:35]:
- added new TTX statistic: "TTX pkg dropped:"
tvsim/vbirec_main.c [rev:1.2, 2002-05-02T17:37:38]:
- added new TTX statistic: "TTX pkg dropped:"
- improved UpdateTtxHeader: changed output in TTX header field:
    use any ttx header, not just from EPG pg.
    uses new EPGACQ_BUF elem lastHeader; check for parity errors
- adapted for change in EPGACQ_BUF: ttx stats were moved into sub-struct
- removed unused func eval_global()
- put winshmsrv callback func pointers into new struct WINSHMSRV_CB vbiRecCb
    changed callbacks prefix from Wintv_ into VbiRec_
- fix UpdateCni: don't output PIL if CNI == 0
tvsim/winshmclnt.c [rev:1.2, 2002-05-02T17:37:45]:
- fixed 2 comments
Makefile.win32 [rev:1.16, 2002-05-02T17:45:35]:
- VBIREC_MODS2: added hamming module (for ttx header parity check)
README.tcl83 [rev:1.3, 2002-05-04T18:06:21]:
- README.tcl83
- added note that this document also describes the patches
- I just realized that I probably violated the license some time ago
    because I didn't publish the modifications I made to the Tk library.
    This should be resolved now.
README [rev:1.22, 2002-05-04T18:06:27]:
- updated win32 dsdrv error message list:
    now the driver returns more specific error codes
- added hint that dsdrv logging can be enabled
- added note about README.tcl83
Makefile.win32 [rev:1.17, 2002-05-04T18:06:38]:
- removed dsdrv.dll and dsdrv.a
- added new subdirectory dsdrv
- added dsdrv sources to nxtvepg and tvsim targets
- added ".PHONY" to phony make targets
- added dsdrv and tvsim dirs to clean rule
- use separate dependency file for win32 (else make depend can be forgotten
    with really bad consequences)
COPYRIGHT [rev:1.4, 2002-05-04T18:06:46]:
- Added copyrights of included code fragments (esp. bttv and dsdrv)
nxtvepg.pod [rev:1.60, 2002-05-04T18:06:55]:
- fixed logic in intro section
- described TV app configuration in the "TV app. interaction" dialog
    both in GETTING STARTED and in the CONFIGURE section.
- added "connection indicator" in xawtvcf dialog
- added "enable dsdrv loggin" button in hwcfg dialog
- improved hwcfg: added more explanations
epgctl/epgacqclnt.c [rev:1.6, 2002-05-04T18:10:28]:
- enclosed all code with #ifdef USE_DAEMON to allow switching on and off
    without modifying the Makefile
- fixed 2 dprintf statements
epgctl/epgacqsrv.c [rev:1.7, 2002-05-04T18:15:01]:
- enclosed all code with #ifdef USE_DAEMON to allow switching on and off
    without modifying the Makefile
- adapted to interface change in EpgAcqCtl_GetVpsPdc():
    added client ID arg VPSPDC_REQ_DAEMON
epgctl/mytypes.h [rev:1.14, 2002-05-04T18:16:57]:
- added #define DEBUG_SWITCH_DSDRV for new dsdrv subdirectory
    currently only used by dsdrv/debuglog.c module
- added/fixed 2 comments
epgctl/epgscan.c [rev:1.20, 2002-05-04T18:17:01]:
- improved result code of start:
- if BtDriver_StartAcq() fails return EPGSCAN_ACCESS_DEV_VBI
epgctl/epgacqctl.c [rev:1.68, 2002-05-04T18:17:26]:
- improved EpgAcqCtl_AiCallback():
- do not reset EPG acq if in state ACQSTATE_WAIT_BI
- not required b/c channel changes are already detected via ttx header pkg
epgdb/epgdbacq.c [epgvbi/ttxdecode.c, rev:1.41, 2002-05-04T18:17:52]:
- btdrv now uses a separate flag for informing about acq failures:
- pVbiBuf->hasFailed
- EpgDbAcqNewVbiFrame: added check for pVbiBuf->isEnabled
- btdrv now always forwards VPS and TTX: epgdbacq has to check enabled flag
epgui/menucmd.c [rev:1.71, 2002-05-04T18:19:18]:
- MenuCmd_StartEpgScan(): separate messages for scan start errors
    EPGSCAN_ACCESS_DEV_VBI and EPGSCAN_ACCESS_DEV_VIDEO
    also include name of vbi or video devices in error reply
- SetHardwareConfig: added evaluation of new Tcl var hwcf_dsdrv_log
    passed through to dsdrv to enable logging
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.155, 2002-05-04T18:19:56]:
- proc PopupHelp: fixed subheading matches
    + must search for a match at the beginning of a line to prevent matching
      on hyperlinks
    + scroll the text so that the header is at the top of the page (not the mid)
- added new checkbutton for var hwcf_dsdrv_log in TV input cf dialog
- moved definition of var tvapp_name to xawtvcf dialog
    tvapp_name is only set in hwcfg if no TV app was defined before
- new proc UpdateTvappName to set tvapp_name
    also called at startup from wintvcfg.c
- proc XawtvConfigShmAttach: made "Connected to" indicator prettier:
    use checkbutton with red or green colored background
- added wintvcf to rc/ini file (was forgotten before)
epgui/wintv.c [rev:1.3, 2002-05-04T18:20:11]:
- changed Tcl cb Wintv_QueryTvapp() to return "" if no TV app connected
    new Tcl proc UpdateTvappName handles the "" result
epgui/wintvcfg.c [rev:1.3, 2002-05-04T18:20:20]:
- fix FreeTV INI parser: PLL must be read from different key than chan tab
    added new key string REG_KEY_FREETV_CHANTAB
- renamed local func prefixes from Wintv_ to WintvCfg_
- changed WinTvCfg_UpdatePll(), WinTv_UpdateTuner(), WinTvCfg_UpdateTuner()
    to return their arg or -1 in error cases (used to build summary msg)
- fix: WinTvCfg_UpdateTuner(): added missing msg if tuner not mappable
- added missing -parent .hwcfg in INI file parser messages
- added new func WintvCfg_IniSummary(): called from all INI parser funcs
- WintvCfg_LoadHwConfig(): removed the "Config. loaded successful" message
    since the individual parser funcs now report a summary
- fix FreeTV: complain that tuner not loadable (always)
- Init: call Tcl proc UpdateTvappName to set $tvapp_name
epgvbi/btdrv.h [rev:1.18, 2002-05-04T18:21:05]:
- struct EPGACQ_BUF: added elem hasFailed: this is used by the acq
    process/thread to indicate that it stopped; isEnabled is now only written
    by the master: hence In/Out is now separated
- struct EPGACQ_BUF: added elem freeDevice for non-threaded mode
    this is now used to stop acq, instead of isEnabled. This has the BIG
    advantage that the driver can be started before epgdbacq; this simplifies
    startup
epgvbi/btdrv4linux.c [rev:1.25, 2002-05-04T18:21:15]:
- Changed to allow that btdrv is enabled before epgdbacq
- this has the advantage that the TV tuner is not changed if vbi open fails
- isEnabled is no longer used to start/stop the driver
    instead in process mode: the new elem freeDevice is used
    in thread mode: the start/stop principle is unchanged
- failure is no longer reported via isEnabled: use new elem hasFailed
- thread start no uses a cond & mutex variable to allow the master to
    wait until the slave has opened the VBI device, or failed to do so
    fix: Start now returns FALSE is the VBI device could not be opened
- simplified BtDriver_SignalHangup(): the signal is now always just
    forwarded to the master process
epgvbi/btdrv4win.c [rev:1.20, 2002-05-04T18:21:22]:
- moved include dsdrv.h into new subdir dsdrv
- SetAcqPriority(): added debug output for SetThreadPriority() result
- BtDriver_Load(): LoadDriver() now returns error codes
    -> added switch with messages
- BtDriver_Configure(): update prio of acq thread if changed
- BtDriver_VbiThread(): no longer check pVbiBuf->isEnabled
    VBI lines are always forwarded as long as driver is activated
    isEnabled no checked inside epgdbacq.c
- BtDriver_Restart() and BtDriver_Configure():
    use pVbiBuf->hasFailed instead of isEnabled to report errors
    explanation see btdrv4linux.c
epgvbi/cni_tables.c [rev:1.14, 2002-05-04T18:21:29]:
- added PDC code 0x1D80 for new German channel Tele-5
epgvbi/winshm.h [rev:1.2, 2002-05-04T18:21:39]:
- added new defines for EPG and TV mutexes EPG_MUTEX_NAME, EPG_MUTEX_NAME
    the shared memory mutex was renamed from EPG_MUTEX_NAME into SHM_MUTEX_NAME
- the new mutexes are used to make sure that only one client & server are
    active at the same time
- changed protocol version from 0.7.1 to 2.0.0
epgvbi/winshmsrv.c [rev:1.3, 2002-05-04T18:21:46]:
- removed obsolete include "epgvbi/dsdrv.h"
- added module global var epgMutexHandle: used to make sure that only one
    winshm server is active at the same time
- WintvSharedMem_Enable():
    added abort if EPG_MUTEX_NAME already exists
    fixed creation of SHM_MUTEX_NAME: create unlocked, then wait
    cleaned up release of SHM_MUTEX_NAME: use new bool shmMutexOwned
- WintvSharedMem_Disable(): destroy the new mutex EPG_MUTEX_NAME
tvsim/tvsim_main.c [rev:1.3, 2002-05-04T18:22:18]:
- placed compiler switch around unused func DisplaySystemErrorMsg()
tvsim/tvsim_gui.tcl [rev:1.3, 2002-05-04T18:22:28]:
- added dummy proc UpdateTvappName for wintvcfg.c
tvsim/vbiplay.c [rev:1.3, 2002-05-04T18:22:39]:
- added handling of new EPGACQ_BUF elem lastHeader: copy all pkg 0 into it
tvsim/vbirec_main.c [rev:1.3, 2002-05-04T18:22:50]:
- fixed a debug message
tvsim/winshmclnt.c [rev:1.3, 2002-05-04T18:23:01]:
- added module global var tvMutexHandle: used to make sure that only one
    winshm client is active at the same time
- replaced name EPG_MUTEX_NAME with SHM_MUTEX_NAME
    (because the first is now used internally by the winshmsrv)
- WinSharedMemClient_GrantTuner(): fixed func name in debug output
- catch error results of all syscalls, esp. SetEvent()
- WinSharedMemClient_Init(): added abort if TV_MUTEX_NAME already exists
- WinSharedMemClient_Exit()
    fix: error check for SetEvent was negated: ok is != 0
    fix: do not wait for the thread if SetEvent failed - might hang
    destroy the new mutex TV_MUTEX_NAME
- added comments
- cleaned up handling of pVbiBuf
epgvbi/btdrv4linux.c [rev:1.26, 2002-05-04T18:31:27]:
- improved 2 debug lines
CHANGES.version [rev:1.9, 2002-05-04T18:49:32]:
- removed rule for windriver header files and DLLs
epgctl/epgacqsrv.c [rev:1.8, 2002-05-04T18:52:38]:
- Added missing include epgui/uictrl.h: needed for EpgContextCtl_Open
tvsim/tvsim.pod [rev:1.1, 2002-05-05T20:29:29]:
- Initial revision
README [rev:1.23, 2002-05-05T20:29:40]:
- fixed description of required prilileges on Win2K
- added note about TV app interaction
Makefile [rev:1.41, 2002-05-05T20:30:58]:
- added .PHONY targets for all, clen, depend, bak
- added automatic removal of tmp files during manpage conversion
- extended copyright for manpage for year 2002
- split up backup tar file pc.tar to pc1 and pc2
Makefile.win32 [rev:1.18, 2002-05-05T20:32:07]:
- changed name of man.html to manual.html
- added automatic removal of tmp files during manpage conversion
- extended copyright for manpage for year 2002
- added processing of tvsim.pod
nxtvepg.pod [rev:1.61, 2002-05-05T20:33:46]:
- fixed GETTING STARTED: TV app config
    introduced a destinction between "passive" and "active" features
- adapted to change in TV app interaction dialog: the connection
    status is now displayed in the middle of the file
dsdrv/dsdrvlib.h [rev:1.4, 2002-05-05T20:46:25]:
- converted the source file frmo C++ to C and link directly instead of DLL
- removed WINAPI from func decls
- renamed the file from dsdrv.h into dsdrvlib.h
- removed type declarations; include dsdrv.h (from DScaler package) instead
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.156, 2002-05-05T20:50:17]:
- TV app. interaction popup:
- moved connection status indicator from the bottom of the dialog window
    to the middle in a separate frame
- disabled the "General enable" button for release 2.0.0
epgui/menucmd.c [rev:1.72, 2002-05-05T20:51:38]:
- MenuCmd_Init: disabled "Client/Server..." menu entry #ifndef USE_DAEMON
epgui/wintv.c [rev:1.4, 2002-05-05T20:52:38]:
- Disabled WintvSharedMem_StartStop() for release 2.0.0
epgdb/epgswap.h [rev:1.1, 2006-12-22T15:14:02 - LATE CHECK-IN - WRONG DATE]:
- Initial revision
epgctl/epgversion.h [rev:1.20, 2002-05-05T20:55:36]:
- set to version 0.7.1 aka 2.0.0
www/pre-releases.html [rev:1.3, 2002-05-05T21:04:27]:
- updated for pre-release 0.7.1b1
TODO [rev:1.16, 2002-05-06T10:11:41]:
- updated for release 0.7.1
CHANGES [rev:1.21, 2002-05-06T10:11:58]:
- updated for release 0.7.1
CHANGES.version [rev:1.10, 2002-05-06T10:13:07]:
- updated for release 0.7.1
- added -g -O2 changes for Makefile.win
- removed manual version mod for nxtvepg.1 (done by Makefile since ages)
- added Makefile.depwin
- added removal of .nroff .gdbinit
nxtvepg.spec [rev:1.3, 2002-05-06T10:14:08]:
- set version to 0.7.1
www/changelog.html [rev:1.28, 2002-05-06T10:15:27]:
- updated for release 0.7.1
- changed Windows paragraph: TV app interaction is only "prepared"
- added Win tk_messagebox fix
- added 5 general fixes
www/pre-releases.html [rev:1.4, 2002-05-06T10:16:39]:
- updated for release 0.7.1
- removed beta source tarball and exe
- added exe package with nxtvepg, tvsim, vbi*
- added intro
www/index-de.html [rev:1.26, 2002-05-06T10:17:52]:
- updated for release 0.7.1
- removed "New" tag for Kabel1; removed Pro7 from provider list
- updated software requirements for Windows
- removed notes about required external driver
- added note that ZIP file needs to be unpacked into empty dir
www/index.html [rev:1.37, 2002-05-06T10:17:52]:
- updated for release 0.7.1
- removed "New" tag for Kabel1; removed Pro7 from provider list
- updated software requirements for Windows
- removed notes about required external driver
- added note that ZIP file needs to be unpacked into empty dir
www/man.html [rev:1.14, 2002-05-06T10:19:36]:
- updated for release 0.7.1
www/nefkom-src-index.html [rev:1.2, 2002-05-06T10:19:59]:
- updated for release 0.7.1
- removed nxtvepg-1.13-win.zip
- added nxtvepg-0.7.1.tar.gz and nxtvepg-2.0.0-win.zip
- corrected release date on nxtvepg-1.14-win.zip
www/tripod-src-index.html [rev:1.3, 2002-05-06T10:22:20]:
- updated for release 0.7.1
- added nxtvepg-0.7.1.tar.gz and nxtvepg-2.0.0-win.zip
www/provnets.html [rev:1.13, 2002-05-06T10:22:56]:
- removed "New provider" message on top (Kabel1)
- moved Pro7 and TV5 into separate table with "Former nexTView providers"
- removed special note about TV5
www/changelog.html [rev:1.29, 2002-05-06T11:22:19]:
- added note that TV interaction support is intentionally disabled
www/index-de.html [rev:1.27, 2002-05-06T11:22:39]:
- Windows download section:
- added link to new package nxtvepg-2.0.0-drv.zip
- I forgot to include the drivers with nxtvepg-2.0.0-win.zip
    Thanks to terrae@gmx.net for pointing this out.
www/index.html [rev:1.38, 2002-05-06T11:22:39]:
- Windows download section:
- added link to new package nxtvepg-2.0.0-drv.zip
- I forgot to include the drivers with nxtvepg-2.0.0-win.zip
    Thanks to terrae@gmx.net for pointing this out.
www/pre-releases.html [rev:1.5, 2002-05-06T11:24:09]:
- improved intro:
- added note that TV app interaction was disabled in the regular release
    because the interface is not finalized yet
- added note that debug output can be watched with DebugView
- added note that there's no docu for vbirec yet
www/nefkom-src-index.html [rev:1.3, 2002-05-06T11:25:38]:
- added nxtvepg-2.0.0-drv.zip
- I forgot to include the drivers with nxtvepg-2.0.0-win.zip
    Thanks to terrae@gmx.net for pointing this out.
www/tripod-src-index.html [rev:1.4, 2002-05-06T11:25:38]:
- added nxtvepg-2.0.0-drv.zip
- I forgot to include the drivers with nxtvepg-2.0.0-win.zip
    Thanks to terrae@gmx.net for pointing this out.
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_7_1 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
Makefile.win32 [rev:1.19, 2002-05-06T11:31:53]:
- added DScaler drivers to the release ZIP file: dsdrv4.sys dsdrv4.vxd
dsdrv/debuglog.c [rev:1.1, 2002-05-06T11:39:50]:
- Initial revision
dsdrv/debuglog.h [rev:1.1, 2002-05-06T11:39:50]:
- Initial revision
dsdrv/dsdrv34.c [rev:1.1, 2002-05-06T11:39:50]:
- Initial revision
dsdrv/hwdrv.c [rev:1.1, 2002-05-06T11:39:50]:
- branches:  1.1.1;
- Initial revision
dsdrv/hwdrv.h [rev:1.1, 2002-05-06T11:39:50]:
- Initial revision
dsdrv/hwpci.c [rev:1.1, 2002-05-06T11:39:50]:
- branches:  1.1.1;
- Initial revision
dsdrv/hwpci.h [rev:1.1, 2002-05-06T11:39:50]:
- Initial revision
dsdrv/debuglog.c [rev:1.2, 2002-05-06T11:42:05]:
- converted from C++ to C
- added new func HwDrv_SetLogging(): sets global var bDsdrvLogEnabled
- LOG() now writes output to file if bDsdrvLogEnabled == TRUE
dsdrv/debuglog.h [rev:1.2, 2002-05-06T11:42:58]:
- converted from C++ to C
- added new func HwDrv_SetLogging(): sets global var bDsdrvLogEnabled
dsdrv/dsdrv34.c [rev:1.2, 2002-05-06T11:43:23]:
- converted from C++ to C
- removed DllMain and WINAPI decls: now linked into nxtvepg statically
dsdrv/hwdrv.c [rev:1.2, 2002-05-06T11:44:39]:
- converted from C++ to C
- changed result of HwDrv_LoadDriver() from BOOL to DWORD
    now returns error codes that tell what went wrong
- added LOG output of level 2, i.e. made module more verbose
    (LOG(2) is written to a file if HwDrv_SetLogging(TRUE)
dsdrv/hwdrv.h [rev:1.2, 2002-05-06T11:46:40]:
- converted from C++ to C
- moved private class decls into C file
- added enum with LoadDriver error return codes
dsdrv/hwpci.c [rev:1.2, 2002-05-06T11:47:22]:
- converted from C++ to C
dsdrv/hwpci.h [rev:1.2, 2002-05-06T11:47:56]:
- converted from C++ to C
- moved private class decls into C file
README [rev:1.24, 2002-05-06T12:03:53]:
- removed Pro7 from provider list
CHANGES.version [rev:1.11, 2002-05-06T12:06:19]:
- added note: "after the release: increment version in epgversion.h"
tvsim/winshmclnt.c [rev:1.4, 2002-05-08T10:46:34]:
- declared pTvShm volatile
- added new func WinSharedMemClient_SetErrorText()
    copied from epgnetio.c
- added new global func WinSharedMemClient_GetErrorMsg()
- generate error messages in init and attach funcs
- added check for epgShmSize (in addition to version check)
    uses new helper func WinSharedMemClient_VersionErrorMsg()
- WinSharedMemClient_Init(): changed init order: create thread before attach
- WinSharedMemClient_HandleEpgEvent(): added checks for (pTvShm != NULL)
    after each callback, b/c the func could be called recursively
    (this happens esp. in the new bg error callback when the GUI enters the
    idle loop recursively to wait for the user to press OK in the popup)
- WinSharedMemClient_HandleEpgEvent: new callback pTvAppInfo->pCbBgError()
    when attach fails
- NOTE:
- This is an intermediate check-in only; there was a redesign of the
- event handling immediately after this version.
tvsim/winshmclnt.h [rev:1.2, 2002-05-08T10:48:31]:
- struct WINSHMCLNT_TVAPP_INFO: added new callback pTvAppInfo->pCbBgError():
    invoked in WinSharedMemClient_HandleEpgEvent() when attach fails
- added decl for new func WinSharedMemClient_GetErrorMsg()
- NOTE:
- This is an intermediate check-in only; there was a redesign of the
- event handling immediately after this version.
tvsim/winshmclnt.c [rev:1.5, 2002-05-08T11:19:42]:
- Redesign of event handling in WinSharedMemClient_HandleEpgEvent():
- renamed into WinSharedMemClient_GetEpgEvent()
- this function no longer invokes callbacks; instead it returns identifiers
    from new enum WINSHMCLNT_EVENT; at most one event per call is processed;
    must be incoked repeatedly until NONE is returned
- moved shared memory content handling out of WinSharedMemClient_GetEpgEvent()
    into new global funcs, which are incoked from event handlers one level up:
    WinSharedMemClient_GetInpFreq(), WinSharedMemClient_GetCmdArgv(),
    WinSharedMemClient_GetProgInfo()
- WinSharedMemClient_Init(): now returns attach event identifier
    instead of invoking the attach callback
- WinSharedMemClient_EventThread(): set new module global var epgTriggerReceived
    required due to repeated polling of WinSharedMemClient_GetEpgEvent():
    attaches should be attempted only once per trigger
- Also:
- declared StopMsgThread volatile
- added new module global var epgTriggerReceived
- WinSharedMemClient_VersionErrorMsg(): exchanged order of size and version
    comparisons: version must be checked first (because a size change is
    implied in a version change)
- WinSharedMemClient_VersionErrorMsg(): use new macros EPG_SHM_VERSION_MAJOR()
    etc. to print version in human readable form
tvsim/winshmclnt.h [rev:1.3, 2002-05-08T11:19:46]:
- Redesign of event handling in WinSharedMemClient_HandleEpgEvent():
- renamed into WinSharedMemClient_GetEpgEvent()
- WinSharedMemClient_Init(): now returns attach event identifier
    instead of invoking the attach callback
- added decls for new event helper query funcs:
    WinSharedMemClient_GetInpFreq(), WinSharedMemClient_GetCmdArgv(),
    WinSharedMemClient_GetProgInfo()
- struct WINSHMCLNT_TVAPP_INFO: removed all callbacks except pCbEpgEvent()
- added new enum WINSHMCLNT_EVENT
tvsim/tvsim_main.c [rev:1.4, 2002-05-08T11:19:57]:
- Redesign of event handling in WinSharedMemClient_HandleEpgEvent():
- changed TvSimu_IdleHandler(): now polls WinSharedMemClient_HandleEpgEvent()
    until it returns event id NONE; calls handler func from switch in loop
- moved TvSimu_IdleHandler() below the handlers in the file to avoid fwd refs
- changed all event handlers (former callbacks) to query shm for new params
    instead of passing params down into the handler as actual parameters
    TvSimuMsg_UpdateProgInfo(), TvSimuMsg_HandleEpgCmd(), TvSimuMsg_ReqTuner(),
- added new handler TvSimuMsg_BackgroundError() for attach failures
- TclCb_GrantTuner(): must invoke TvSimuMsg_ReqTuner() when grant enabled;
    this was formerly done via callback by WinSharedMemClient_GrantTuner()
- struct WINSHMCLNT_TVAPP_INFO: removed all callbacks except pCbEpgEvent()
- WinMain(): process attach events returned by WinSharedMemClient_Init()
- WinMain(): moved wm title setting above window mapping to avoid flicker
    bugfix: moved -iconic handling before window mapping too
- WinMain(): added check for memory leaks
tvsim/vbiplay.c [rev:1.4, 2002-05-08T11:20:12]:
- Redesign of event handling in WinSharedMemClient_HandleEpgEvent():
- changed EpgEvent() func: now polls WinSharedMemClient_HandleEpgEvent()
    until it returns event id NONE; calls handler func from switch in loop
- added new event handler EpgError(): print msg to stderr
- struct WINSHMCLNT_TVAPP_INFO: removed all callbacks except pCbEpgEvent()
- main: process attach events returned by WinSharedMemClient_Init()
    abort if attach fails
tvsim/vbirec_main.c [rev:1.4, 2002-05-08T11:25:01]:
- display tvChanCni as "---" if zero
- bugfix WinMain(): removed call to VbiRec_CbAttachTv(FALSE, FALSE)
- WinMain(): moved wm title setting above window mapping to avoid flicker
tvsim/vbirec_gui.tcl [rev:1.3, 2002-05-08T11:25:14]:
- added default font size and type for tk_messageBox
    because the Tk internal default font is huge
epgvbi/winshmsrv.c [rev:1.4, 2002-05-08T11:42:50]:
- WintvSharedMem_Enable(): added epgShmSize to struct TVAPP_COMM:
    size of mapped shared memory, used for error detection on client side
- WintvSharedMem_Enable(): moved thread creation above attach
epgvbi/winshm.h [rev:1.3, 2002-05-08T11:42:56]:
- struct TVAPP_COMM: added new elem epgShmSize: size of mapped shared memory
    used for error detection on client side
- changed shm version from 0xFF020000 to 0xFF020001 due to elem addition
- added new macros EPG_SHM_VERSION_MAJOR() for version output in err messages
epgctl/mytypes.h [rev:1.15, 2002-05-08T11:45:17]:
- improved explanation of exact-width types
- added exact-width type decls for Microsoft Visual C compiler
epgui/menucmd.c [rev:1.73, 2002-05-08T11:57:50]:
- MenuCmd_SetControlMenuStates(): #ifndef USE_DAEMON
    disable "Connect to acq. daemon" entry in systray menu too
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.157, 2002-05-08T11:58:16]:
- removed restrictions from 2.0.0 release, i.e. "General disable" of TV app.
- implemented "hide on minimize" option in Configuration menu
    added new proc ToggleHideOnMinimize as callback for menu entry
    added new popup menu for systray icon
    added new var hideOnMinimize to rc/ini file
epgui/epgmain.c [rev:1.83, 2002-05-08T11:58:24]:
- WIN32: Implemented systray icon (optional): several new funcs
- ui_init(): create new Tcl callback proc TclCbWinSystrayIcon()
- WinMain(): copy hInstance into module global var hMainInstance
- WinMain(): moved -iconic handling down: must be done after RC/INI file load
    because "hide on minimize" option state must be known and <Unmap> event bound
- WinMain(): call WinSystrayIcon(FALSE) during shutdown
Makefile.win32 [rev:1.20, 2002-05-08T12:02:36]:
- added rule for vbirec.1: copied from tvsim.1
- added PHONY compile target "manuals" for tvsim.1 and vbirec.1
- rule nxtvepg.1: use first EPG_VERSION_STR str from epgversion.h
    there's now only one version in the header file
nxtvepg.pod [rev:1.62, 2002-05-08T12:09:50]:
- Added description for the new "Hide on minimize" option (Windows only)
nxtvepg.pod [rev:1.63, 2002-05-08T18:16:08]:
- removed "..." after all section headers (esp. CONFIGURATION menu)
- replaced =item enumaration with =head2 in CONFIGURATION menu
    because else they'd have to be appended to all hyperlinks (for HTML)
- note: for HTML a post-processer was added to the Makefile which
    removes the =head1 prefixes from hyperlinks to =head2 sections
tvsim/tvsim_version.h [rev:1.1, 2002-05-08T20:28:48]:
- Initial revision
tvsim/vbirec.pod [rev:1.1, 2002-05-09T16:31:13]:
- Initial revision
tvsim/vbirec.pod [rev:1.2, 2002-05-09T16:31:55]:
- Added vbi_map.dat to FILES section
tvsim/vbiplay.pod [rev:1.1, 2002-05-09T16:32:37]:
- Initial revision
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.158, 2002-05-09T23:43:56]:
- Fixed netacq_enable handling (see menucmd.c)
- replaced proc IsNetAcqMode with C_IsNetAcqActive
- removed $is_unix precondition from C_IsNetAcqActive checks
Makefile [rev:1.42, 2002-05-10T00:15:35]:
- added post-processing to pod->HTML conversion to fix hyperlinks to head2,
    i.e. links in the format "HEAD1: head2" the HEAD1 part is removed now
- start Perl script as arg to $(PERL) instead of #! inside script
    because else the #! in the script would have to be changed to $(PERL)
Makefile.win32 [rev:1.21, 2002-05-10T00:15:43]:
- added post-processing to pod->HTML conversion to fix hyperlinks to head2,
    i.e. links in the format "HEAD1: head2" the HEAD1 part is removed now
- start Perl script as arg to $(PERL) instead of #! inside script
    because else the #! in the script would have to be changed to $(PERL)
- added rule for vbiplay.1 and vbiplay.html
- moved dsdrv binaries into library libdsdrv.a
- fixed title for vbirec.1 manpage
nxtvepg.pod [rev:1.64, 2002-05-10T00:15:56]:
- section CONFIGURE: TV app. interaction: use =item list for the 4 checkbuttons
- section FILES: added vbi_map.dat
- section BUGS: replaced "TerminateProcess()" with "task manager"
CHANGES.version [rev:1.12, 2002-05-10T00:16:05]:
- added tvsim_version.h
dsdrv/dsdrv34.c [rev:1.3, 2002-05-10T00:16:30]:
- added new function CheckDriverImagePath(): print driver ImagePath to log
- LoadDriver(): if hwdrv reports error, do uninstall, install and try again
- removed global funcs InstallNTDriver(), UnInstallNTDriver()
- DoesThisPCICardExist(): added 3 return param pointer to be used to
    uniquely identify the card on the PCI bus: passed through to
    HwDrv_DoesThisPCICardExist()
- pciGetHardwareResources(): removed 3 unused args
dsdrv/dsdrvlib.h [rev:1.5, 2002-05-10T00:16:37]:
- removed global funcs InstallNTDriver(), UnInstallNTDriver()
- DoesThisPCICardExist(): added 3 return param pointer to be used to
    uniquely identify the card on the PCI bus
- pciGetHardwareResources(): removed 3 unused args
dsdrv/hwdrv.c [rev:1.3, 2002-05-10T00:16:48]:
- moved #define NT_DRIVER_NAME into header file (required by dsdrv34.c)
- renamed InstallNTDriver() into HwDrv_InstallNTDriver() and made global
- renamed UnInstallNTDriver() into HwDrv_UnInstallNTDriver() and made global
- HwDrv_DoesThisPCICardExist(): added 3 return param pointer to be used to
    uniquely identify the card on the PCI bus
dsdrv/hwdrv.h [rev:1.3, 2002-05-10T00:16:50]:
- moved #define NT_DRIVER_NAME here from C file (required by dsdrv34.c)
- HwDrv_DoesThisPCICardExist(): added 3 return param pointer to be used to
    uniquely identify the card on the PCI bus
tvsim/tvsim.pod [rev:1.2, 2002-05-10T00:17:07]:
- FILES section: improved description of nxtvepg.ini
- SEE ALSO: added references to vbirec and vbiplay
tvsim/tvsim_gui.tcl [rev:1.4, 2002-05-10T00:17:16]:
- added About popup
tvsim/tvsim_main.c [rev:1.5, 2002-05-10T00:17:24]:
- moved version definition into "tvsim/tvsim_version.h"
    export version string to Tcl for About popup
- added version number to window title
tvsim/vbirec_gui.tcl [rev:1.4, 2002-05-10T00:17:36]:
- added About popup
tvsim/vbirec_main.c [rev:1.5, 2002-05-10T00:17:48]:
- print error message returned from WintvSharedMem_Init() upon errors
- include "tvsim/tvsim_version.h"
    export version string to Tcl for About popup
- added version number to window title
- added 2 new dummy funcs which are referenced by winshmsrv.c
epgvbi/btdrv4win.c [rev:1.21, 2002-05-10T00:19:20]:
- added new function BT8X8_CountCards(): do PCI scan for cards
    store results into new list TVCARD_ID btCardList[MAX_CARD_COUNT]
- BT8X8_Open(): simplified: uses list generated by BT8X8_CountCards()
- BtDriver_IsVideoPresent(): in slave mode always return TRUE
- fix StatAcq: check if slave mode is already enabled -> do nothing
- BtDriver_GetCardName(): if PCI bus has been scanned return
    list only for # of found cards
epgvbi/winshmsrv.c [rev:1.5, 2002-05-10T00:19:33]:
- added new funcs WinSharedMem_SetErrorText(), WinSharedMem_GetErrorMsg()
    report errors during init
- WintvSharedMem_Enable(): generate error messages
- WintvSharedMem_Exit(): free error text in pLastErrorText
- added new func WintvSharedMem_GetCniAndPil(): retrieves CNI & PIL from TV app.
    VBI buffer even if EPG Acq is switched OFF or running on different TV card
- WintvSharedMem_HandleTvCmd(): call EpgDbAcqNotifyChannelChange()
    upon channel changes
epgvbi/winshmsrv.h [rev:1.3, 2002-05-10T00:19:39]:
- added new funcs WinSharedMem_SetErrorText(), WinSharedMem_GetErrorMsg()
- added new func WintvSharedMem_GetCniAndPil()
epgvbi/ttxdecode.c [rev:1.42, 2002-05-10T00:20:22]:
- EpgDbAcqGetCniAndPil(): added arg pThisVbiBuf
    WIN32: used to read CNIs of connected TV app even if acq is off
- EpgDbAcqNotifyChannelChange(): same as above
epgvbi/ttxdecode.h [rev:1.21, 2002-05-10T00:20:22]:
- EpgDbAcqGetCniAndPil(): added arg pThisVbiBuf
    WIN32: used to read CNIs of connected TV app even if acq is off
- EpgDbAcqNotifyChannelChange(): same as above
epgctl/epgscan.c [rev:1.21, 2002-05-10T00:27:18]:
- fix: Canal+ was often not found by the scan because it transmits not on 1DF
    -> reset scan timer when non-default page is found in MIP
- removed EpgScan_ProcessPackets(): was called from epgmain
    moved the functionality into the EPG scan handler
- removed call to EpgDbAcqNotifyChannelChange(): redundant to EPG acq reset
epgctl/epgscan.h [rev:1.9, 2002-05-10T00:27:25]:
- removed EpgScan_ProcessPackets()
    the functionality was moved into the EPG scan handler
epgui/epgmain.c [rev:1.84, 2002-05-10T00:28:11]:
- removed call to EpgScan_ProcessPackets
    obsolete, functionality included into EPG scan handler
- adapted call to SetAcquisitionMode: added param NETACQ_DEFAULT
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.159, 2002-05-10T00:28:26]:
- proc PopupHardwareConfig: use $hwcfg_card_list for WIN32 too
    show only as many TV cards as were detected in the PCI scan
- proc PopupHardwareConfig: "Load config" button:
    call new proc HardwareConfigLoadFromTvapp: remember which TV app cf was loaded
- proc HardwareConfigQuit: warn if tv app cf was changed but not used
- proc XawtvConfigSave: warn if tv app cf was changed but not used
epgui/uictrl.c [rev:1.26, 2002-05-10T00:33:44]:
- UiControl_AiStateChange(): adapted call to SetAcquisitionMode:
    added param NETACQ_KEEP
- UiControlMsg_AcqEvent(): case ACQ_EVENT_STATS_UPDATE:
    added call to new func MenuCmd_AcqStatsUpdate()
epgui/wintv.c [rev:1.5, 2002-05-10T00:34:56]:
- Wintv_PollVpsPil(): use WintvSharedMem_GetCniAndPil() instead of
    EpgAcqCtl_GetVpsPdc(): make sure to use TV app's VBI buf, even if EPG acq OFF
    also removed check if EPG acq state
- Wintv_StationTimer(): same as above
- Wintv_InitConfig(): generate err msg popup if WintvSharedMem_StartStop() fails
    Also: removed restrictions from release 2.0.0 (general disable)
epgui/menucmd.h [rev:1.15, 2002-05-10T00:36:23]:
- removed IsRemoteAcqEnabled(): was not used by other modules
- added MenuCmd_AcqStatsUpdate(): called by uictrl.c acq event handler
- SetAcquisitionMode: added formal parameter NETACQ_SET_MODE
- added new enum NETACQ_SET_MODE
epgui/menucmd.c [rev:1.74, 2002-05-10T00:37:50]:
- Fixed netacq_enable handling
- don't set netacq_enable to 1 until connection to remote server confirmed
    esp. after auto-start
- added new func MenuCmd_AcqStatsUpdate(), called after AI update or
    FWD_CNF message from netacq server: set netacq_enable
- added new func MenuCmd_IsNetAcqActive = Tcl proc C_IsNetAcqActive
    query if acq running in netacq mode to display warnings for config popups
- renamed IsRemoteAcqEnabled() into IsRemoteAcqDefault()
- SetAcquisitionMode: added formal parameter NETACQ_SET_MODE:
    controls how netacq mode is derived: from netacq_enable or !netacq_enable
    or current acq mode
- SetNetAcqParams(): removed obsolete variable "enable"
epgctl/epgacqctl.c [rev:1.69, 2002-05-10T11:51:37]:
- AI callback: Store the TV tuner frequency only if none is known yet
    (Note: the tuner frequency in the db is never overwritten because we can
    not be 100% sure that we know the current TV tuner freq here, esp. if it's
    coming from a remote TV application; only the EPG scan updates the freq.)
- adapted call to EpgDbAcqGetCniAndPil(): added 3rd param: pThisVbiBuf=NULL
epgctl/epgacqctl.c [rev:1.70, 2002-05-10T14:58:17]:
- epgdbacq.c was renamed and moved from epgdb/epgdbacq.c to epgvbi/ttxdecode.c
- EPG related parts of the start/stop functions were moved here, into new
    funcs EpgAcqCtl_TtxStart(), EpgAcqCtl_TtxStop(), EpgAcqCtl_TtxReset()
- funcs EpgDbAcqInit() and EpgDbAcqReset() were removed
- changed function prefixes "EpgDbAcq" into "TtxDecode_"
- replaced include "epgdb/epgdbacq.h" with "epgvbi/ttxdecode.h"
    added include "epgdb/epgstream.h"
- added module global var TTXDEC_STATE acqTtxState
epgctl/epgscan.c [rev:1.22, 2002-05-10T14:58:26]:
- epgdbacq.c was renamed and moved from epgdb/epgdbacq.c to epgvbi/ttxdecode.c
- EPG related parts of the start/stop functions were moved here, i.e. funcs
    EpgDbAcqStart() etc. replaced with direct init of ttx and streams decoder
- changed function prefixes "EpgDbAcq" into "TtxDecode_"
- added new scanCtl element TTXDEC_STATE ttxState
epgui/statswin.c [rev:1.59, 2002-05-10T14:58:43]:
- replaced include "epgdb/epgdbacq.h" with "epgvbi/ttxdecode.h"
    because this module was renamed and moved (EPG block related parts split off)
epgui/wintv.c [rev:1.6, 2002-05-10T14:58:43]:
- replaced include "epgdb/epgdbacq.h" with "epgvbi/ttxdecode.h"
    because this module was renamed and moved (EPG block related parts split off)
epgui/xawtv.c [rev:1.21, 2002-05-10T14:58:43]:
- replaced include "epgdb/epgdbacq.h" with "epgvbi/ttxdecode.h"
    because this module was renamed and moved (EPG block related parts split off)
epgvbi/ttxdecode.c [rev:1.43, 2002-05-10T14:59:18]:
- Renamed and moved module from epgdb/epgdbacq.c to epgvbi/ttxdecode.c
- the intention is to remove all references to EPG blocks and contexts
    so that the module can be easier integrated into other (not directly EPG
    related) applications
- changed prefix off all functions from "EpgDbAcq" into "TtxDecode_"
- removed EpgDbAcqInit() and EpgDbAcqReset()
- moved master internal state struct TTXDEC_STATE into header file
- split off EPG related parts of former EpgDbAcqStart(), EpgDbAcqStop()
- EpgDbAcqProcessPackets(), TtxDecode_NotifyChannelChange()
    added state struct as arg TTXDEC_STATE
epgvbi/ttxdecode.h [rev:1.22, 2002-05-10T14:59:25]:
- Renamed and moved module from epgdb/epgdbacq.c to epgvbi/ttxdecode.c
- moved master internal state struct TTXDEC_STATE here from C file
- changed prefix off all functions from "EpgDbAcq" into "TtxDecode_"
- removed EpgDbAcqInit() and EpgDbAcqReset()
- EpgDbAcqProcessPackets(), TtxDecode_NotifyChannelChange()
    added state struct as arg TTXDEC_STATE
epgvbi/vbidecode.c [rev:1.30, 2002-05-10T14:59:31]:
- replaced include "epgdb/epgdbacq.h" with "epgvbi/ttxdecode.h"
- changed function prefixes "EpgDbAcq" into "TtxDecode_"
epgvbi/winshmsrv.c [rev:1.6, 2002-05-10T14:59:42]:
- replaced include "epgdb/epgdbacq.h" with "epgvbi/ttxdecode.h"
    removed superfluous include epgblock.h
- changed function prefixes "EpgDbAcq" into "TtxDecode_"
tvsim/tvsim_main.c [rev:1.6, 2002-05-10T15:00:07]:
- replaced include "epgdb/epgdbacq.h" with "epgvbi/ttxdecode.h"
tvsim/vbirec_main.c [rev:1.6, 2002-05-10T15:00:56]:
- replaced include "epgdb/epgdbacq.h" with "epgvbi/ttxdecode.h"
- changed dummy function prefixes "EpgDbAcq" into "TtxDecode_"
epgdb/epgstream.c [rev:1.20, 2002-05-10T15:36:52]:
- Moved EPG scan into epgvbi/ttxdecode.c
- because this code is execuded in the VBI process/thread
    in contrary to the normal streams decoder
- removed module global var: PAGE_SCAN_STATE scanState, lastMagIdx
- removed funcs EpgStreamSyntaxScanHeader(), EpgStreamSyntaxScanPacket(),
    EpgStreamSyntaxScanInit()
epgdb/epgstream.h [rev:1.14, 2002-05-10T15:36:59]:
- Moved EPG scan into epgvbi/ttxdecode.c
- because this code is execuded in the VBI process/thread
    in contrary to the normal streams decoder
- removed func decls EpgStreamSyntaxScanHeader(), EpgStreamSyntaxScanPacket(),
    EpgStreamSyntaxScanInit()
epgvbi/ttxdecode.c [rev:1.44, 2002-05-10T15:37:06]:
- Added EPG scan: moved here from epgdb/epgstream.c
- added module global var: PAGE_SCAN_STATE scanState, lastMagIdx
- added funcs TtxDecode_EpgScanHeader(), TtxDecode_EpgScanPacket()
- TtxDecode_NewVbiFrame(): added init of EPG scan if pVbiBuf->isEpgScan
epgctl/epgscan.c [rev:1.23, 2002-05-10T16:03:16]:
- bugfix: must initialize pageno of new contexts before acq. start
- this was formerly done automatically in EpgDbAcqStart()
- now it has to be done manually
epgvbi/winshm.h [rev:1.4, 2002-05-10T17:10:09]:
- fixed comment for TVAPP_COMM element tvCardIdx
epgvbi/ttxdecode.c [rev:1.45, 2002-05-10T18:00:30]:
- Moved ttx packet processing from ttxdecode.c into epgstream.c
- removed includes epgblock.h and epgstream.h
- removed funcs TtxDecode_DoPageHeaderCheck(), TtxDecode_ProcessPackets()
- added new func TtxDecode_GetPacket(): called by epgstream.c
- removed pTtxState arg from TtxDecode_StartEpgAcq() and
    TtxDecode_NotifyChannelChange()
- TtxDecode_StartEpgAcq(): added arg bool isEpgScan
    removed TtxDecode_InitScan()
epgvbi/ttxdecode.h [rev:1.23, 2002-05-10T18:00:38]:
- Moved ttx packet processing from ttxdecode.c into epgstream.c
- removed decl of struct TTXDEC_STATE: moved to epgstream.h (internal)
- removed TtxDecode_ProcessPackets(): moved to epgstream.h
- added new func TtxDecode_GetPacket(): called by epgstream.c
- TtxDecode_StartEpgAcq(): added arg bool isEpgScan
    removed TtxDecode_InitScan()
- removed pTtxState arg from TtxDecode_StartEpgAcq() and
    TtxDecode_NotifyChannelChange()
epgctl/epgscan.c [rev:1.24, 2002-05-10T18:00:52]:
- Moved ttx packet processing from ttxdecode.c into epgstream.c
- renamed func TtxDecode_ProcessPackets() into EpgStreamProcessPackets()
- removed var TTXDEC_STATE acqTtxState: state now held inside epgstreams
- added epgPageNo arg to EpgStreamInit()
- added isEpgScan=TRUE arg to TtxDecode_StartEpgAcq()
    removed separate func call TtxDecode_InitScan()
- removed obsolete call to TtxDecode_NotifyChannelChange()
epgctl/epgacqctl.c [rev:1.71, 2002-05-10T18:01:12]:
- Moved ttx packet processing from ttxdecode.c into epgstream.c
- renamed func TtxDecode_ProcessPackets() into EpgStreamProcessPackets()
- removed var TTXDEC_STATE acqTtxState: state now held inside epgstreams
- added epgPageNo arg to EpgStreamInit()
- added isEpgScan=FALSE arg to TtxDecode_StartEpgAcq()
epgdb/epgstream.c [rev:1.21, 2002-05-10T18:01:18]:
- Moved ttx packet processing from ttxdecode.c into epgstream.c
- added funcs EpgStreamPageHeaderCheck(), EpgStreamProcessPackets()
- added module global var ttxState
- made 2 funcs static: EpgStreamDecodePacket(), EpgStreamNewPage()
- added epgPageNo arg to EpgStreamInit(); init ttxState
epgdb/epgstream.h [rev:1.15, 2002-05-10T18:01:34]:
- Moved ttx packet processing from ttxdecode.c into epgstream.c
- added funcs EpgStreamPageHeaderCheck(), EpgStreamProcessPackets()
- made 2 funcs static: EpgStreamDecodePacket(), EpgStreamNewPage()
- added epgPageNo arg to EpgStreamInit()
epgvbi/btdrv4linux.c [rev:1.27, 2002-05-10T18:04:33]:
- bugfix: USE_THREAD
- BtDriver_Start() did not check if acq already running!
- this happens when the EPG scan is stopped -> 2nd thread created; havoc
- fix BtDriver_Main(): must set vbiPid to -1 when thread terminates
    also removed isEnabled condition from VBI processing: checked by ttxdecode
Makefile [rev:1.43, 2002-05-10T18:07:07]:
- renamed and moved module epgdb/epgdbacq into epgvbi/ttxdecode
- removed $(CFLAGS) $(INCS) from linking stage
Makefile.win32 [rev:1.22, 2002-05-10T18:07:13]:
- renamed and moved module epgdb/epgdbacq into epgvbi/ttxdecode
epgui/epgmain.c [rev:1.85, 2002-05-10T18:08:15]:
- MAJOR bugfix: must not only call EpgAcqCtl_Stop() but also EpgScan_Stop()
- at shutdown (else: crash when program is terminated by signal during an
- EPG scan)
COPYRIGHT [rev:1.5, 2002-05-10T19:58:50]:
- Added copyright for tray42.zip by Michael T. Smith
epgui/epgmain.c [rev:1.86, 2002-05-10T20:06:54]:
- Added copyright for tray42.zip by Michael T. Smith
epgvbi/btdrv.h [rev:1.19, 2002-05-11T15:42:50]:
- globally replaced ulong with uint for TV tuner frequencies
epgvbi/btdrv4dummy.c [rev:1.9, 2002-05-11T15:42:50]:
- globally replaced ulong with uint for TV tuner frequencies
epgvbi/btdrv4win.c [rev:1.22, 2002-05-11T15:42:50]:
- globally replaced ulong with uint for TV tuner frequencies
epgvbi/tvchan.c [rev:1.7, 2002-05-11T15:42:50]:
- globally replaced ulong with uint for TV tuner frequencies
epgvbi/tvchan.h [rev:1.6, 2002-05-11T15:42:50]:
- globally replaced ulong with uint for TV tuner frequencies
epgvbi/btdrv4linux.c [rev:1.28, 2002-05-11T15:43:03]:
- globally replaced ulong with uint for TV tuner frequencies
- keep ulong for ioctl VIDIOCGFREQ: new var lfreq
epgdb/epgblock.h [rev:1.42, 2002-05-11T15:43:36]:
- globally replaced ulong with uint for TV tuner frequencies
epgdb/epgdbsav.c [rev:1.47, 2002-05-11T15:43:36]:
- globally replaced ulong with uint for TV tuner frequencies
epgdb/epgdbsav.h [rev:1.32, 2002-05-11T15:43:36]:
- globally replaced ulong with uint for TV tuner frequencies
epgctl/epgacqctl.c [rev:1.72, 2002-05-11T15:44:51]:
- globally replaced ulong with uint for TV tuner frequencies
epgctl/epgctxctl.c [rev:1.20, 2002-05-11T15:44:51]:
- globally replaced ulong with uint for TV tuner frequencies
epgctl/epgctxctl.h [rev:1.14, 2002-05-11T15:44:51]:
- globally replaced ulong with uint for TV tuner frequencies
epgctl/epgscan.c [rev:1.25, 2002-05-11T15:44:51]:
- globally replaced ulong with uint for TV tuner frequencies
epgctl/epgscan.h [rev:1.10, 2002-05-11T15:44:51]:
- globally replaced ulong with uint for TV tuner frequencies
tvsim/tvsim_main.c [rev:1.7, 2002-05-11T15:45:13]:
- globally replaced ulong with uint for TV tuner frequencies
- removed obsolete dummies EpgStream* and EpgBlock*
epgui/menucmd.c [rev:1.75, 2002-05-11T15:52:12]:
- globally replaced ulong with uint for TV tuner frequencies
epgui/menucmd.h [rev:1.16, 2002-05-11T15:52:12]:
- globally replaced ulong with uint for TV tuner frequencies
epgui/uictrl.c [rev:1.27, 2002-05-11T15:52:12]:
- globally replaced ulong with uint for TV tuner frequencies
epgui/uictrl.h [rev:1.13, 2002-05-11T15:52:12]:
- globally replaced ulong with uint for TV tuner frequencies
epgui/wintvcfg.c [rev:1.4, 2002-05-11T15:52:12]:
- globally replaced ulong with uint for TV tuner frequencies
epgui/wintvcfg.h [rev:1.3, 2002-05-11T15:52:12]:
- globally replaced ulong with uint for TV tuner frequencies
epgui/xawtv.c [rev:1.22, 2002-05-11T15:52:12]:
- globally replaced ulong with uint for TV tuner frequencies
epgui/xawtv.h [rev:1.5, 2002-05-11T15:52:12]:
- globally replaced ulong with uint for TV tuner frequencies
epgui/wintv.c [rev:1.7, 2002-05-11T15:52:53]:
- Wintv_StationSelected(): removed unused var. decl. EPGACQ_DESCR acqState
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.160, 2002-05-11T15:55:34]:
- Changed wheel-mouse binding from +/- 1 page to +/- 5 units in main window
- in help window scroll by +/-3 lines only
epgui/pilistbox.c [rev:1.67, 2002-05-11T15:59:50]:
- PiListBox_Scroll():
- extended "scroll" %d "unit" to allow other deltas than 1 and -1
- for wheel-mouse scrolling by 5 lines each
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.161, 2002-05-11T20:20:31]:
- bugfix network name config dialog:
- nxtvepg name "SuperRTL" got assigned a "none" in match button
    although proc NetworkNameEdited did find a match on "Super RTL"
- removed match button text assignment in proc NetworkNameSelection
    not needed because the text is set via variable trace automatically
nxtvepg.pod [rev:1.65, 2002-05-12T16:38:45]:
- NAVIGATE: added hint that this menu is in the filter menu on WIN32
tvsim/vbirec_main.c [rev:1.7, 2002-05-12T16:41:37]:
- Changed VBI stats output:
- removed elem ttx_drop: was always 0 even during bad reception
- added ttx_rate, vps_cnt
tvsim/vbirec_gui.tcl [rev:1.5, 2002-05-12T16:41:43]:
- Changed VBI stats output:
- removed elem ttx_drop: was always 0 even during bad reception
- added ttx_rate, vps_cnt
epgvbi/ttxdecode.c [rev:1.46, 2002-05-12T16:48:13]:
- Implemented new statistics for new elements in struct TTX_DEC_STATS:
- vpsLineCount: number of VPS lines received
- ttxPkgRate: number of ttx packets per frame: running average
epgvbi/ttxdecode.h [rev:1.24, 2002-05-12T16:48:20]:
- Added macros for ttx pkg / frame running average calculation:
- TTX_PKG_RATE_FIXP, TTX_PKG_RATE_FACT
epgvbi/btdrv.h [rev:1.20, 2002-05-12T16:48:29]:
- Added elements to struct TTX_DEC_STATS:
- vpsLineCount: number of VPS lines received
- ttxPkgRate: number of ttx packets per frame: running average
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.162, 2002-05-12T16:53:14]:
- WIN32: disable Navigate menu entry in filter menu if no NI in the database
    uses new C callback C_IsNavigateMenuEmpty
- WIN32: proc PostSeparateMenu: use tk_popup, include tearoff
epgui/pifilter.c [rev:1.54, 2002-05-12T16:53:20]:
- bugfix SEGV in debug macro in SelectNi(): NULL ptr access
- added new Tcl proc C_IsNavigateMenuEmpty: WIN32 only: disabled Navigate
    menu entry in filter menu if no NI in the database
epgui/timescale.c [rev:1.6, 2002-05-12T17:39:22]:
- bugfix TimeScale_UpdateStatusLine SEGV:
- crashed when EPG scan was started while the acq timescale was open
- missing check if pAcqDbContext == NULL before locking the db
tvsim/vbirec_main.c [rev:1.8, 2002-05-12T20:10:01]:
- corrected DEBUG_SWITCH from DEBUG_SWITCH_EPGUI to DEBUG_SWITCH_TVSIM
epgvbi/hamming.c [rev:1.8, 2002-05-12T20:19:13]:
- corrected DEBUG_SWITCH from DEBUG_SWITCH_EPGDB to DEBUG_SWITCH_VBI
epgvbi/cni_tables.c [rev:1.15, 2002-05-12T20:20:31]:
- changed CNI for German Tele-5 from 0x1D80 to 0x1D7B
- corrected DEBUG_SWITCH from DEBUG_SWITCH_EPGUI to DEBUG_SWITCH_VBI
epgctl/epgctxmerge.c [rev:1.9, 2002-05-12T20:23:31]:
- corrected DEBUG_SWITCH from DEBUG_SWITCH_EPGDB to DEBUG_SWITCH_EPGCTL
epgvbi/btdrv.h [rev:1.21, 2002-05-14T18:37:08]:
- Linux: removed decl for BtDriver_CheckParent(): now static
epgvbi/btdrv4linux.c [rev:1.29, 2002-05-14T18:37:15]:
- Fixed handling of orphanage (i.e. acq mater process dead) for non-threaded mode:
- call BtDriver_CheckParent() regularily while acq is enabled too
    in case that either isEnabled=FALSE or no VBI reception
- made BtDriver_CheckParent() static: no longer called from TTX decoder
    upon buffer overflow
epgvbi/ttxdecode.c [rev:1.47, 2002-05-14T18:37:21]:
- TtxDecode_GetStatistics(): added pVbiLineCount to return vals
- TtxDecode_BufferAdd(): removed overflow handling, except for debug output;
    call to BtDriver_CheckParent() is obsolete: handled internally in btdrv4linux
- corrected DEBUG_SWITCH from DEBUG_SWITCH_EPGDB to DEBUG_SWITCH_VBI
epgvbi/ttxdecode.h [rev:1.25, 2002-05-14T18:37:31]:
- TtxDecode_GetStatistics(): added pVbiLineCount to return vals
epgctl/epgscan.c [rev:1.26, 2002-05-14T19:02:16]:
- epgscan.c
- increased delay in state SCAN_STATE_WAIT_NI from 4 to 6 seconds
    to increase probability to catch CNI for channels with bad reception
- TtxDecode_GetStatistics() now additionally returns vbiLineCount
    state WAIT_SIGNAL: goto WAIT_ANY is VPS line detected
- added state var extraWait: used for MIP change; no longer reset startTime
epgui/timescale.c [rev:1.7, 2002-05-14T19:22:12]:
- Bugfixes in connection of UI timescale with acq:
- highlighting was not enabled when acq was enabled & acq db == ui db;
    highlighting was not removed when acq disabled
- TimeScale_ProvChange(): always do TimeScale_ProcessAcqQueue()
    when UI timescale is open
- TimeScale_ProcessAcqQueue():
    + detect if UI highlighting must be enabled
    + when acq has been disabled call TimeScale_RequestAcq()
tvsim/tvsim_main.c [rev:1.8, 2002-05-19T17:19:03]:
- split Tk init scripts off from Tcl scripts -> added tk_init_scripts[]
- added TV app path and type to tvSimuInfo
tvsim/vbiplay.c [rev:1.5, 2002-05-19T17:19:10]:
- added TV app path and type to tvSimuInfo
tvsim/vbirec_main.c [rev:1.9, 2002-05-19T17:19:17]:
- split Tk init scripts off from Tcl scripts -> added tk_init_scripts[]
tvsim/winshmclnt.c [rev:1.6, 2002-05-19T17:19:24]:
- WinSharedMemClient_AttachShm(): added initialization of TV app path and type
    which are new elems in struct TVAPP_COMM
tvsim/winshmclnt.h [rev:1.4, 2002-05-19T17:19:34]:
- added 2 new elems to struct WINSHMCLNT_TVAPP_INFO: tvAppPath, tvAppType
- due to new elems tvAppPath, tvAppType and enum TVAPP_NAME
epgvbi/winshm.h [rev:1.5, 2002-05-19T17:19:59]:
- Prepared struct TVAPP_COMM for future additions:
- increased TVAPP_NAME_MAX_LEN from 32 to 64
- due to new elems tvAppPath, tvAppType and enum TVAPP_NAME
epgdb/epgnetio.c [rev:1.29, 2002-05-19T21:42:40]:
- Finished port to WIN32
- added macros sockErrno, sockStrError(X) for portable errno handling:
    use WSAGetLastError() on WIN32 instead of errno
- added syslog output ("event log"; WINNT only)
    new func EpgNetIo_Win32SyslogOpen()
- changed EpgNetIo_SetErrorText() and EpgNetIo_Logger(): get errCode instead
    of formatted string; errCode handled differently for UNIX and WIN32
- EpgNetIo_AcceptConnection(): disabled gethostbyaddr() for WIN32
    because it hangs for 5 secs even on "127.0.0.1"
- EpgNetIo_FinishConnect(): removed preliminary WIN32 additions
epgdb/epgnetio.h [rev:1.17, 2002-05-19T21:44:19]:
- Finished port to WIN32
- EpgNetIo_SetErrorText(): added arg errCode
- EpgNetIo_Logger(): added arg errCode
epgctl/debug.c [rev:1.13, 2002-05-19T21:45:22]:
- DebugLogLine(): added overflow check for debugStr
Makefile.win32 [rev:1.23, 2002-05-19T21:45:53]:
- Makefile.win32
- enabled USE_DAEMON
- split Tk init scripts off from Tcl scripts -> new object epgui/tk_libs
- back to separate EPG_VERSION_STR for 0.7.2
nxtvepg.pod [rev:1.66, 2002-05-19T21:46:11]:
- daemon mode now available for Windows too
epgctl/epgacqclnt.c [rev:1.7, 2002-05-19T21:48:48]:
- Finished port to WIN32
- EpgAcqClient_HandleSocket(): abort if pAcqEv->errCode != ERROR_SUCCESS
- calls to EpgNetIo_SetErrorText() adapted: added errCode, removed strerror()
- EpgAcqClient_StartAcq(): for Win32 set acqEv.blockOnConnect = TRUE
- EpgAcqClient_IsLocalServer(): remove exceptions for WIN32
epgctl/epgacqsrv.c [rev:1.9, 2002-05-19T21:52:08]:
- Finished port to WIN32:
- EpgNetIo_Logger(): added arg errCode
epgctl/epgacqclnt.h [rev:1.3, 2002-05-19T21:53:54]:
- Finished port to WIN32:
- struct EPGACQ_EVHAND: added new elems blockOnConnect and errCode
epgctl/epgacqctl.c [rev:1.73, 2002-05-19T21:54:33]:
- bugfix AI callback in oldAi==NULL branch: ACQ_EVENT_PROV_CHANGE was not
    generated upon first AI, i.e. if acq db previously empty
- adapted call to TtxDecode_GetStatistics(): dummy param &vbiLineCount
epgui/epgmain.c [rev:1.87, 2002-05-19T21:56:34]:
- Finished port of network acq to WIN32
- implemented socket I/O handlers for winsock2: removed use of ChannelHandler
    new funcs WinSocket_CreateHandler(), WinSocket_DeleteFileHandler() etc.
- added handling of pAcqEv->blockOnConnect: check for connect failures
    added errCode to struct EPGACQ_EVHAND
- added thread and invisible window for daemon:
    new funcs DaemonControlWindowCreate(), DaemonControlWindowDestroy() etc.
- ported EpgMain_DaemonStart() and Stop(): separate implementation
    added WIN32 thread that waits for the daemon to start acq
- disabled "-nodetach" cmd line option for WIN32
- calls to EpgNetIo_Logger() adapted: added errCode, removed strerror()
- split Tk init scripts off from Tcl scripts -> added tk_init_scripts[]
- Bugfix: -guipipe did parse the number as hex (strtol(...,16))
epgui/epgmain.h [rev:1.19, 2002-05-19T21:56:44]:
- added new func EpgMain_CheckDaemon()
epgui/menucmd.c [rev:1.76, 2002-05-19T21:59:22]:
- Adapted acq start/stop handling for WIN32 daemon:
- AutoStartAcq(): first check if daemon is running, then start local or remote
    i.e. contrary order to Windows
- bugfix MenuCmd_StartRemoteAcq(): in case daemon has to be started
    netacq_enable=0 was set again
- MenuCmd_StartRemoteAcq(): check if daemon is running before acq start attempt
- added new SetAcquisitionMode enum args: NETACQ_YES, NETACQ_NO
- calls to EpgNetIo_Logger() adapted: added errCode, removed strerror()
epgui/menucmd.h [rev:1.17, 2002-05-19T21:59:51]:
- added new SetAcquisitionMode enum args: NETACQ_YES, NETACQ_NO
epgui/pilistbox.c [rev:1.68, 2002-05-19T22:00:07]:
- PiListBox_Scroll("scroll # pages"):
- changed scrolling semantics to fit scrolling via scroll bar better:
- if the previously selected element is still visible, the cursor stays on it.
    before, the cursor was always moved by $pibox_height elems (if possible)
epgui/uictrl.c [rev:1.28, 2002-05-19T22:01:05]:
- changed error message: removed ". " from end of network error message
    so that a trailing "\n" af the message end doesn't look funny
epgui/wintvcfg.c [rev:1.5, 2002-05-19T22:01:49]:
- moved enum TVAPP_NAME to winshm.h
www/pre-releases.html [rev:1.6, 2002-05-20T15:07:18]:
- added link to style sheet
- added tvsim etc. documentation
nxtvepg.pod [rev:1.67, 2002-05-20T15:09:15]:
- Client/Server config: added not that on WIN32 TCP/IP must be enabled
epgui/menucmd.c [rev:1.77, 2002-05-20T15:50:11]:
- MenuCmd_StartRemoteAcq(): added a warning message if TCP/IP is disabled
    because currently we support only TCP/IP on WIN32
Makefile [rev:1.44, 2002-05-20T15:52:44]:
- changed order of gcc warnings in WARN so that release edit is simpler
tvsim/vbirec.pod [rev:1.3, 2002-05-20T15:55:01]:
- Updated stats categories
- replaced "TTX pkg dropped" with "TTX pkg per frame avg."
- added "VPS lines count"
epgvbi/winshm.h [rev:1.6, 2002-05-20T15:57:30]:
- changed EPG_SHM_VERSION from 0xFF020001 to 0xFF020100
- due to change of version number of nxtvepg release (there have been no
    changes in the shm layout in this check-in; this is only to use the same
    version as in the first nxtvepg release with the current layout)
epgctl/epgversion.h [rev:1.21, 2002-05-20T18:41:06]:
- set to version 0.7.2 aka 2.1.0
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.163, 2002-05-20T18:51:51]:
- bugfix proc HardwareConfigLoadFromTvapp:
- if TV app path was not set yet, a Tcl error occurred
- must enclose args to uplevel in list, so that {} string doesn't disappear
epgui/menucmd.c [rev:1.78, 2002-05-20T18:52:02]:
- fix MenuCmd_StartLocalAcq() for WIN32:
- must not use EpgNetIo_CheckConnect() to check upon the daemon on WIN32
- use EpgMain_CheckDaemon() instead
epgui/epgmain.c [rev:1.88, 2002-05-20T18:52:11]:
- Several fixes related to WIN32 daemon start/stop handling:
- DaemonControlWindowCreate(): fixed race condition:
    wait until the window is created, because if the daemon was started by the
    GUI, it checks for the existance of the window - so we must be sure it exists
    before we trigger the GUI that we're ready
- added an event handle to DaemonControlWindowThread() as arg
- WinSystrayThread(): optimization: pass event handle as argument to thread
    instead of using a global variable
- EpgMain_StopDaemon(): must wait until the daemon is terminated because
    the caller wants to start acq immediately when the func returns
- main: moved call to DaemonControlWindowDestroy() to after acq is stopped
    because the GUI assumes acq is off when the window is gone
nxtvepg.spec [rev:1.4, 2002-05-20T18:55:24]:
- set version to set version to 0.7.2
README [rev:1.25, 2002-05-20T18:55:37]:
- updated section on win32 compilation: removed obsolete reference to dsdrv.dll
Makefile.win32 [rev:1.24, 2002-05-20T18:55:44]:
- zip rule: added creation of tvsim ZIP file
CHANGES.version [rev:1.13, 2002-05-20T18:56:52]:
- replaced comment "convert man page to nxtvepg.html" with more up-to-date
- "fix intro section in manual.html and tvsim/*.html"
www/nefkom-src-index.html [rev:1.4, 2002-05-20T20:14:48]:
- removed 0.6.2 and 0.6.3 to free disk space
- added new release 0.7.2 and 2.1.0-win, 2.1.0-tvsim
www/tripod-src-index.html [rev:1.5, 2002-05-20T20:15:31]:
- added new release 0.7.2 and 2.1.0-win, 2.1.0-tvsim
www/index-de.html [rev:1.28, 2002-05-20T20:24:20]:
- removed old news items (0.6.3 and older)
- added red NEW markers before windows sw requirement changes
- updated for new release 0.7.2 aka 2.1.0-win
- removed separate package for dsdrv drivers
- added tvsim package in windows download section
www/index.html [rev:1.39, 2002-05-20T20:24:20]:
- removed old news items (0.6.3 and older)
- added red NEW markers before windows sw requirement changes
- updated for new release 0.7.2 aka 2.1.0-win
- removed separate package for dsdrv drivers
- added tvsim package in windows download section
www/changelog.html [rev:1.30, 2002-05-20T20:25:01]:
- Updated for release 0.7.2
- added note about pending version change to 2.x.x for UNIX
www/pre-releases.html [rev:1.7, 2002-05-20T20:25:38]:
- Updated for release 0.7.2: removed all content
www/man.html [rev:1.15, 2002-05-20T20:26:28]:
- updated for release 0.7.2
www/provnets.html [rev:1.14, 2002-05-20T20:26:46]:
- Specified exact date of death for Pro7: 14.04.2002
CHANGES [rev:1.22, 2002-05-20T20:29:28]:
- updated for release 0.7.2
TODO [rev:1.17, 2002-05-20T20:29:28]:
- updated for release 0.7.2
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_7_2 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgvbi/ttxdecode.c [rev:1.48, 2002-05-27T20:02:26]:
- bugfix PDC decoder:
- TtxDecode_GetP830Cni() did not work at all!
- designation code for PDC is 1<<1 (NOT 100b - transmitted LSB first)
- CNI and PIL are transmitted MSB first (in contrary to all other P8/30/x data)
    -> must reverse all bits
    -> must invert all masks & shifts when assembling values
dsdrv/hwdrv.c [rev:1.1.1.1, 2002-05-28T19:05:11]:
- r1.12: Uninstall the driver if the driver location in the registry is incorrect.
- r1.11: Corrected detection of network drives.
         Use short file name for driver passed to CreateService().
- r1.10: Implemented debug log level 0 (for critical errors).
- r1.9:  Show an error message if driver installation from a network drive is attempted.
epgvbi/hamming.h [rev:1.8, 2002-05-28T20:02:09]:
- Added table to reverse order of bits in one "nibble"
- const uchar reverse4Bits[16]
epgvbi/cni_tables.c [rev:1.16, 2002-05-28T20:02:16]:
- corrected NI codes for Phoenix & HR3
- CniConvertPdcToVps(): Allow for PDC codes with 0xF in the high nibble
- added date when Pro7 deceased (Apr/14/2002)
dsdrv/hwdrv.c [rev:1.4, 2002-05-30T13:55:44]:
- merged in changes from original dsdrv: version 1.1.1.1
- HwDrv_InstallNTDriver:
- new error message HWDRV_LOAD_REMOTE_DRIVE
- convert driver path to short path name
dsdrv/hwdrv.h [rev:1.4, 2002-05-30T13:56:22]:
- merged in changes from original dsdrv: version 1.1.1.1
- added new error result HWDRV_LOAD_REMOTE_DRIVE for HwDrv_InstallNTDriver()
README [rev:1.26, 2002-05-30T13:56:38]:
- WIN32 installation:
- added message for new dsdrv error result code HWDRV_LOAD_REMOTE_DRIVE
nxtvepg.pod [rev:1.68, 2002-05-30T13:56:57]:
- Client/Server config dialog:
- added note that syslog is not supported on Windows 95
epgvbi/btdrv4win.c [rev:1.23, 2002-05-30T13:57:22]:
- added message for new dsdrv error result code HWDRV_LOAD_REMOTE_DRIVE
epgvbi/btdrv.h [rev:1.22, 2002-05-30T13:57:36]:
- struct CNI_ACQ_STATE: added status display text state
- currently only used for PDC and P8/30/1
epgvbi/ttxdecode.c [rev:1.49, 2002-05-30T13:57:45]:
- Implemented status display text decoding in PDC and P8/30/1
- new func TtxDecode_AddText(): used in VPS and PDC decoders
- additional return value ptr in TtxDecode_GetScanResults()
epgvbi/ttxdecode.h [rev:1.26, 2002-05-30T13:57:51]:
- Implemented status display text decoding in PDC and P8/30/1
- additional return value ptr in TtxDecode_GetScanResults()
epgvbi/winshm.h [rev:1.7, 2002-05-30T13:58:01]:
- set SHM compat version to 2.1.1 due to changes in VBI buffer
epgdb/epgnetio.c [rev:1.30, 2002-05-30T14:00:01]:
- Added startup/shutdown functions
- functionality moved here from one level up, i.e. epgctl/
- EpgNetIo_Init(): UNIX: set up signal mask; WIN32: init winsock DLL
- EpgNetIo_Destroy(): WIN32: shut down DLL
epgdb/epgnetio.h [rev:1.18, 2002-05-30T14:00:13]:
- added decls for new funcs EpgNetIo_Init() and EpgNetIo_Destroy()
epgctl/epgscan.c [rev:1.27, 2002-05-30T14:01:13]:
- added param bool bold to message callback function
    TRUE for important messages
- use new type EPGSCAN_MSGCB for message callback function
- use P8/30/1 and /2 status display text when no CNI is available
    new return param in TtxDecode_GetScanResults()
epgctl/epgscan.h [rev:1.11, 2002-05-30T14:01:28]:
- added new type EPGSCAN_MSGCB for message callback function
- EpgScan_Start(): use new type EPGSCAN_MSGCB for message callback function
epgctl/epgacqclnt.c [rev:1.8, 2002-05-30T14:03:47]:
- EpgAcqClient_Init(): moved initialization into epgdb/epgnetio.h
- use new functions EpgNetIo_Init(), EpgNetIo_Destroy()
    WIN32: DLL shutdown was missing before
- same funcs now used by client and server
- removed signal.h includes
epgctl/epgacqsrv.c [rev:1.10, 2002-05-30T14:07:02]:
- EpgAcqServer_Init(): moved initialization into epgdb/epgnetio.h
- use new functions EpgNetIo_Init(), EpgNetIo_Destroy()
- same funcs now used by client and server
- removed signal.h includes
epgui/statswin.c [rev:1.60, 2002-05-30T14:08:23]:
- database statistics windows can be opened even if db is empty or context NULL
- i.e. acq stats window can be opened before acq enabled
- StatsWin_UpdateDbStatsWin(): removed pre-condition dbc == NULL
- added handling of missing AI block and acq state DISABLED
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.164, 2002-05-30T14:08:49]:
- main window can be scrolled by dragging the mouse outside the window
    + proc SelectPiMotion: check if mouse is outside of the main window
    + added new procs UpdatePiMotionScrollTimer, PiMotionScrollTimer
    + added new main window binding ButtonRelease-1: new proc SelectPiRelease
- proc PopupEpgScan: added tag named "bold" for message output text
- proc NetAcqChangeView: disabled syslog settings on Windows 95
epgui/epgmain.c [rev:1.89, 2002-05-30T14:08:57]:
- improved daemon start failure msg:
- "check *syslog or* daemon log file
epgui/menucmd.c [rev:1.79, 2002-05-30T14:09:43]:
- database statistics windows can be opened even if db is empty or context NULL
- i.e. acq stats window can be opened before acq enabled
- MenuCmd_SetControlMenuStates(): removed state setting for
    "View [acq] statistics" menu entries
- important EPG scan messages marked by bold font
- additional param "bool bold" to MenuCmd_AddEpgScanMsg()
- add tag "bold" during insertions into text widget
- note: func decl must match new type EPGSCAN_MSGCB in epgscan.h
tvsim/tvsim_version.h [rev:1.2, 2002-05-30T14:11:12]:
- changed version from 1.8 to 1.9 due to change of SHM compat version
tvsim/vbirec.pod [rev:1.4, 2002-05-30T14:11:23]:
- added description of PDC and P8/30/1 status display text output
- added hints in which countries which CNI format is used
tvsim/vbirec_main.c [rev:1.10, 2002-05-30T14:11:33]:
- implemented status display text decoding in PDC and P8/30/1
- only update CNI/PIL output when haveCni/havePil flags are set;
    this prohibits flashing for less frequently updated valued, e.g. P8/30/1
epgctl/epgversion.h [rev:1.22, 2002-05-30T14:47:46]:
- set to version 0.7.3 aka 2.1.1
CHANGES [rev:1.23, 2002-05-31T19:38:29]:
- updated for release 0.7.3
TODO [rev:1.18, 2002-05-31T19:38:29]:
- updated for release 0.7.3
nxtvepg.spec [rev:1.5, 2002-05-31T19:38:57]:
- set version to 0.7.3
www/changelog.html [rev:1.31, 2002-05-31T19:41:26]:
- Updated for release 0.7.3
www/index-de.html [rev:1.29, 2002-05-31T19:43:40]:
- Updated for release 0.7.3
- added note that winsock2 is required for Windows 95
- replaced real name with Th. in Copyright message (avoid google)
www/index.html [rev:1.40, 2002-05-31T19:43:40]:
- Updated for release 0.7.3
- added note that winsock2 is required for Windows 95
- replaced real name with Th. in Copyright message (avoid google)
www/man.html [rev:1.16, 2002-05-31T19:44:13]:
- updated for release 0.7.3
www/nefkom-src-index.html [rev:1.5, 2002-05-31T19:44:37]:
- removed 1.14-win to free disk space
- added new release 0.7.3 and 2.1.1-win, 2.1.1-tvsim
www/tripod-src-index.html [rev:1.6, 2002-05-31T19:45:41]:
- added new release 0.7.3 and 2.1.1-win, 2.1.1-tvsim
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_7_3 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgctl/epgversion.h [rev:1.23, 2002-06-02T18:16:56]:
- set to version 0.7.4 aka 2.1.2-win
nxtvepg.spec [rev:NONE - missing check-in]:
- changed version to 0.7.4
epgui/xawtv.c [rev:1.23, 2002-06-02T19:04:22]:
- bugfix: no EPG info update was generated in one spacial case:
- unknown station name, and station was same as for last request
- fix Xawtv_StationSelected(): use the station timer too for unknown stations
- Xawtv_StationTimer(): allow station CNI 0: use the first CNI found for reply
    (instead of waiting for a match to the station CNI)
- bug was reported by e-nek today
- equivalent fix applied to wintv.c
epgui/wintv.c [rev:1.8, 2002-06-02T19:04:44]:
- bugfix: no EPG info update was generated in one spacial case:
- unknown station name, and station was same as for last request
- fix Wintv_StationSelected(): use the station timer too for unknown stations
- Wintv_StationTimer(): allow station CNI 0: use the first CNI found for reply
    (instead of waiting for a match to the station CNI)
- bug was reported by e-nek today
- equivalent fix applied to xawtv.c
www/index-de.html [rev:1.30, 2002-06-02T19:36:15]:
- Updated for release 0.7.4
www/index.html [rev:1.41, 2002-06-02T19:36:15]:
- Updated for release 0.7.4
www/changelog.html [rev:1.32, 2002-06-02T19:36:33]:
- Updated for release 0.7.4
www/nefkom-src-index.html [rev:1.6, 2002-06-02T19:38:05]:
- removed 2.0.0-win to free disk space
- added new release 0.7.4 and 2.1.2-win (NO -tvsim this time)
www/tripod-src-index.html [rev:1.7, 2002-06-02T19:38:53]:
- removed 1.6-win-gcc and 1.7-win to free disk space
- added new release 0.7.4 and 2.1.2-win (NO -tvsim this time)
CHANGES [rev:1.24, 2002-06-02T19:39:28]:
- updated for release 0.7.4
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_0_7_4 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgdb/epgdbfil.c [rev:1.34, 2002-06-15T12:06:57]:
- Implemented new filter type: FILTER_AIR_TIMES
- new func EpgDbFilterInitAirTimesFilter()
- new func EpgDbFilterSetAirTimesFilter()
- EpgDbFilterMatches(): added AIR_TIMES filter matching
epgdb/epgdbfil.h [rev:1.19, 2002-06-15T12:07:05]:
- added new filter #define FILTER_AIR_TIMES
- added FILTER_AIR_TIMES to FILTER_PERM
- added new elems to struct FILTER_CONTEXT: netwopAirTimeStart/Stop
- added decls for EpgDbFilterInitAirTimesFilter/SetAirTimesFilter()
epgui/pifilter.c [rev:1.55, 2002-06-15T12:10:27]:
- Added new func PiFilter_UpdateAirTime()
- sets new FILTER_AIR_TIMES pre-filter;
    config is stored in global Tcl/Tk variable "cfnettimes"
- called from PiFilter_UpdateNetwopList()
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.165, 2002-06-15T12:19:00]:
- Added air times configuration to network selection dialog
- proc PopupNetwopSelection: added "official network name" and entry fields
    for start/stop time to the bottom of the dialog window
- new proc NetselUpdateCni: save the start and stop times of the selected CNI
- new proc NetselUpdateTimes: callback for selection in left or right list
- added array "cfnettimes" to rc/ini file
dsdrv/hwdrv.c [rev:1.1.1.2, 2002-06-16T17:45:07]:
- r1.13: Fix to allow multiple programs access to the driver
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.166, 2002-06-23T10:21:14]:
- PDC theme language is now configurable
- added "Theme language" cascade to "Configure" menu
- proc FilterMenuAdd_Themes: can be called repeatedl to change the language
    of theme strings
- added proc UpdateUserLanguage to set the language
    uses new C operator C_UpdateLanguage
- added new config var menuUserLanguage to rc/ini load and store
epgui/epgtxtdump.c [epgui/dumpraw.c, rev:1.26, 2002-06-23T10:21:34]:
- PDC theme language is now configurable
- replaced access to global theme string arrays with function calls
epgui/epgmain.c [rev:1.90, 2002-06-23T10:21:40]:
- PDC theme language is now configurable
- added setup of user configured language for PDC themes
nxtvepg.pod [rev:1.69, 2002-06-23T10:21:50]:
- added description of new air times configuration in network selection dialog
- added description of new themes language configuration
epgui/menucmd.c [rev:1.80, 2002-06-23T10:22:40]:
- PDC theme language is now configurable
- added new Tcl operator MenuCmd_UpdateLanguage(): invokes SetUserLanguage
- added new global func SetUserLanguage(): Set user configured theme language
- invoke SetUserLanguage() during provider switch and prov merge
epgui/menucmd.h [rev:1.18, 2002-06-23T10:23:09]:
- PDC theme language is now configurable
- added declaration of new function SetUserLanguage()
epgui/pdc_themes.c [rev:1.7, 2002-06-23T10:23:20]:
- PDC theme language is now configurable
- added German and French translation of PDC theme table and other texts
- removed " - general" from themes: added separate string pdc_general
- added new function PdcThemeSetLanguage()
- all texts are now module internal (static) -> added new access functions
    PdcThemeGet(), PdcThemeGetWithGeneral(), PdcThemeIsDefined()
- optimized PdcThemeGetCategory(): replaced for looop with 2 table lookups
epgui/pdc_themes.h [rev:1.4, 2002-06-23T10:23:26]:
- PDC theme language is now configurable
- added new function PdcThemeSetLanguage()
- all texts are now module internal (static) -> added new access functions
    PdcThemeGet(), PdcThemeGetWithGeneral(), PdcThemeIsDefined()
- added #define PDC_THEME_SERIES  0x80
epgui/pifilter.c [rev:1.56, 2002-06-23T10:23:39]:
- PDC theme language is now configurable
- replaced access to global theme string arrays with function calls
epgui/pioutput.c [rev:1.15, 2002-06-23T10:23:46]:
- PDC theme language is now configurable
- replaced access to global theme string arrays with function calls
- Improved theme string output in listbox column
- added new function PiOutput_CacheThemesMaxLen(): use Tk_MeasureChars() to
    determine exactly how many chanrs fit (instead of using a pessimistic guess)
epgui/pioutput.h [rev:1.5, 2002-06-23T10:23:52]:
- Added declaration for new function PiOutput_CacheThemesMaxLen()
epgui/uictrl.c [rev:1.29, 2002-06-23T10:24:36]:
- PDC theme language is now configurable
- UiControl_AiStateChange(): added call to SetUserLanguage():
    update the language (if in automatic mode)
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.167, 2002-06-23T10:26:19]:
- added comment for proc FilterMenuAdd_Themes
epgui/pioutput.c [rev:1.16, 2002-06-23T10:52:00]:
- bugfix "series" theme output in PiOutput_PrintColumnItem()
www/pre-releases.html [rev:1.8, 2002-06-23T18:01:12]:
- Added nxtvepg.exe.gz v2.2.0a1
- developer's snapshot for mat100@ifrance.fr
- for evaluation of French PDC themes translation
dsdrv/hwdrv.c [rev:1.5, 2002-06-23T18:19:00]:
- Fix in HwDrv_LoadDriver(): params to CreateFile()
- added FILE_SHARE_WRITE permissions
- from orig r1.13: "Fix to allow multiple programs access to the driver"
epgvbi/btdrv4dummy.c [rev:1.10, 2002-06-26T19:38:50]:
- removed BtDriver_CheckParent(): now static in btdrv4linux.c
www/index-de.html [rev:1.31, 2002-06-29T14:41:11]:
- added link to K!TV
- changed URL for Grundig from .de to .com domain
www/index.html [rev:1.42, 2002-06-29T14:41:11]:
- added link to K!TV
- changed URL for Grundig from .de to .com domain
www/provnets.html [rev:1.15, 2002-06-29T14:41:56]:
- updated note abour TRT:
- added new networks which transmit the TRT database, provided by enek
- updated list of transmission errors
www/index-de.html [rev:1.32, 2002-07-01T19:53:14]:
- added number of covered networks behind the countrys provider
    list (because some people still don't understand that more
    than the provider's networks are covered)
- big syntax fix: replaced <DL> with <UL> in lists
www/index.html [rev:1.43, 2002-07-01T19:53:14]:
- added number of covered networks behind the countrys provider
    list (because some people still don't understand that more
    than the provider's networks are covered)
- big syntax fix: replaced <DL> with <UL> in lists
dsdrv/hwdrv.c [rev:1.6, 2002-07-07T12:17:07]:
- fix for Windows 95:
- resolve 2 symbols dynamically, which are missing in Win95 advapi32.dll
dsdrv/hwdrv.c [rev:1.1.1.3, 2002-07-08T20:00:20]:
- r1.14: Made a bit less strict with driver versions -
         should be happy with newer drivers
www/changelog.html [rev:1.33, 2002-07-17T17:49:38]:
- Added <LINK> for shortcut icon: nxtvepg.ico
www/index-de.html [rev:1.33, 2002-07-17T17:49:38]:
- Added <LINK> for shortcut icon: nxtvepg.ico
www/index.html [rev:1.44, 2002-07-17T17:49:38]:
- Added <LINK> for shortcut icon: nxtvepg.ico
www/provnets.html [rev:1.16, 2002-07-17T17:49:38]:
- Added <LINK> for shortcut icon: nxtvepg.ico
www/man.html [rev:1.17, 2002-07-17T17:50:10]:
- Added <LINK> for shortcut icon: nxtvepg.ico
- Added <!DOCTYPE> tag
www/pre-releases.html [rev:1.9, 2002-07-17T17:51:01]:
- updated: added new feature: TAB-separated db export
tvsim/tvsim.pod [rev:1.3, 2002-07-20T16:25:45]:
- -card option: was describing Linux devices; replaced with btdrv4win algorithm
- -rcfile: added note that TV card index is not loaded from nxtvepg ini file
tvsim/tvsim_main.c [rev:1.9, 2002-07-20T16:25:56]:
- hardwired TV card index to 0; it's no longer loaded from nxtvepg.ini
- adapted to changed interface to pdc_themes
tvsim/vbiplay.c [rev:1.6, 2002-07-20T16:26:04]:
- added TV card index to WinSharedMemClient_Init()
tvsim/vbirec_main.c [rev:1.11, 2002-07-20T16:26:15]:
- removed doVpsPdc from VBI buffer (VPS decoder is now always enabled)
tvsim/winshmclnt.c [rev:1.7, 2002-07-20T16:26:23]:
- Added support for multiple TV cards in interaction
- added parameter cardIdx to WinSharedMemClient_Init(): written to shm
- during startup don't wait fro nxtvepg to free the driver if it's using
    a different TV card
tvsim/winshmclnt.h [rev:1.5, 2002-07-20T16:26:29]:
- Added support for multiple TV cards in interaction
- added parameter cardIdx to WinSharedMemClient_Init()
dsdrv/hwdrv.c [rev:1.7, 2002-07-20T16:26:39]:
- made version check more tolerant: allow newer dsdrv versions
- do not stop the service, because another app might still be using the driver
- fix for dynamic symbol loading (from previous check-in)
    added casts to avoid compiler warnings (still unsuccessful though)
    added missing call to FreeLibrary() in error case
epgvbi/btdrv.h [rev:1.23, 2002-07-20T16:26:50]:
- Removed element doVpsPdc in struct EPGACQ_BUF
epgvbi/btdrv4linux.c [rev:1.30, 2002-07-20T16:27:01]:
- adapted to change in struct EPGACQ_BUF
- element doVpsPdc was removed (VPS/PDC decoding is now always enabled)
- pass TRUE instead to VbiDecodeLine()
epgvbi/btdrv4win.c [rev:1.24, 2002-07-20T16:27:08]:
- adapted to change in struct EPGACQ_BUF: element doVpsPdc was removed
    (VPS/PDC decoding is now always enabled) -> pass TRUE to VbiDecodeLine()
- implemented BtDriver_Configure() for slave mode, to allow to switch to
    a different TV card
epgvbi/ttxdecode.c [rev:1.50, 2002-07-20T16:27:15]:
- PDC acq: no longer require 3 repetitions, i.e. result available immediately
- removed element doVpsPdc: VPS/PDC is now always enabled
- isEnabled now only controles EPG acquisition
epgvbi/winshmsrv.c [rev:1.7, 2002-07-20T16:27:24]:
- Fixes for added support for multiple TV cards in interaction
- added 3rd arg to callback pCbAttachTv: slaveStateChange
- slaveStateChange set to TRUE when entering or leaving slave acq mode
    in WinSharedMem_AttachTvapp()
- set pTvShm->vbiBuf.obsolete1 = TRUE: former doVps flag
    now VPS is always enabled
epgvbi/winshmsrv.h [rev:1.4, 2002-07-20T16:27:30]:
- Fixes for added support for multiple TV cards in interaction
- added 3rd arg to callback pCbAttachTv: slaveStateChange
epgctl/epgacqctl.c [rev:1.74, 2002-07-20T16:27:47]:
- Fixes for added support for multiple TV cards in interaction
- trigger ACQ_EVENT_STATS_UPDATE in EpgAcqCtl_CheckDeviceAccess()
epgui/epgmain.c [rev:1.91, 2002-07-20T16:27:56]:
- added #ifdef USE_DAEMON around DaemonTriggerGui()
- Tcl8.4 compatibility: added CONST84 to Tcl_Merge() argument
epgui/pdc_themes.c [rev:1.8, 2002-07-20T16:28:05]:
- added new function PdcThemeGetByLang(): for export into SQL db
- bugfix in category calculation in PdcThemeGetWithGeneral()
epgui/pdc_themes.h [rev:1.5, 2002-07-20T16:28:14]:
- added new function PdcThemeGetByLang()
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.168, 2002-07-20T16:28:24]:
- Implemented database export in TAB separated format for SQL import
- added new entry in Control menu: "Export TAB-separated..."
- renamed "Dump in HTML" into "Export in HTML"
    and added string "Raw" to related procedures, e.g. C_DumpRawDatabase
- added dialog to dump db in TAB separated format: proc PopupDumpDbTabs
- added dumptabs_filename and dumptabs_filename to rc/ini file
epgui/pifilter.c [rev:1.57, 2002-07-20T16:28:33]:
- Tcl8.4 compatibility:
- added CONST84 to Tcl_SplitList() and Tcl_GetVar()
- SelectThemes(), SelectNetwops(): replaced use of argc,argv with
    local variables
epgui/pilistbox.c [rev:1.69, 2002-07-20T16:28:40]:
- Tcl8.4 compatibility: use const char * for Tcl_GetVar() return value
epgui/pioutput.c [rev:1.17, 2002-07-20T16:28:49]:
- bugfix PiOutput_DictifyTitle(): first char was not made upper case
    if no prefix had to be removed
- Tcl8.4 compatibility: added CONST84 to Tcl_SplitList() and Tcl_GetVar()
- PiOutput_ExecUserCmd(): changed implementation because Tcl list was
    modified, which is now const
epgui/uictrl.c [rev:1.30, 2002-07-20T16:29:25]:
- Tcl8.4 compatibility: use const char * for Tcl_GetVar() return value
epgui/menucmd.c [rev:1.81, 2002-07-20T16:30:34]:
- added new Tcl operator C_DumpTabsDatabase: func MenuCmd_DumpTabsDatabase()
- renamed function MenuCmd_DumpDatabase() into MenuCmd_DumpRawDatabase()
    to reduce confusion between dump types
- MenuCmd_SetControlMenuStates(): added state setting for new entry
    "Export TAB-separated" and replaced "Dump in HTML" with "Export in HTML"
- Tcl8.4 compatibility: added CONST84 to Tcl_SplitList() and Tcl_GetVar()
epgui/wintvcfg.c [rev:1.6, 2002-07-20T16:39:15]:
- Adapted on request of e-nek (email 2002-06-19)
- WintvCfg_GetKtvIni(): allow keyword "card" as alternative to "carte"
epgui/wintv.c [rev:1.9, 2002-07-20T16:39:21]:
- Fixes for added support for multiple TV cards in interaction
- Wintv_StationSelected(): only reset EPG acq if it uses the same TV card
    as the TV app
- Wintv_CbTunerGrant(): ignore trigger is TV app uses different TV card
- added 3rd arg to callback pCbAttachTv aka Wintv_CbAttachTv():
    bool slaveStateChange: TRUE when driver restarted -> check device status;
    before the device status was always checked, even if the TV app used
    a different card.
epgui/xawtv.c [rev:1.24, 2002-07-20T16:59:05]:
- Tcl8.4 compatibility: use CONST84 for Tcl_GetVar() and Tcl_SplitList()
tvsim/tvsim_main.c [rev:1.10, 2002-07-27T13:40:28]:
- Tcl8.4 compatibility: added CONST84 to Tcl_SplitList(), Tcl_GetVar()
    and Tcl_Merge()
tvsim/vbirec_main.c [rev:1.12, 2002-07-27T13:40:37]:
- Tcl8.4 compatibility: added CONST84 to Tcl_SplitList(), Tcl_GetVar(),
    Tcl_Merge() and trace callback function TclCb_EnableDump()
epgvbi/btdrv4dummy.c [rev:1.11, 2002-07-27T13:41:18]:
- Added missing #include <string.h> for memset() and memcpy()
epgctl/epgctxctl.c [rev:1.21, 2002-07-27T13:41:29]:
- Added missing #include <string.h> for memset() and memcpy()
epgctl/epgctxmerge.c [rev:1.10, 2002-07-27T13:41:36]:
- Added missing #include <string.h> for memset() and memcpy()
epgctl/debug.c [rev:1.14, 2002-07-27T13:41:47]:
- xmalloc: Added missing cast to (int) in fprintf (size_t) argument
epgctl/mytypes.h [rev:1.16, 2002-07-27T13:42:04]:
- added macros PVOID2INT(), INT2PVOID() for 64-bit platforms
    [triggered by Helge Kreutzmann's email from 2002-07-15]
- Tcl8.4 compatibility: defined empty macro CONST84 for older Tcl versions
epgui/uictrl.c [rev:1.31, 2002-07-27T13:43:57]:
- Fixed to avoid compiler warnings on 64-bit platforms:
- use macros PVOID2INT(), INT2PVOID() for (int) <-> (void *) casts
epgui/wintv.c [rev:1.10, 2002-07-27T13:45:17]:
- Tcl8.4 compatibility: added CONST84 to Tcl_SplitList() and Tcl_GetVar()
epgui/wintvcfg.c [rev:1.7, 2002-07-27T13:45:25]:
- Tcl8.4 compatibility: added CONST84 to Tcl_SplitList() and Tcl_GetVar()
epgui/epgmain.c [rev:1.92, 2002-07-27T13:45:33]:
- Fixed to avoid compiler warnings on 64-bit platforms:
    use macros PVOID2INT(), INT2PVOID() for (int) <-> (void *) casts
- bugfix daemon mode (lead to Tcl panic with Tcl84): must not close stdin
    and stdout: use /dev/null as replacements
epgui/statswin.c [rev:1.61, 2002-07-27T13:45:50]:
- Fixed to avoid compiler warnings on 64-bit platforms:
- use macros PVOID2INT(), INT2PVOID() for (int) <-> (void *) casts
README.tcl84 [README.tcltk, rev:1.1, 2002-07-27T13:57:59]:
- Initial revision
nxtvepg.pod [rev:1.70, 2002-07-28T16:18:27]:
- improved description of -card option for Windows
- replaced mention of provider Pro7 with 3sat
- added description for new control menu entry "export tab separated"
- added thanks to Mathieu for French translation of PDC theme table
epgctl/epgscan.c [rev:1.28, 2002-08-03T11:49:40]:
- Bugfix state SCAN_STATE_WAIT_NI_OR_EPG:
- in this state EPG was not decoded -> hence, if VPS/PDC was never decoded
    the EPG provider was not recognized.
- bug reported by Helge Kreutzmann
nxtvepg.pod [rev:1.71, 2002-08-03T14:34:52]:
- Context menu config dialog: added support for "ZoomOut" K!TV plugin
- added ":n" modifier for numerical output
- added !wintv! commands
README.tcl84 [README.tcltk, rev:1.2, 2002-08-03T14:35:14]:
- Added WM_ENDSESSION patch from diff against orig Tk distribution
tvsim/tvsim_main.c [rev:1.11, 2002-08-03T14:35:39]:
- branches:  1.11.1;
- Added "record" command for K!TV plugin "ZoomOut"
- all params are simply dumped via dprintf; nothing else
- added TVAPP_FEAT_VCR to supported features
tvsim/winshmclnt.c [rev:1.8, 2002-08-03T14:35:50]:
- fixed function name in two debug strings
epgvbi/winshm.h [rev:1.8, 2002-08-03T14:36:13]:
- Added #define TVAPP_FEAT_VCR
epgvbi/winshmsrv.c [rev:1.8, 2002-08-03T14:36:24]:
- WintvSharedMem_SetEpgCommand(): return error if no TV app connected
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.169, 2002-08-03T14:37:14]:
- Adaptions for Tcl84:
- set background of shortcut and netwops filter listbox in main window to gray
- Automatically add "record" entry to conext menu for K!TV ZoomOut plugin
- added sample commands to "Copy example" menu in ctx config dialog
- added new proc ContextMenuAddWintvVcr: called upon winshm attach
- added boolean flag ctxmencf_wintv_vcr to rc/ini file
epgui/pioutput.c [rev:1.18, 2002-08-03T14:42:35]:
- Implemented support for wintv commands in the context menu
- prefix !wintv! -> command is not quoted for Bourne Shell, instead all spaces
    are replaced by null characters
- split off new sub-function PiOutput_CmdSubstitute() from
    PiOutput_ExecUserCmd()
- added element quoteShell to struct DYN_CHAR_BUF
- added new function PiOutput_CtxMenuAddUserDef():
    code moved here from pifilter.c::CreateContextMenu()
- PiOutput_ExtCmdVariable:
- variable "themes": added ":n" modifier for numerical output
epgui/pioutput.h [rev:1.6, 2002-08-03T14:42:40]:
- Added decl for new function PiOutput_CtxMenuAddUserDef():
- code moved here from pifilter.c::CreateContextMenu()
epgui/pifilter.c [rev:1.58, 2002-08-03T14:42:46]:
- Implemented support for wintv commands in the context menu
- CreateContextMenu(): moved user-defined command generation into pioutput.c
    because the command execution is there too -> call new function
    PiOutput_CtxMenuAddUserDef()
epgui/wintv.c [rev:1.11, 2002-08-03T14:42:53]:
- Automatically add "record" entry to conext menu for K!TV ZoomOut plugin
- Wintv_CbAttachTv(): invoke new Tcl proc ContextMenuAddWintvVcr
    if connected app has TVAPP_FEAT_VCR feature bit
www/pre-releases.html [rev:1.10, 2002-08-06T18:53:24]:
- replaced change explanation with reference to changelog
- added complete package nxtvepg-2.2.0a3-tcl84.zip
- added nxtvepg.exe.gz: patch for Zooomout K!TV plugin
www/pre-releases.html [rev:1.11, 2002-08-08T19:28:55]:
- removed all content for now (don't want random people to download from here)
Makefile [rev:1.45, 2002-08-11T19:49:59]:
- made Tcl/Tk library version configurable (prepared for version 8.4)
- added new source module epgui/epgtabdump
Makefile.win32 [rev:1.25, 2002-08-11T19:50:04]:
- made Tcl/Tk library version configurable
- upgraded to version 8.3.4 from 8.3.2 (prepared for version 8.4)
    note: scripts subdirectories are still from 8.3.2
- "zip" target: changed name of tvsim package: "-tvsim-$TVSIM_VERSION"
    also print names of the generated zip files
README.tcl84 [README.tcltk, rev:1.3, 2002-08-11T19:50:12]:
- fixed misordered subheaders
nxtvepg.pod [rev:1.72, 2002-08-11T19:50:18]:
- added -dump command line flag
- renamed section "Export TAB-separated" into "Export as text"
    and improved the description
- renamed section "Export in HTML" into "Export as HTML"
- removed use of C<> macro: use I<> instead
pod2help.pl [rev:1.15, 2002-08-11T19:50:26]:
- improved output of pre-formatted paragraphs
    + all preformatted lines are now handled as one paragraph
    + use new tag "pfixed" -> fixed font, no line spacing
- added support for POD C<> macro: fixed font
- improved output of =head2: use new tag "title2"
tvsim/tvsim_version.h [rev:1.3, 2002-08-11T19:50:35]:
- set version to 1.10 from 1.9 due to addition of multicard support
epgui/epgmain.c [rev:1.93, 2002-08-11T19:50:43]:
- Added -dump switch to command line
- new module global flag EPGTAB_DUMP_MODE optDumpMode
- ui_init() now has param bool withTk: FALSE in daemon and dump mode;
    used instead of module-global var optDaemonMode
- added processing of dump mode to main()
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.170, 2002-08-11T19:50:51]:
- made backwards compatible with Tk8.3 again: in 8.3 the entry widget does
    not support -disabledforeground yet -> use -foreground instead
- renamed control menu entry "Export TAB-separated" into "Export as text"
- renamed "Export in HTML" into "Export as HTML"
- help windows: added new tags fixed, pfixed and title2; renamed title into
    title1 -> improved formatting used by pod2help.pl
- added <Configure> callback for Help window: save manually set help window
    size into rc/ini file
- proc UpdateRcFile: added new variable help_winsize
- proc UpdateMergedProvSelection: simplified: now use Tcl var prov_merge_cnis
    instead of getting passed a CNI list from the caller on C level
epgui/menucmd.c [rev:1.82, 2002-08-11T19:51:50]:
- Added -dump switch to command line
- split off new subfunction MenuCmd_MergeDatabases() from ProvMerge_Start()
    and OpenInitialDb(): exported globally
- removed ProvMerge_UpdateProvSelectionList():
    all implemented in Tcl proc UpdateMergedProvSelection now
- MenuCmd_DumpTabsDatabase() adapted for new interface to EpgTabDump_Database()
- Also:
- renamed control menu entry "Export TAB-separated" into "Export as text"
- renamed "Export in HTML" into "Export as HTML"
- made backwards compatible with Tk8.3 again: replaced const with CONST84
epgui/menucmd.h [rev:1.19, 2002-08-11T19:52:25]:
- Added declaration of new function MenuCmd_MergeDatabases
epgui/pifilter.c [rev:1.59, 2002-08-11T19:52:31]:
- Made backwards compatible with Tk8.3 again: replaced const with CONST84
epgui/pilistbox.c [rev:1.70, 2002-08-11T19:52:37]:
- Adapted for interface change to PiOutput_AppendShortAndLongInfoText()
epgui/epgtabdump.c [epgui/dumptext.c, rev:1.1, 2002-08-11T19:53:12]:
- Initial revision
epgui/epgtabdump.h [epgui/dumptext.h, rev:1.1, 2002-08-11T19:53:15]:
- Initial revision
epgui/xawtv.c [rev:1.25, 2002-08-14T19:56:55]:
- Xawtv_QueryClass(): added XAWDECODE as recognized window class
epgctl/epgversion.h [rev:1.24, 2002-08-17T16:36:32]:
- set to version 2.2.0
tvsim/vbirec_main.c [rev:1.13, 2002-08-17T19:18:14]:
- Made backwards compatible with Tck8.3 again: replaced const with CONST84
tvsim/tvsim_main.c [rev:1.11.1.1, 2002-08-17T19:19:17]:
- Removed multi-card support - 2.2.0 release branch
epgui/menucmd.c [rev:1.83, 2002-08-17T19:22:57]:
- Made backwards compatible with Tck8.3 again: replaced const with CONST84
epgui/wintvcfg.c [rev:1.8, 2002-08-17T19:22:57]:
- Made backwards compatible with Tck8.3 again: replaced const with CONST84
epgui/pioutput.c [rev:1.19, 2002-08-17T19:25:45]:
- Fixed interface to PiOutput_AppendShortAndLongInfoText()
- now gets boolean param isMerged instead of accessing global pUiDbContext
- adapted 2 calls to that function (not really cleanly yet)
- Also: made backwards compatible with Tk8.3 again: replaced const with CONST84
epgui/pioutput.h [rev:1.7, 2002-08-17T19:25:53]:
- Fixed interface to PiOutput_AppendShortAndLongInfoText()
- now gets boolean param isMerged instead of accessing global pUiDbContext
Makefile.win32 [rev:1.26, 2002-08-17T19:37:38]:
- renamed tcl & tk library directory into xx8.3.4 from xx8.3.2
    scripts have been merged with the new version
- corrected names of generated zip files
nxtvepg.pod [rev:1.73, 2002-08-17T19:39:01]:
- removed "=for html" section - caused more work than use
- note: HTML header is checked in in www subdirectory
nxtvepg.spec [rev:1.6, 2002-08-17T19:39:47]:
- set version to 2.2.0
- updated list of Nextview providers
CHANGES [rev:1.25, 2002-08-18T19:56:26]:
- updated for release 2.2.0
TODO [rev:1.19, 2002-08-18T19:56:47]:
- updated for release 2.2.0
www/index-de.html [rev:1.34, 2002-08-18T20:06:37]:
- updated for release 2.2.0
- added "since 2.0.0" after "NEW" tags
www/index.html [rev:1.45, 2002-08-18T20:06:37]:
- updated for release 2.2.0
- added "since 2.0.0" after "NEW" tags
www/changelog.html [rev:1.34, 2002-08-18T20:06:46]:
- added release note for version 2.2.0
www/pre-releases.html [rev:1.12, 2002-08-18T20:06:55]:
- removed all content after release of version 2.2.0
www/man.html [rev:1.18, 2002-08-18T20:07:00]:
- updated for version 2.2.0
www/nefkom-src-index.html [rev:1.7, 2002-08-18T20:07:06]:
- added release 2.2.0
- removed all old minor releases except the last one per major
www/tripod-src-index.html [rev:1.8, 2002-08-18T20:07:12]:
- added release 2.2.0
- removed file nxtvepg-1.8-win.zip to free space
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_2_2_0 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgvbi/ttxdecode.c [rev:1.51, 2002-08-24T13:54:38]:
- bugfix TtxDecode_StartEpgAcq(): set pVbiBuf->obsolete1 = TRUE
- for K!TV backwards compatibility
epgctl/epgacqctl.c [rev:1.75, 2002-08-24T13:54:56]:
- fixed function header comment for EpgAcqCtl_Suspend()
epgui/epgmain.c [rev:1.94, 2002-08-24T13:55:43]:
- major bugfix: increased the size og the global "comm" var from 1024 to 2048
    required for short-info description display (preliminary fix)
- bugfix EventHandler_SigHup(): added check if scan is running
    else acq was started while scan was running
- withdraw main window until all GUI modules initialized
    due to variable-width netname column
epgui/epgmain.h [rev:1.20, 2002-08-24T13:55:46]:
- major bugfix: increased the size og the global "comm" var from 1024 to 2048
    required for short-info description display (preliminary fix)
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.171, 2002-08-24T13:56:58]:
- Implemented variable-width network-name column
- netname config dialog: update netname column width
- new proc UpdateNetnameColumnWidth: update width of network name column
- LoadRcFile: removed call to ApplySelectedColumnList; moved into pioutput.c
- reduced minimum netname column width from 71 to 60
- Also:
- improved EPG scan start refusal message for client/server mode
- proc FilterMenuAdd_Themes adapted for change in C_GetPdcString:
    returns now "#XX" for unknown themes instead of empty string;
    this was required for filter pretty print in filter config dialog
epgui/menucmd.c [rev:1.84, 2002-08-24T13:57:35]:
- bugfix ProvMerge_ParseNetwopList():
- do not return error if cfnetworps(0x00FF) is not defined
epgui/pioutput.c [rev:1.20, 2002-08-24T13:58:13]:
- Implemented variable-width network-name column
- added new function PiOutput_SetNetnameColumnWidth(): determine the required
    width for the network name column and update the display
- also added Tcl interface proc "C_PiOutput_SetNetnameColumnWidth"
- PiOutput_PrintColumnItem(): removed limit for netname char count
- init: added call to new func PiOutput_SetNetnameColumnWidth();
    hence removed call to PiOutput_CfgColumns()
- Also:
- PiOutput_PrintColumnItem() PIBOX_COL_THEME: improved for Kabel-1:
    empty theme column when "movie" filter set and only themes #1 and "movie"
epgui/pioutput.h [rev:1.8, 2002-08-24T13:58:16]:
- Implemented variable-width network-name column
- added new function PiOutput_SetNetnameColumnWidth()
epgui/uictrl.c [rev:1.32, 2002-08-24T13:59:08]:
- UiControl_AiStateChange(): added call to PiOutput_SetNetnameColumnWidth()
nxtvepg.pod [rev:1.74, 2002-08-24T14:15:08]:
- basic browsing: added note how to adapt size of PI listbox
- network name config: added note about automatic adaption of network name
    column in main window
Makefile [rev:1.46, 2002-08-24T14:15:22]:
- updated flags for linking statically (i.e. w/o shared libs)
epgui/pifilter.c [rev:1.60, 2002-08-24T14:17:45]:
- Tcl proc C_GetPdcString:
- return theme # instead of empty string for undefined themes codes
- this was required for filter pretty print in filter config dialog
epgctl/epgversion.h [rev:1.25, 2002-08-24T14:18:22]:
- set to version 2.2.1 (emergency bugfix release)
CHANGES [rev:1.26, 2002-08-24T15:29:34]:
- updated for release 2.2.1
TODO [rev:1.20, 2002-08-24T15:29:39]:
- updated for release 2.2.1
www/man.html [rev:1.19, 2002-08-24T15:46:28]:
- updated for version 2.2.1
www/changelog.html [rev:1.35, 2002-08-24T15:46:49]:
- added release note for version 2.2.1
www/nefkom-src-index.html [rev:1.8, 2002-08-24T15:46:57]:
- added release 2.2.1
www/tripod-src-index.html [rev:1.9, 2002-08-24T15:47:03]:
- added src and win release 2.2.1 (no tvsim, 2.2.0 still valid)
- removed nxtvepg-1.9-win.zip to save space
www/index-de.html [rev:1.35, 2002-08-24T15:47:15]:
- updated for release 2.2.1
- news section: removed release notes older than 0.7.4
www/index.html [rev:1.46, 2002-08-24T15:47:15]:
- updated for release 2.2.1
- news section: removed release notes older than 0.7.4
nxtvepg.spec [rev:1.7, 2002-08-24T15:49:09]:
- set version to 2.2.1
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_2_2_1 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgui/epgmain.c [rev:1.95, 2002-08-28T17:23:30]:
- syntax fix function signal_handler():
- missing #ifdef USE_DAEMON around call to EpgNetIo_Logger()
epgui/menucmd.c [rev:1.85, 2002-08-28T18:43:40]:
- fixed MenuCmd_GetAiNetwopList() for the case that UI db has no AI
- return empty list
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.172, 2002-08-28T18:43:57]:
- bugfix network name dialog: $netname_popup was set too early, and remained
    set if dialog was aborted with error message
- added "none" to empty filter menus (when no provider available):
    CreateSeriesNetworksMenu, UpdateNetwopFilterBar
epgui/uictrl.c [rev:1.33, 2002-08-28T18:44:04]:
- UiControl_AiStateChange():
- clear filter menus if no provider available:
    added call to PiFilter_UpdateNetwopList()
epgui/pifilter.c [rev:1.61, 2002-08-31T12:34:37]:
- Implemented new filter type "duration"
- new function SelectMinMaxDuration()
- PiFilter_Reset(): added reset for filter type "dursel"
- added new Tcl proc C_SelectMinMaxDuration
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.173, 2002-08-31T13:25:34]:
- Implemented new filter type "duration"
- new filter menu entry: call new proc PopupDurationFilterSelection
- new shortcut filter type "dursel"
epgui/menucmd.c [rev:1.86, 2002-08-31T18:00:59]:
- MenuCmd_StartEpgScan(): improved WIN32 error message
- when Bt8x8 driver is in slave mode (due to connected TV app) and
    tuner not granted, suggest to quit the TV app
- else display the generic "device open failed" message
epgui/pioutput.c [rev:1.21, 2002-08-31T18:03:47]:
- bugfix PiOutput_ExtCmdVariable()
- copy of modifier string was not zero terminated
    due to misunderstanding of strncpy()
epgui/pilistbox.c [rev:1.71, 2002-09-01T09:05:03]:
- Optimizations
- converted all Tcl procs to obj interface
- split scroll function into line up/down, page up/down and moveto
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.174, 2002-09-01T09:17:34]:
- Post-fix new duration filter: add duration reset to proc ResetFilterState
epgctl/debug.c [rev:1.15, 2002-09-01T10:58:13]:
- internal reorg only:
- moved #include debug.h below #include of std headers
- consequently moved/split #if DEBUG_SWITCH == ON
epgctl/debug.h [rev:1.13, 2002-09-01T10:59:17]:
- Added macros for Tcl/Tk script background error handling
- new macros (formerly functions in epgmain.c)
    eval_check, eval_global, debugTclErr
- controlled by debug switch DEBUG_SWITCH_TCL_BGERR == ON
epgui/epgmain.c [rev:1.96, 2002-09-01T11:02:17]:
- reduced size of comm buffer back down to 1000 bytes
    the handling of long textx is solved cleanly now in pilistbox.c
- removed global functions eval_check(), eval_global()
    now defined as macros around Tcl_Eval() in debug.h
epgui/epgmain.h [rev:1.21, 2002-09-01T11:02:17]:
- reduced size of comm buffer back down to 1000 bytes
    the handling of long textx is solved cleanly now in pilistbox.c
- removed global functions eval_check(), eval_global()
    now defined as macros around Tcl_Eval() in debug.h
epgui/menucmd.c [rev:1.87, 2002-09-01T11:36:04]:
- Optimizations:
- converted all Tcl procs to object based interface
- pass results in objects (esp. lists)
epgui/pifilter.c [rev:1.62, 2002-09-01T11:36:04]:
- Optimizations:
- converted all Tcl procs to object based interface
- pass results in objects (esp. lists)
epgdb/epgdbfil.c [rev:1.35, 2002-09-02T19:47:35]:
- Implemented new filter type FILTER_DURATION
- added new interface function EpgDbFilterSetMinMaxDuration()
- handle filter in EpgDbFilterMatches()
epgdb/epgdbfil.h [rev:1.20, 2002-09-02T19:47:43]:
- Implemented new filter type FILTER_DURATION
- added new interface function EpgDbFilterSetMinMaxDuration()
- added #define FILTER_DURATION; adapted FILTER_ALL
- added state vars duration_min, duration_max
tvsim/tvsim_main.c [rev:1.12, 2002-09-02T19:50:23]:
- Adapted eval_check() and comm buffer equivalently to epgmain.c:
- made eval_check() into a macro, defined in debug.h
- use new macro debugTclErr() to report Tcl_Eval() failure
- added overflow check for comm buffer
- removed direct access to interp->result: use Tcl_GetStringResult instead
tvsim/vbirec_main.c [rev:1.14, 2002-09-02T19:50:31]:
- Adapted eval_check() and comm buffer equivalently to epgmain.c:
- made eval_check() into a macro, defined in debug.h
- use new macro debugTclErr() to report Tcl_Eval() failure
- added overflow check for comm buffer
- removed direct access to interp->result: use Tcl_GetStringResult instead
epgctl/debug.h [rev:1.14, 2002-09-02T19:50:46]:
- added overflow check for comm buffer in eval_check macros
- fixed/improved debugTclErr macro
epgui/epgmain.c [rev:1.97, 2002-09-02T20:00:08]:
- Additional fixes/improvements in Tcl command evaluation:
- added overflow check for comm buffer: last byte set to 0
    hence now use TCL_COMM_BUF_SIZE instead of sizeof(comm)
- use new macro debugTclErr() to report Tcl_Eval() failure
- removed direct access to interp->result: use Tcl_GetStringResult() instead
    because eval_check now uses Tvl_EvalEx() which doesn't copy the result
epgui/epgmain.h [rev:1.22, 2002-09-02T20:00:14]:
- Additional fixes/improvements in Tcl command evaluation:
- added overflow check for comm buffer
    #define TCL_COMM_BUF_SIZE, to be used instead of sizeof(comm)
epgui/pioutput.c [rev:1.22, 2002-09-05T11:02:37]:
- bugfix PiOutput_CacheThemesMaxLen() for columns width smaller < 3 chars
- use object based Tcl_GetVar2Ex() to access Tcl var "pilistbox_cols"
- use TCL_COMM_BUF_SIZE instead of sizeof(comm) due to overflow check byte
epgui/pilistbox.c [rev:1.72, 2002-09-05T11:04:39]:
- Use object based Tcl interface for insertions into text widgets
- new module global array tcl_obj[] to cache objects
    allocated in Create(), freed in Destroy()
- new function PiListBox_InsertText() for text insertions
epgui/pifilter.c [rev:1.63, 2002-09-05T11:05:09]:
- More fixes in Tcl command evaluation:
- use TCL_COMM_BUF_SIZE instead of sizeof(comm) due to overflow check byte
- removed direct access to interp->result: use Tcl_GetStringResult() instead
    because eval_check now uses Tcl_EvalEx() which doesn't copy the result
epgui/menucmd.c [rev:1.88, 2002-09-05T11:08:43]:
- More fixes in Tcl command evaluation:
- use TCL_COMM_BUF_SIZE instead of sizeof(comm) due to overflow check byte
- use new macro debugTclErr() to report Tcl_Eval() failure
- removed direct access to interp->result: use Tcl_GetStringResult() instead
    because eval_check now uses Tcl_EvalEx() which doesn't copy the result
- use object based Tcl_GetVar2Ex() to access frequently used Tcl variables
    cfnetwops, prov_merge_cnis, prov_selection, acq_mode_cnis
- Fix ProvMerge_ParseConfigString():
- added missing Tcl_Free() after Tcl_SplitList()
epgvbi/btdrv4linux.c [rev:1.31, 2002-09-06T10:11:02]:
- BtDriver_DecodeFrame(): added debug output in case of short reads on /dev/vbi
epgdb/epgstream.c [rev:1.22, 2002-09-06T10:29:11]:
- EpgStreamDecodePacket():
- [changes done at the occasion of decoding errors on Kabel1]
- if packet < lastPackNo is encounterd, discard all following packets
    because probably a page header was missed
- after the end of a block don't start decoding at the index given by BP
    instead continue directly behind the block
- accept filler bytes not only behind a block; moved the FB decoding to the
    front of the while (BP < 40) loop.
- improved many debug output strings
epgdb/epgblock.c [rev:1.45, 2002-09-06T13:17:51]:
- bugfix ApplyEscapes:
- need to handle more than one ESCAPE per text index
- e.g. on Kabel1 multiple Newlines are inserted at one position
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.175, 2002-09-06T15:07:13]:
- Allow to manually resize PI listbox columns
- columns can now be resized
    new procs ColumnHeaderMotion, ColumnHeaderResize
- removed proc UpdateNetnameColumnWidth: dropped auto-resize for network column
- proc ApplySelectedColumnList: removed "mode" parameter
    proc PopupColumnSelection now uses new wrapper proc instead:
    ApplyColumnSelection
- added new elem "pilistbox_col_widths" to rc/ini file
- bugfix ApplySelectedColumnList: when re-enabling display of "header buttons"
    via the Configure menu the old pseudo-frame was not destroyed, hence the
    window had twice the requested size
- bugfix xawtv config dialog: duration setting was suppressed for popup
    type #2 (VTX*2) instead of #3 (TITLE_MSG)
epgui/menucmd.c [rev:1.89, 2002-09-06T15:07:57]:
- Allow to manually resize PI listbox columns
- SetUserLanguage(): removed call to obsolete PiOutput_CacheThemesMaxLen()
epgui/pilistbox.c [rev:1.73, 2002-09-06T15:08:59]:
- PiListBox_InsertItem(): adapted for resizable listbox columns
- moved loop across columns into pioutput.c
    because that module caches the module width internally and handles
    cutting off the text it it's too wide
- call new function PiOutput_PrintColumnItems():
    wrapper for PiOutput_PrintColumnItem()
epgui/pioutput.c [rev:1.23, 2002-09-06T15:09:05]:
- Allow to manually resize PI listbox columns
- declared new type PIBOX_COL_CFG to hold column configuration:
    contains both type and width for each column
- replaced config cache variable pPiboxCols with pPiboxColCfg
- new function PiOutput_PrintColumnItems() for PI listbox module:
    checks pixel width of column text, cuts off if neccessary
- fix PiOutput_PrintColumnItem: removed shortening of theme strings for column
    width: must not be done here because the same func is used for HTML output
- PiOutput_CfgColumns(): added caching of column widths from Tcl var colsel_tabs
    fetch col types from pilistbox_cols instead of colsel_selist
- removed obsolete function PiOutput_SetNetnameColumnWidth():
    auto-resizeing was dropped; user must set netname col width manually now
- removed obsolete function PiOutput_CacheThemesMaxLen():
    width is now determined dynamically for all columns; cache is obsolete;
    removed use of cache in PiOutput_PrintColumnItem()
- adapted to changed interface to Tcl proc ApplySelectedColumnList:
    removed mode parameter, renamed into UpdatePiListboxColumns
epgui/pioutput.h [rev:1.9, 2002-09-06T15:09:10]:
- Allow to manually resize PI listbox columns
- removed declaration of obsolete functions PiOutput_CacheThemesMaxLen
    and PiOutput_SetNetnameColumnWidth
- replaced PiOutput_PrintColumnItem() with PiOutput_PrintColumnItems()
    which i a wrapper for the former one
epgui/uictrl.c [rev:1.34, 2002-09-06T15:09:35]:
- Allow to manually resize PI listbox columns
- dropped automatic resizing of netname column
- UiControl_AiStateChange(): removed call to obsolete function
    PiOutput_SetNetnameColumnWidth()
epgui/pifilter.c [rev:1.64, 2002-09-07T11:12:25]:
- bugfix SelectProgIdx():
- check for TCL_OK was inverted in a2i conversion
- function always failed (when used correctly)
epgctl/epgscan.c [rev:1.29, 2002-09-07T17:41:34]:
- Bugfix "refresh" mode:
- providers that were identified via AI reception were not counted
- i.e. provider count in summary was wrong
epgdb/epgblock.c [rev:1.46, 2002-09-08T18:52:50]:
- Changed ApplyEscapes: do not remove all instances of '\n' anymore
- if there's two NL escapes or a completely empty line, a paragraph break
    is inserted in the output
- note that this requires adaptions in the downstream processing function
epgui/epgtabdump.c [epgui/dumptext.c, rev:1.2, 2002-09-08T18:54:22]:
- EpgTabDumpPiInfoTextCb():
- PI description output adapted for policy change in database:
- both short and long info strings may now contain newline control characters
    (even if database is not merged) -> now replaced with " // "
epgui/pioutput.c [rev:1.24, 2002-09-08T18:54:32]:
- PiOutput_HtmlAppendInfoTextCb()
- PI description output adapted for policy change in database:
- both short and long info strings may now contain newline control characters
    (even if database is not merged): insert HTML paragraph break: </p><p>
epgui/pioutput.c [rev:1.25, 2002-09-08T19:55:59]:
- Tcl/Tk optimization: converted Tcl procs to object based interface
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.176, 2002-09-10T18:35:01]:
- Added various key bindings in main window:
- CTRL-F, CTRL-C, Esc, Return, digits 0-9
- Added key bindings for shortcut and network listboxes
- Return : same as spcae, i.e. activate the filter
- Escape : clear selection
- FocusOut: set the selected item as filter
    this is a fix! before the state was inconsistent after a selection via keybd.
- Improved key binding and focus in dialog popup windows:
- focus always set to entry widget, if present;
    else to Ok button - mark Ok button as default
- bind Return and Escape button to Ok and Abort, or equivalent
- new proc SelectTextOnFocus: for small entry fields select the complete
    old content to simplify replacing it
- use Tcl internal proc tkButtonInvoke for key bindings:
    this gives the user visual feedback which button's functionality is executed
- network selection and merge dialogs: provide access to popup menus via ALT
- proc SelBoxCreate:
- use virtual event <<ListboxSelect>> to trigger updates
- allow CTRL-Up/down to change ordering in right list by keyboard
- Column header resizing:
- moved binding from Button #2 to #1
- Also:
- new tag "paragraph" for short-info text widget: enable pargraph spacing
- Provider selection dialog:
    enlarged text widget for network list from 4 to 5 lines because of Kabel1
epgui/menucmd.c [rev:1.90, 2002-09-11T12:40:38]:
- Fixes & improvements in Tcl interface
- convert file names for dumps and logs from UTF8 to local encoding
- read netacq_enable as object (writes are still strings; TODO)
epgui/epgtabdump.c [epgui/dumptext.c, rev:1.3, 2002-09-11T12:40:46]:
- Fix AI export: use user-configured network names
epgui/pifilter.c [rev:1.65, 2002-09-11T12:40:52]:
- Fix use user-configured network names in Tcl var "cfnetnames"
- as appendix to series names
- in context menu
epgui/pioutput.c [rev:1.26, 2002-09-11T12:41:01]:
- HTML dump: convert file name from UTF8 to local encoding
- context menu: convert command line from UTF8 to local before processing it;
    use object based functions for Tcl variable "ctxmencf"
epgui/pilistbox.c [rev:1.74, 2002-09-11T12:41:07]:
- Improved formatting in short-info text widget:
- for plain paragraphs use new tag "paragraph" (has -spacing3 4)
- added new string object TCLOBJ_STR_PARAGRAPH for text insertions
epgdb/epgstream.c [rev:1.23, 2002-09-13T08:36:44]:
- added \n to one dprintf
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.177, 2002-09-14T18:10:58]:
- EPG scan:
- upon dialog open insert text into message window that explains the
    refresh option (in addition to "Press start")
- added proc EpgScanDeleteProvider: callback for "Remove provider" button
    in the scan message window, which are now inserted by the scan handler
    for "dead" providers
- Timescale window width is now automatically adapted to max. day count in AI
- proc TimeScale_Open and others: additional param scaleWidth
- proc TimeScale_CreateCanvas: in update mode, adapt canvas width
- all "overlap" checks use max X coord 9999
- split off new proc TimeScale_ClearDateScale from TimeScale_DrawDateScale:
    used to clear and resize canvas when no PI are in the db
- Bugfixes
- timescale canvas height was one pixel too small (long-info was cut off)
- in column resizing proc ColumnHeaderMotion: resizing columns of <15 pixels;
    check for header button popup menu was broken
- proc FilterMenuAdd_Time: must convert hour values to local time for menu text
    (note: there also a bugfix in C_PiListBox_GotoTime: did assume absolute time
    parameters were local, but actually are UTC)
epgui/pilistbox.c [rev:1.75, 2002-09-14T18:11:07]:
- branches:  1.75.1;
- Bugfix PiListBox_GotoTime():
- did assume absolute time parameters were local, but actually are UTC
- also changed: search first PI *around* the given time, not starting after
epgui/timescale.c [rev:1.8, 2002-09-14T18:11:27]:
- Timescale window width is now automatically adapted to max. day count in AI
- removed constant decls TSC_WIDTH_IN_PIXELS, TSC_WIDTH_IN_SECS;
    added new elements widthPixels and widthSecs to tscaleState
- use TSC_SECS_PER_PIXEL for conversions between time and pixel position
- pass scale width to Tcl procs TimeScale_Open and others
- new helper func TimeScale_GetDayCount, used by TimeScale_CreateOrRebuild()
- Also: converted command params & results to object-based Tcl interface
epgui/xawtv.c [rev:1.26, 2002-09-14T18:11:34]:
- Improved parsing of .xawtv Xawtv_GetFreqTab()
- split config files by section headers
- additionally evaluate input, norm and fine parameters
- split off freq list handling into separate function:
    Xawtv_AddFreqToBuf(), copied from wintvcfg.c
- error messages: added param -parent .epgscan
epgui/menucmd.c [rev:1.91, 2002-09-14T18:11:59]:
- Added possibility to remove provider databases after EPG scan in refresh mode:
- new Tcl callback function RemoveProviderDatabase(): invoked when user
    presses the "Remove provider" button in the EPG scan output window
- new EPG scan handler callback function MenuCmd_AddProvDelButton():
    Insert "Remove provider" button into EPG scan message output text
- added ptr param MenuCmd_AddProvDelButton() to EpgScan_Start()
epgctl/epgacqctl.c [rev:1.76, 2002-09-14T18:13:00]:
- Adapted for changed interface to btdrv:
- merged BtDriver_SetInputSource() into BtDriver_TuneChannel()
- to support Secam TV norm handling
epgctl/epgscan.c [rev:1.30, 2002-09-14T18:13:12]:
- adapted for changed interface to btdrv: merged BtDriver_SetInputSource()
    into BtDriver_TuneChannel(): to support Secam TV norm handling
- refresh mode: always wait for AI, never skip with "known CNI"
- refresh mode: in case of timeout (no AI) offer to remove the provider db;
    added EpgScan_Start() parameter pDelCallback() and type EPGSCAN_DELCB:
    add "Remove this provider button" to message output window
- improved debug output in case tuner frequency is updated
epgctl/epgscan.h [rev:1.12, 2002-09-14T18:13:19]:
- Refresh mode: in case of timeout (no AI) offer to remove the provider db:
- new callback type EPGSCAN_DELCB to add "Remove this provider button" to
    message output window
- EpgScan_Start(): added parameter pDelCallback()
epgctl/mytypes.h [rev:1.17, 2002-09-14T18:13:33]:
- Added debug switch DUMP_TTX_PACKETS: enable dump of all incoming TTX packets
epgctl/epgctxctl.c [rev:1.22, 2002-09-14T18:13:43]:
- Added new interface function EpgContextCtl_Remove():
- Remove a provider from the cache and remove the database
- used by the EPG scan in refresh mode: "Remove this provider" buttons
epgctl/epgctxctl.h [rev:1.15, 2002-09-14T18:13:43]:
- Added new interface function EpgContextCtl_Remove():
- Remove a provider from the cache and remove the database
- used by the EPG scan in refresh mode: "Remove this provider" buttons
epgdb/epgdbsav.c [rev:1.48, 2002-09-14T18:17:46]:
- Added new function EpgDbRemoveDatabaseFile( uint cni )
epgdb/epgdbsav.h [rev:1.33, 2002-09-14T18:17:46]:
- Added new function EpgDbRemoveDatabaseFile( uint cni )
nxtvepg.pod [rev:1.75, 2002-09-14T18:18:33]:
- added description for Secam TV norm in EPG scan ("getting started" and "scan")
    and TV card input config dialog
- added description of key bindings in "Basic browsing" and "Seect networks"
- Statistics, timescales: removed remark that scale cover only 5 days;
    added explanation of short & long info
- added description of new duration filter type
- added remark how to remove obsolete providers in EPG scan "refresh" mode and
    network selection dialog
- added note how to resize PI listbox columns;
    removed note about automatic resizing of the network name column
epgdb/epgdbmerge.c [rev:1.25, 2002-09-14T18:22:50]:
- Improved EpgDbMergeAiBlocks:
- set dayCount field for each netwop to max. between merged netwops
- (needed to determine timescale window width)
epgvbi/vbidecode.c [rev:1.31, 2002-09-14T19:00:36]:
- Adapted for new debug option DEBUG_SWITCH_DUMP_TTX_PACKETS
- pass VBI line number to TtxDecode_AddPacket()
epgvbi/tvchan.c [rev:1.8, 2002-09-14T19:00:48]:
- Adapted for new multi-norm support:
- TvChannels_GetNext(): encode VIDEO_MODE_SECAM in high-byte of frequency word
    if the French channel table is used; the TV norm is evaluated in the btdrv
- TvChannels_NameToFreq(): added loop across both tables:
    before, French channel IDs were not recognized when the other freq.table
    was selected for the scan and vice-versa, which was confusing.
- added new enum TVCHAN_FREQ_TAB_IDX for the 2 frequency tables
epgvbi/ttxdecode.h [rev:1.27, 2002-09-14T19:01:47]:
- Added debug option DEBUG_SWITCH_DUMP_TTX_PACKETS:
- TtxDecode_AddPacket(): added VBI line number as parameter
epgvbi/ttxdecode.c [rev:1.52, 2002-09-14T19:01:50]:
- Added debug option DEBUG_SWITCH_DUMP_TTX_PACKETS:
- if enabled, all incoming teletext packets are dumped by the slave
- all packets are dumped (again) when extracted from the ring buffer
    by the master
- line and frame number are additionally saved for packets in the ring buffer
    in TtxDecode_BufferAdd()
epgvbi/btdrv4win.c [rev:1.25, 2002-09-14T19:03:05]:
- Added debug option DEBUG_SWITCH_DUMP_TTX_PACKETS:
- if enabled, all incoming teletext packets are dumped by the slave
- all packets are dumped (again) when extracted from the ring buffer
    by the master
- line and frame number are additionally saved for packets in the ring buffer
    in TtxDecode_BufferAdd()
tvsim/tvsim_main.c [rev:1.13, 2002-09-14T19:03:12]:
- Adapted for changed interface to btdrv:
- BtDriver_SetInputSource() was merged into BtDriver_TuneChannel()
- to support Secam TV norm handling (multi-norm tuners)
epgvbi/btdrv.h [rev:1.24, 2002-09-14T19:03:38]:
- merged BtDriver_SetInputSource() into BtDriver_TuneChannel()
- added definition of VIDEO_MODE_SECAM etc. for non-Linux systems
- added debug option DEBUG_SWITCH_DUMP_TTX_PACKETS:
    if enabled, add elems frame and line to VBI ring buffer
epgvbi/btdrv4dummy.c [rev:1.12, 2002-09-14T19:03:45]:
- Adapted for changed interface to (Linux) btdrv:
- merged BtDriver_SetInputSource() into BtDriver_TuneChannel()
- to support Secam TV norm handling
epgvbi/btdrv4linux.c [rev:1.32, 2002-09-14T19:03:59]:
- Added support for multi-norm PAL/SECAM tuners:
- made BtDriver_SetInputSource() local only, called by BtDriver_TuneChannel()
- video norm is encoded in high-byte of frequency parameter
    currently only used for linux; discarded in NetBSD
- NOTE: removed workaround for bttv bug: setting of VIDEO_MODE_NTSC
    in VIDIOCSCHAN, because it's only needed when the module is given a PLL=#
    parameter in modules.conf
- keepOpen flag semantic changed: the device is no longer closed upon
    isTuner==FALSE, i.e. the caller must call the close function.
- BtDriver_QueryChannel(): now queries also the TV norm and returns it
    in the high-byte of the frequency result
epgui/pioutput.c [rev:1.27, 2002-09-16T11:56:50]:
- branches:  1.27.1;
- Added output buffer overflow check in PiOutput_PrintColumnItem():
- added param maxLen
- revised output string handling: column types with static text output
    now simply assign to pResult, which is appended at the end of the function;
    only types with sprintf still print directly into the output buffer and
    need to check the maxLen individually
- PiOutput_PrintColumnItems(): check maxLen before appending \t and \n
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.178, 2002-09-16T11:57:21]:
- EPG scan: suppress hint about "refresh mode" in output message text widget
    if there are no providers yet, i.e. if the mode is disabled
- fixed PI listbox column resizing for WIN32: check where the mouse button
    was pressed; if outside proximity, disable resize mode until button release;
    this is to avoid that resize mode is entered while the user is using the
    popdown menu
- also: globally renamed variable "column_head_ptr" into "colsel_resize_phase"
- also: gloabbly replaced cursor "left_ptr" with "top_left_arrow"
- Implemented Zoom capability for timescale windows
    + added buttons to the first row, left to the date scale
      use new callback function C_TimeScale_Zoom
    + calculate position of date labels dynamically depending on available space
    + shorten the date labels if neccessary
epgui/timescale.c [rev:1.9, 2002-09-16T11:57:25]:
- Implemented Zoom capability for timescale windows
- removed constant TSC_SECS_PER_PIXEL; replaced with min/default/max definitions
- added new element secsPerPixel to tscale states
- added new Tcl callback function TimeScale_Zoom()
epgui/epgmain.c [rev:1.98, 2002-09-16T11:57:33]:
- Added bitmaps "zoom_in" and "zoom_out" for timescale windows
epgui/pifilter.c [rev:1.66, 2002-09-16T16:28:07]:
- branches:  1.66.1;
- Added new Tcl callback function GetAllUsedSortCrits()
- Return a list of sorting criterion codes which are used in the database
- used by new "Load all used" button in sorting criterion filter dialog
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.179, 2002-09-16T17:03:08]:
- Added "Load all used" button to sorting criterion filter dialog
- new callback proc LoadAllUsedSortCrits
- also added comments to existing callback procs & improved key bindings
- made dialog resizable & fixed use of pack -fill and -expand option
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.180, 2002-09-16T19:28:37]:
- branches:  1.180.1;
- Implemented search hisotry access in text search filter dialog
- history menu is posted below the search text entry field
    by up/down cursor keys or new arrow button at the right
- new proc SubStrPopupHistoryMenu
nxtvepg.pod [rev:1.76, 2002-09-16T19:30:41]:
- chapter on filters: added description of:
- search text history access in text search filter dialog
- classes in respect to sorting criteria
- "Load all used" button in sort crit filter dialog
epgui/wintvcfg.c [rev:1.9, 2002-09-17T14:40:12]:
- Adapted for new tuner table in K!TV 1.2.0.3:
- K!TV now uses the same table as DScaler
- swapped K!TV INI and DScaler INI parsing functions to avoid fwd reference
- also: bugfix in manual tuner setting parsing (sscanf call was missing)
nxtvepg.spec [rev:1.8, 2002-09-17T15:05:17]:
- set version to 2.3.0
epgctl/epgversion.h [rev:1.26, 2002-09-17T15:06:50]:
- set version to 2.3.0
epgctl/debug.h [rev:1.15, 2002-09-17T15:22:12]:
- fixed debugTclErr() macro for non-debug modes:
- 2nd formal arg STR was missing in 2 declarations
README [rev:1.27, 2002-09-17T16:15:39]:
- Updated win32 driver error section
- revised "another app may already be using the driver" point
- nxtvepg now comes with DSdrv 4.01 which allows multiple clients
- however for compatibility reasons nxtvepg does not insist on the
    latest driver, hence the problem may still occur; since it's
    unlikely though, the point was moved from 3. to 6.
epgctl/debug.c [rev:1.16, 2002-09-17T16:16:04]:
- Fix for Win32 w/ debugging off
- requires #include windows.h for MessageBox
www/pre-releases.html [rev:1.13, 2002-09-17T16:32:55]:
- added alpha release of 2.3.0
CHANGES [rev:1.27, 2002-09-17T17:58:27]:
- updated for release 2.3.0
TODO [rev:1.21, 2002-09-17T17:58:44]:
- updated for release 2.3.0
www/changelog.html [rev:1.36, 2002-09-17T18:00:01]:
- added release note for version 2.3.0
www/pre-releases.html [rev:1.14, 2002-09-17T18:00:19]:
- removed 2.3.0a1 after release of 2.3.0 -> nothing available currently
www/index-de.html [rev:1.36, 2002-09-17T18:00:58]:
- updated for release 2.3.0
- no description of new features in 2.3.0 tis time (nothing exciting)
- kept links to 2.2.1 as "last stable version"
www/index.html [rev:1.47, 2002-09-17T18:00:58]:
- updated for release 2.3.0
- no description of new features in 2.3.0 tis time (nothing exciting)
- kept links to 2.2.1 as "last stable version"
www/man.html [rev:1.20, 2002-09-17T18:02:16]:
- updated for version 2.3.0
www/nefkom-src-index.html [rev:1.9, 2002-09-17T18:02:36]:
- added release 2.3.0
- removed win and tvsim packages for 2.1.x and 2.2.0
www/tripod-src-index.html [rev:1.10, 2002-09-17T18:04:02]:
- added release 2.3.0
- removed win packages 1.10 through 1.12 due to quota
www/provnets.html [rev:1.17, 2002-09-17T18:04:34]:
- updated network lists of Kabel1, RTL2 and 3sat
images/zoom_in.xbm [rev:1.1, 2002-09-17T18:06:44]:
- Initial revision
images/zoom_out.xbm [rev:1.1, 2002-09-17T18:06:48]:
- Initial revision
www/index-de.html [rev:1.37, 2002-09-22T18:04:47]:
- added EuroNewsto list of German providers; added Kabel1 and 3sat to Swiss
    providers; they are not really new but the users did not understand why
    my separation concept (I wanted to list each provider only once, and for
    the "main target" country)
- added Quelle to TV manufacturer list (hint by Michael.Fuchs@tv-server.de)
- added hint that INI and database files can be copied across version updates
    on Win32 systems
www/index.html [rev:1.48, 2002-09-22T18:04:47]:
- added EuroNewsto list of German providers; added Kabel1 and 3sat to Swiss
    providers; they are not really new but the users did not understand why
    my separation concept (I wanted to list each provider only once, and for
    the "main target" country)
- added Quelle to TV manufacturer list (hint by Michael.Fuchs@tv-server.de)
- added hint that INI and database files can be copied across version updates
    on Win32 systems
www/nefkom-src-index.html [rev:1.10, 2002-09-22T18:56:13]:
- Added patches for the long-info overwrite-bug for 0.6.4 and 0.7.0
www/tripod-src-index.html [rev:1.11, 2002-09-22T18:56:13]:
- Added patches for the long-info overwrite-bug for 0.6.4 and 0.7.0
www/index-de.html [rev:1.38, 2002-09-22T18:56:21]:
- added notice about the long-info overwrite-bug in all versions up to 2.2.1;
    added links to patches for versions 0.6.4 and 0.7.0
- removed link to 2.2.1 in download section; upgraded 2.3.0 to stable.
www/index.html [rev:1.49, 2002-09-22T18:56:21]:
- added notice about the long-info overwrite-bug in all versions up to 2.2.1;
    added links to patches for versions 0.6.4 and 0.7.0
- removed link to 2.2.1 in download section; upgraded 2.3.0 to stable.
www/changelog.html [rev:1.37, 2002-09-22T18:56:34]:
- version 2.2.1: added links to patches for the long-info overwrite-bug
    for versions 0.6.4 and 0.7.0
- added one known bug for 2.3.0 (not analyzed yet)
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_2_3_0 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgui/pdc_themes.c [rev:1.9, 2002-09-26T06:38:26]:
- Corrected case of French PDC theme names (suggested by Thierry)
- first character of substantives upper-case, rest lower-case
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.181, 2002-09-27T21:06:55]:
- changed background color of listboxes, entries and text to lighter gray
- allow to change colors via resources
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.182, 2002-09-28T12:51:55]:
- Implemented user-defined columns
- added new proc PopupUserDefinedColumns and it's callback functions
- added images (array pi_img) & PI listbox color tags
- column selection dialog: split off proc FillColumnSelectionDialog
    also used by Apply callback in user-defined colum dialog
- invoke new proc DownloadUserDefinedColumnFilters after column or filter chg.
    using new pioutput.c proc C_PiFilter_ContextCacheCtl
- added new proc SelectSingleShortcut for DownloadUserDefinedColumnFilters
- added new global array usercols to rc/ini file (renamed/merged for rc)
epgui/pifilter.c [rev:1.67, 2002-09-28T12:52:02]:
- Implemented user-defined columns
- added cache for shortcut filter contexts: static global pFilterCache;
    added pUiFilterContext, former pPiFilterContext is now only delegating
    filter C_Select* functions either into the UI filter context or the cache
- new Tcl proc C_PiFilter_ContextCacheCtl {start|set|done} [idx]
    allows to switch to/from pUiFilterContext and clear the cache
- new function PiFilter_ContextCacheMatch(), used by pioutput.c
epgui/pifilter.h [rev:1.8, 2002-09-28T12:52:07]:
- Implemented user-defined columns
- new function PiFilter_ContextCacheMatch(), used by pioutput.c
epgui/pilistbox.c [rev:1.76, 2002-09-28T12:52:14]:
- Implemented user-defined columns
- removed PiListBox_InsertItem(): content moved into pioutput.c::
    PiOutput_PiListboxInsert() (former PiOutput_PrintColumnItems()):
    because now a line may be broken up, due to different formatting
    -> globally renamed all function calls
- removed obsolete pre-defined Tcl objects (pioutput.c keeps it's own objects)
epgui/pioutput.c [rev:1.28, 2002-09-28T12:52:21]:
- Implemented user-defined columns
- added array of pre-allocated Tcl objects (equivalently to pilistbox.c)
- added 3rd elem Tcl_Obj * pDefObj to listbox column config cache
- new helper function PiOutput_MatchUserCol()
- PiOutput_PrintColumnItem(): ignore new column type PIBOX_COL_USER_DEF
- PiOutput_CfgColumns():
    + split off helper function PiOutput_GetPiColumnType(): performance-optimized
      because it's also used in user-defined columns
    + added caching of reference to Tcl array element usercols for user-def. col.
- moved typedef PIBOX_COL_TYPES from header into C file
epgui/pioutput.h [rev:1.10, 2002-09-28T12:52:36]:
- Implemented user-defined columns
- renamed PiOutput_PrintColumnItems() into PiOutput_PiListboxInsert():
    merged with PiListBox_InsertItem()
- moved typedef PIBOX_COL_TYPES from heaer into C file
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.183, 2002-09-28T17:30:28]:
- added pink marker image for PI listbox
- added "Duration" column type to PI listbox (on request of Thierry)
- fix: update duration filter dialog when duration is changed via shortcut
- fix: time column header drop-down menu: NEXT works again
- date colummn header drop-down menu now is as long as PI in the database
- fix: update shortcut filter context cache for user-defined columns
    after changes in the shortcut dialogs have been applied
epgui/pioutput.c [rev:1.29, 2002-09-28T17:30:34]:
- added "Duration" column type to PI listbox (on request of Thierry)
epgui/pifilter.c [rev:1.68, 2002-09-28T17:31:05]:
- added Tcl callback proc C_GetLastPiTime
epgui/pilistbox.c [rev:1.77, 2002-09-28T17:31:13]:
- fixed "time" column header drop-down menu: added param to C_PiListBox_GotoTime
    to indicate whether to use start or stop time as limit
epgui/pioutput.c [rev:1.30, 2002-09-28T18:15:30]:
- bugfix PiOutput_PiListboxInsert(): added Tcl_IncrRefCount for objv[4]
epgui/pifilter.c [rev:1.69, 2002-09-28T18:15:56]:
- Tcl8.4 compatibility: added CONST84 to Tcl callback command argv
epgui/statswin.c [rev:1.62, 2002-09-28T18:15:56]:
- Tcl8.4 compatibility: added CONST84 to Tcl callback command argv
epgui/xawtv.c [rev:1.27, 2002-09-28T18:15:56]:
- Tcl8.4 compatibility: added CONST84 to Tcl callback command argv
epgui/pilistbox.c [rev:1.78, 2002-09-29T08:34:32]:
- Switched from Tcl_GetVar to object-based Tcl_GetVar2Ex in PiListBox_Resize()
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.184, 2002-09-29T08:40:18]:
- use grid to manage PI listbox column headers
    globally replaced .all.pi.colheads with .all.pi.list.colheads
- prepared to use panedwindow
- fix for Tk8.4: proc tkButtonInvoke renamed tk::ButtonInvoke
epgui/pilistbox.c [rev:1.79, 2002-09-29T09:46:26]:
- removed state changes (normal/disabled) from short-info window before and
    after content changes
- was obsolete because the short-info window no longer has the "Text" bindtag
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.185, 2002-09-29T09:46:32]:
- Made text selection in short-info work on Win32
- removed Text tag binding from the text widget; instead copy only event
    bindings which are required for scrolling and selection
- added -takefocus 0 to short-info scrollbar
epgdb/epgdbfil.c [rev:1.36, 2002-09-29T11:14:24]:
- Implemented new filter type "VPS/PDC"
- added mode function EpgDbFilterSetVpsPdcMode()
- implemented filter FILTER_VPS_PDC in EpgDbFilterMatches()
epgdb/epgdbfil.h [rev:1.21, 2002-09-29T11:14:24]:
- Implemented new filter type "VPS/PDC"
- added #define FILTER_VPS_PDC
- added mode function EpgDbFilterSetVpsPdcMode()
- added new elem vps_pdc_mode to filter context struct
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.186, 2002-09-29T11:14:45]:
- Implemented new filter type "VPS/PDC"
- new filter menu cascade with radiobuttons for global vpspdc_filt
- new PI listbox column header drop-down menu proc FilterMenuAdd_VpsPdc
- new shortcut filter type "vps_pdc"
epgui/pifilter.c [rev:1.70, 2002-09-29T11:14:53]:
- Implemented new filter type "VPS/PDC"
- new Tcl filter select function SelectVpsPdcFilter
- added filter keyword vps_pdc to PiFilter_Reset()
epgui/wintv.c [rev:1.12, 2002-09-29T17:16:49]:
- Tcl8.4 compatibility: added CONST84 to Tcl callback command argv
epgui/wintvcfg.c [rev:1.10, 2002-09-29T17:16:52]:
- Tcl8.4 compatibility: added CONST84 to Tcl callback command argv
epgui/pifilter.c [rev:1.71, 2002-09-29T17:22:34]:
- Optimization PiFilter_Reset():
- use Tcl_GetIndexFromObj() to map keyword string onto enum index
epgui/pioutput.c [rev:1.31, 2002-09-29T17:22:41]:
- Optimization PiOutput_GetPiColumnType():
- use Tcl_GetIndexFromObj() to map keyword string onto enum index
epgui/pdc_themes.c [rev:1.10, 2002-09-29T17:57:00]:
- fixed typo in 0x41 "Sportveranstaltungen"
epgdb/epgstream.c [rev:1.24, 2002-10-03T08:51:54]:
- removed \n in two debugX statements
images/circle_black.ppm [rev:1.1, 2002-10-03T09:03:02]:
- Initial revision
images/circle_blue.ppm [rev:1.1, 2002-10-03T09:03:02]:
- Initial revision
images/circle_cyan.ppm [rev:1.1, 2002-10-03T09:03:02]:
- Initial revision
images/circle_green.ppm [rev:1.1, 2002-10-03T09:03:02]:
- Initial revision
images/circle_pink.ppm [rev:1.1, 2002-10-03T09:03:02]:
- Initial revision
images/circle_red.ppm [rev:1.1, 2002-10-03T09:03:02]:
- Initial revision
images/circle_yellow.ppm [rev:1.1, 2002-10-03T09:03:02]:
- Initial revision
images/diamond_black.ppm [rev:1.1, 2002-10-03T09:03:02]:
- Initial revision
images/diamond_blue.ppm [rev:1.1, 2002-10-03T09:03:02]:
- Initial revision
images/diamond_cyan.ppm [rev:1.1, 2002-10-03T09:03:02]:
- Initial revision
images/diamond_green.ppm [rev:1.1, 2002-10-03T09:03:02]:
- Initial revision
images/diamond_pink.ppm [rev:1.1, 2002-10-03T09:03:02]:
- Initial revision
images/diamond_red.ppm [rev:1.1, 2002-10-03T09:03:02]:
- Initial revision
images/diamond_yellow.ppm [rev:1.1, 2002-10-03T09:03:02]:
- Initial revision
images/dot_black.ppm [rev:1.1, 2002-10-03T09:03:02]:
- Initial revision
images/dot_blue.ppm [rev:1.1, 2002-10-03T09:03:02]:
- Initial revision
images/dot_cyan.ppm [rev:1.1, 2002-10-03T09:03:02]:
- Initial revision
images/dot_green.ppm [rev:1.1, 2002-10-03T09:03:02]:
- Initial revision
images/dot_pink.ppm [rev:1.1, 2002-10-03T09:03:02]:
- Initial revision
images/dot_red.ppm [rev:1.1, 2002-10-03T09:03:02]:
- Initial revision
images/dot_yellow.ppm [rev:1.1, 2002-10-03T09:03:02]:
- Initial revision
www/index.html [rev:1.50, 2002-10-07T19:01:48]:
- added "nexttview" to the list of keywords,
- because it's a very typical mis-spelling
www/overload-de.html [rev:1.1, 2002-10-09T20:32:19]:
- Initial revision
www/overload.html [rev:1.1, 2002-10-09T20:32:19]:
- Initial revision
www/overload-de.html [rev:1.2, 2002-10-10T19:52:18]:
- removed request for mirrors
www/overload.html [rev:1.2, 2002-10-10T19:52:18]:
- removed request for mirrors
www/overload-de.html [rev:1.3, 2002-10-10T19:55:34]:
- added note that mirrors are now available
www/overload.html [rev:1.3, 2002-10-10T19:55:34]:
- added note that mirrors are now available
www/index-de.html [rev:1.39, 2002-10-12T18:51:29]:
- branches:  1.39.1;
- added newsflash: use mirror sites for download;
    replaced manual and package links with mirror URLs;
    commented out link to package archive
- bugfix <LINK rel> tag: http: missing in URL
www/index.html [rev:1.51, 2002-10-12T18:51:29]:
- branches:  1.51.1;
- added newsflash: use mirror sites for download;
    replaced manual and package links with mirror URLs;
    commented out link to package archive
- bugfix <LINK rel> tag: http: missing in URL
- bugfix: increased nav width from 15% to 20% to match index-de.html
www/changelog.html [rev:1.38, 2002-10-12T18:51:58]:
- added more stuff planned for 2.4.0
www/index-de.html [rev:1.40, 2002-10-12T18:53:15]:
- replaced links to tvagent.de mirror with t-online on request of the owner
www/index.html [rev:1.52, 2002-10-12T18:53:15]:
- replaced links to tvagent.de mirror with t-online on request of the owner
www/index-de.html [rev:1.41, 2002-10-13T09:11:34]:
- Homepage moved from nxtvepg.tripod.com to nxtvepg.sourceforge.net
- adapted all links
- removed mirrors for packages
www/index.html [rev:1.53, 2002-10-13T09:11:34]:
- Homepage moved from nxtvepg.tripod.com to nxtvepg.sourceforge.net
- adapted all links
- removed mirrors for packages
www/man.html [rev:1.21, 2002-10-13T09:12:19]:
- Homepage moved from nxtvepg.tripod.com to nxtvepg.sourceforge.net
-> adapted "back to homepage link"
www/provnets.html [rev:1.18, 2002-10-13T09:13:57]:
- Homepage moved from nxtvepg.tripod.com to nxtvepg.sourceforge.net
-> adapted "back to homepage link"
www/changelog.html [rev:1.39, 2002-10-13T09:14:06]:
- Homepage moved from nxtvepg.tripod.com to nxtvepg.sourceforge.net
-> adapted "back to homepage link"
-> adapted links to patches
www/nxtvepg.css [rev:1.3, 2002-10-13T09:14:26]:
- H3: added top and bottom padding of 5pt
www/index.html [rev:1.51.1.1, 2002-10-13T09:16:14]:
- Special version with <BASE> tag
- redirect all links to sub-pages to a different site
- only internal (#) links refer to the current page
    -> changed links from relative to absolute
www/index-de.html [rev:1.39.1.1, 2002-10-13T09:47:13]:
- Special version with <BASE> tag
- redirect all links to sub-pages to a different site
- only internal (#) links refer to the current page
    -> changed links from relative to absolute
tvsim/vbirec_gui.tcl [rev:1.6, 2002-10-13T10:34:23]:
- Changed homepage URL and mail address to sourceforge.net domain
tvsim/tvsim_gui.tcl [rev:1.5, 2002-10-13T10:36:03]:
- Changed homepage URL and mail address to sourceforge.net domain
nxtvepg.pod [rev:1.77, 2002-10-13T12:11:59]:
- improved GETTING STARTED: rewrote "setup for UNIX"; moved below TV card
    setup for Win32; changed slate towards "video input setup"
- added Thierry to Thank-You section
epgctl/epgversion.h [rev:1.27, 2002-10-13T13:26:35]:
- set version to 2.3.1 (bugfix release)
epgvbi/cni_tables.c [rev:1.17, 2002-10-13T13:46:32]:
- bugfix CniGetDescription():
- result pointer ppCountry was uninitialized if CNI unknown -> crash
- bug reported by Udo A. Steinberg 2002-Oct-09
tvsim/tvsim.pod [rev:1.4, 2002-10-13T14:05:41]:
- changed mail address from nefkom.net to users.sourceforge.net
tvsim/vbiplay.pod [rev:1.2, 2002-10-13T14:05:41]:
- changed mail address from nefkom.net to users.sourceforge.net
tvsim/vbirec.pod [rev:1.5, 2002-10-13T14:05:41]:
- changed mail address from nefkom.net to users.sourceforge.net
README [rev:1.28, 2002-10-13T14:10:11]:
- WIN32 driver errors: added description of W2K "power user"
- moved home page and mail address to sourceforge.net
README.tcl84 [README.tcltk, rev:1.4, 2002-10-13T14:11:16]:
- fix for actual 8.4 libs: added assignment libdir=${prefix}/lib
nxtvepg.pod [rev:1.78, 2002-10-13T14:12:32]:
- minor fixes in GETTING STARTED
- moved mail address to sourceforge.net
nxtvepg.spec [rev:1.9, 2002-10-13T14:13:15]:
- set version to 2.3.1
- moved home page to sourceforge.net
dsdrv/hwdrv.c [rev:1.8, 2002-10-13T17:45:56]:
- AdjustAccessRights(): added workaround for SetEntriesInAcl() failure
- if SetEntriesInAcl() fails for group "EVERYONE" also try "Jeder"
epgui/epgmain.c [rev:1.99, 2002-10-13T17:55:27]:
- call setlocale() for UNIX too: print weekday names in local language
- WIN32 syntax and Tcl8.4 compat fixes
epgui/epgui.tcl [epgtcl/mainwin.tcl, rev:1.180.1.1, 2002-10-13T18:02:58]:
- fix "Time" column header drop-down menu: NEXT didn't work and
    discrete times had confusing semantic
- improved "Date" column header drop-down menu: day count derived from db
- changed URLs and email from tripod.com to sourceforge.net
epgui/pifilter.c [rev:1.66.1.1, 2002-10-13T18:06:58]:
- bugfix branch for release 2.3.1
- Tcl8.4 compatibility: added CONST84 to Tcl callback command argv
- added Tcl callback proc C_GetLastPiTime
epgui/pioutput.c [rev:1.27.1.1, 2002-10-13T18:09:20]:
- bugfix branch for release 2.3.1
- changed URLs and email from tripod.com to sourceforge.net
epgui/pilistbox.c [rev:1.75.1.1, 2002-10-13T18:12:48]:
- bugfix branch for release 2.3.1
- same changes as between 1.76 and 1.77 on main branch
- fixed "time" column header drop-down menu: added param to C_PiListBox_GotoTime
    to indicate whether to use start or stop time as limit
www/man.html [rev:1.22, 2002-10-13T18:30:27]:
- updated for version 2.3.1
www/index-de.html [rev:1.42, 2002-10-13T19:01:48]:
- updated for release 2.3.1
www/index.html [rev:1.54, 2002-10-13T19:01:48]:
- updated for release 2.3.1
www/changelog.html [rev:1.40, 2002-10-13T19:02:13]:
- updated for release 2.3.1
CHANGES [rev:1.28, 2002-10-13T19:10:05]:
- updated for release 2.3.1
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_2_3_1 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgdb/epgstream.c [rev:1.25, 2002-10-19T15:31:13]:
- Improved 2 lines of debug output
epgui/xawtv.c [rev:1.28, 2002-10-19T15:31:28]:
- added several CONST84 for tcl 8.4 compatibility
epgui/pioutput.c [rev:1.32, 2002-10-19T15:43:07]:
- bugfix: changed type of alphaNumTab from char to schar
    reported to debian.org by Gerhard Tonn (GerhardTonn@swol.de)
- changed URL and mail address (in HTML) from tripod.com to sourceforge.net
- added CONST84 for tcl 8.4 compatibility
epgui/epgmain.c [rev:1.100, 2002-10-19T15:53:20]:
- moved all bitmaps into new subdirectory ./images
- MenuCmd_Init() moved above pioutput.c init for Tcl callbacks
- fix setlocale(): must pass empty string, not "C" for LC_ALL
epgtcl/mainwin.tcl [rev:1.187, 2002-10-19T15:53:31]:
- Implemented inverted filters
- new global variable filter_invert
    new proc IntertFilter; C-proc C_InvertFilter <list>
- inserted new elem fsc_inv_idx into shortcut definition
    LoadRcFile: convert shortcut definitions from older versions
- split off new top-level menu "Shortcuts" from Configure and Filter menus
- reordered filter menu: most often used ones on top
    added invert checkbutton to various filter menus
- added VPS/PDC filter cascade to the Filter menu
    moved proc FilterMenuAdd_VpsPdc from column sel. dlg. into filter section
- split off "Program index" cascade into separate proc FilterMenuAdd_ProgIdx
- include "C_ResetFilter all" with proc ResetFilterState
    and additionally call C_InvertFilter with empty list
- sortcrit filter dialog: replaced class checkbutton matrix with popup menu;
    added popup menu for invert
- DescribeCurrentFilter: also return invert setting
- ShortcutPrettyPrint: prepend "NOT" to inverted filters
- CheckShortcutDeselection: check for undone invert filters too
- SelectSingleShortcut and SelectShortcut: invert filters acc. fsc_inv_idx
- changed layout of "Edit filter shortcut list" dialog: use poup menu for
    mask instead of checkbutton matrix
- Also:
- new helper array pi_attr_labels with names for filter types
- added new arg "param" to PostDynamicMenu and every call:
    is passed through to the menu generation function;
    used by CreateSeriesMenu, CreateSeriesNetworkMenu, etc.
- win32 cursor color adapted for new listbox bg color
- dursel filter menu: added grid options for window resizing
- changed URL and mail address from tripod.com to sourceforge.net
epgui/pifilter.c [rev:1.72, 2002-10-19T15:53:41]:
- Implemented inverted filters
- added function (Tcl callback) PiFilter_Invert: makes use of new db filter
    interfaces EpgDbFilterInitNi() and new filter type FILTER_INVERT
- Also:
- use #define THEME_CLASS_COUNT instead of constant
- added CONST84 for tcl 8.4 compatibility
- CreateNi(): get additional proc arg <ni-block-idx> passed through
    proc PostDynamicMenu; also: changed to object based Tcl interface
- SelectNi(): changed to object based Tcl interface; made some pointers const
epgui/menucmd.c [rev:1.92, 2002-10-19T15:54:01]:
- appended param 0 to Tcl proc call FilterMenuAdd_Themes
- removed calls to "C_ResetFilter all" before proc ResetFilterState
    because this is now done implicitly
dsdrv/dsdrv34.c [rev:1.4, 2002-10-19T17:20:12]:
- Replaced #include <malloc.h> with <stdlib.h>
tvsim/winshmclnt.c [rev:1.9, 2002-10-19T17:20:32]:
- Replaced #include <malloc.h> with <stdlib.h>
epgctl/debug.c [rev:1.17, 2002-10-19T17:31:33]:
- Replaced #include <malloc.h> with <stdlib.h>
epgvbi/btdrv4win.c [rev:1.26, 2002-10-19T17:32:25]:
- Replaced #include <malloc.h> with <stdlib.h>
epgvbi/winshmsrv.c [rev:1.9, 2002-10-19T17:32:25]:
- Replaced #include <malloc.h> with <stdlib.h>
epgvbi/btdrv.h [rev:1.25, 2002-10-19T17:34:58]:
- added support for FreeBSD: #if defined(__NetBSD__) || defined(__FreeBSD__)
- fix: renamed DEBUG_SWITCH_DUMP_TTX_PACKETS into DUMP_TTX_PACKETS
epgvbi/btdrv4linux.c [rev:1.33, 2002-10-19T17:40:39]:
- Added support for FreeBSD: (patch provided by Simon Barner)
- exended #ifdef __NetBSD__ with: __NetBSD__ || __FreeBSD__
- replaced some strcpy() with strncpy()
- bugfix BtDriver_StartCapture(): appended %u to VIDEONAME
epgdb/epgblock.c [rev:1.47, 2002-10-19T17:42:01]:
- Added support for FreeBSD: (patch provided by Simon Barner)
- LTO functions: exended #ifdef __NetBSD__ with: __NetBSD__ || __FreeBSD__
epgctl/mytypes.h [rev:1.18, 2002-10-19T17:42:22]:
- Added support for FreeBSD: (patch provided by Simon Barner)
- define slong for __FreeBSD__
epgtcl/mainwin.tcl [rev:1.188, 2002-10-19T18:36:55]:
- added key binding for Key-F1: popup help page (same as Help button)
- set background color for nxtv_logo in PI listbox
nxtvepg.pod [rev:1.79, 2002-10-19T19:00:39]:
- added chapter for configuration dialog for user-defined columns
epgtcl/mainwin.tcl [rev:1.189, 2002-10-20T08:26:32]:
- made duration filter dialog wider
    + so that all 5*x min steps can be entered via the scale slider
    + fix for resizing of dialog: Removed -fillx from command frame
- fixed background color for nextview logo in PI listbox
epgui/pilistbox.c [rev:1.80, 2002-10-20T08:27:34]:
- fix PiListBox_SelectItem():
- suppress selecting lines when in one of the error states
epgui/epgmain.c [rev:1.101, 2002-10-20T17:34:48]:
- XMLTV dump implemented (by Massis Siripan)
- added "xml" mode keyword fr -dump command line option
- call new function PiOutput_DumpDatabaseXml()
- Also:
- added global Tcl vars NXTVEPG_URL and NXTVEPG_MAILTO
epgui/epgtabdump.c [epgui/dumptext.c, rev:1.4, 2002-10-20T17:34:57]:
- XMLTV dump implemented (by Massis Siripan)
- EpgTabDump_GetMode(): added "xml" keyword: EPGTAB_DUMP_XML
epgui/epgtabdump.h [epgui/dumptext.h, rev:1.2, 2002-10-20T17:35:02]:
- XMLTV dump implemented (by Massis Siripan)
- new enum EPGTAB_DUMP_MODE elem: EPGTAB_DUMP_MODE
epgtcl/mainwin.tcl [rev:1.190, 2002-10-20T17:35:08]:
- XMLTV dump implemented (by Massis Siripan)
- added "Export as XMLTV..." to control menu
- new proc PopupDumpXml to create dialog
- added dumpxml_filename to rc/ini file
- Also:
- use new globals NXTVEPG_URL and NXTVEPG_MAILTO in about popup
epgui/pioutput.c [rev:1.33, 2002-10-20T17:35:18]:
- XMLTV dump implemented (by Massis Siripan)
- new dump func PiOutput_DumpDatabaseXml(), Tcl interface PiOutput_DumpXml()
- split off sub-func from HTML dump: PiOutput_HtmlRemoveQuotes()
- split off sub-func from user-ctx menu var subst.: PiOutput_GetVpsTimestamp()
- Also:
- use new macros NXTVEPG_URL and NXTVEPG_MAILTO for HTML and XML file headers
epgui/pioutput.h [rev:1.11, 2002-10-20T17:35:27]:
- XMLTV dump implemented (by Massis Siripan)
- added declaration for dump func PiOutput_DumpDatabaseXml()
www/pre-releases.html [rev:1.15, 2002-10-21T20:38:29]:
- added nxtvepg-2.4.0pre0.tar.gz
www/index.html [rev:1.55, 2002-10-21T20:38:35]:
- added link to sourcefore.net nxtvepg project files page
www/index-de.html [rev:1.43, 2002-10-21T20:38:45]:
- added note that Aldi TV card is not supported
- added link to sourcefore.net nxtvepg project files page
www/nefkom-src-index.html [rev:1.11, 2002-10-21T20:39:05]:
- added new release 2.3.1
- removed 2.2.0 sources and 2.3.0-tvsim to save space
- added link to sourceforge.net project files page
epgui/pioutput.c [rev:1.34, 2002-10-22T20:12:23]:
- Fixes for XML dump
- added XML DTD header
- fixed date format (month and day were swapped)
- adapted channel names for some broken XML parsers
- escape "&" characters in theme category output
epgdb/epgdbfil.c [rev:1.37, 2002-10-25T19:08:21]:
- Implemented inverted filters
- Added new interface function EpgDbFilterInvert()
- EpgDbFilterMatches(): handle local and global inversions
- EpgDbFilterInitNi(): clear filter context with memset instead of just
    setting filter mask to 0: req. at least for invert mask
epgdb/epgdbfil.h [rev:1.22, 2002-10-25T19:08:21]:
- Implemented inverted filters
- added new filter #define FILTER_INVERT
- added new context elements invertedFilters, invertedThemeClasses, ..SortCrit
- added new interface function EpgDbFilterInvert()
epgui/loadtcl.c [rev:1.1, 2002-10-25T19:41:44]:
- Initial revision
epgui/loadtcl.h [rev:1.1, 2002-10-25T19:41:46]:
- Initial revision
epgui/epgmain.c [rev:1.102, 2002-10-25T19:51:05]:
- Split GUI Tcl/Tk "epgui/epgui.tcl" script into smaller parts
- moved eval of splitted scripts in new C modules loadtcl.c
    because of make dependencies
- renamed script strings, e.g. tk_init_scripts into tk_libs_tcl_static
- moved setting of Tcl variable "is_unix" here so that daemon needs only
    load rcfile.tcl
- moved eval of proc CreateMainWindow etc. from ui_init() into main()
Makefile [rev:1.47, 2002-10-25T19:56:57]:
- Split GUI Tcl/Tk "epgui/epgui.tcl" script into smaller parts
- moved into new sub-directory epgtcl/
- added implicit rule to derive .c from .tcl
- tcl2c tool extended
    + included comment removal, formerly done by "egrep -v '^#'"
    + now produces both .c and .h files
    + output and script names are derived from input names
- added new module epgui/loadtcl.c
- renamed epgui/help.tcl into eogtcl/helptexts.tcl
nxtvepg.pod [rev:1.80, 2002-10-25T20:01:45]:
- added sub-chapter on filter inversion
- updated section on filter-types (split off as sub-section from FILTERING)
tcl2c.c [rev:1.3, 2002-10-25T20:07:25]:
- Massive rewrite, in connection with split of epgui.tcl
- included comment removal, formerly done by "egrep -v '^#'"
- now produces both .c and .h files
- output and script names are derived from input names
- support for special commands #=LOAD= and #=DYNAMIC=<script>
    generate stubs to dynamically load scripts at runtime
pod2help.pl [rev:1.16, 2002-10-25T20:07:51]:
- removed filling of menu commands into .menubar.help
- the titles are available in the helpIndex array
- the menu is now filled in mainwin.tcl
- reason: during eval of a script file no actions should be performed
epgtcl/mainwin.tcl [rev:1.191, 2002-10-25T20:16:15]:
- Split GUI Tcl/Tk "epgui/epgui.tcl" script into smaller parts
- renamed main file from epgui.tcl into mainwin.tcl
- moved setting of global "is_unix" to C level
- added filling of help menu (moved from base level of help.tcl)
- split off new proc ApplyRcSettingsToMenu from LoadRcFile
- moved proc Motd2HHMM: used by 2 split off modules
epgtcl/dlg_acqmode.tcl [rev:1.1, 2002-10-25T20:16:27]:
- Initial revision
epgtcl/dlg_ctxmencf.tcl [rev:1.1, 2002-10-25T20:16:27]:
- Initial revision
epgtcl/dlg_dump.tcl [rev:1.1, 2002-10-25T20:16:27]:
- Initial revision
epgtcl/dlg_filter.tcl [rev:1.1, 2002-10-25T20:16:27]:
- Initial revision
epgtcl/dlg_hwcfg.tcl [rev:1.1, 2002-10-25T20:16:27]:
- Initial revision
epgtcl/dlg_netname.tcl [rev:1.1, 2002-10-25T20:16:27]:
- Initial revision
epgtcl/dlg_netsel.tcl [rev:1.1, 2002-10-25T20:16:27]:
- Initial revision
epgtcl/dlg_prov.tcl [rev:1.1, 2002-10-25T20:16:27]:
- Initial revision
epgtcl/dlg_shortcuts.tcl [rev:1.1, 2002-10-25T20:16:27]:
- Initial revision
epgtcl/dlg_udefcols.tcl [rev:1.1, 2002-10-25T20:16:27]:
- Initial revision
epgtcl/dlg_xawtvcf.tcl [rev:1.1, 2002-10-25T20:16:27]:
- Initial revision
epgtcl/draw_stats.tcl [rev:1.1, 2002-10-25T20:16:46]:
- Initial revision
epgtcl/rcfile.tcl [rev:1.1, 2002-10-25T20:16:46]:
- Initial revision
epgtcl/shortcuts.tcl [rev:1.1, 2002-10-25T20:16:46]:
- Initial revision
epgui/pioutput.c [rev:1.35, 2002-10-26T08:21:05]:
- XML output: removed network index from channel ID; use CNI only
epgui/pioutput.c [rev:1.36, 2002-10-26T12:09:09]:
- added " %z" to all timestamps in XML output (on request of Thierry)
pod2help.pl [rev:1.17, 2002-10-26T14:41:13]:
- Indent paragraphs between =over and =back
- to achieve that, no longer write chapter in one chunk, instead print
    each paragraph separately, and add an "indent" tag when neccessary
- split off sub-function PrintParagraph
nxtvepg.pod [rev:1.81, 2002-10-26T14:41:25]:
- added new section on database export in XML
- show/hide options in configure menu are now a sub-menu (cascade)
    -> combined them into a list in one sub-section
- split "show networks" into ... (left) and ... (middle)
- removed sub-section on filter-shortcuts in configure menu (was moved away)
README [rev:1.29, 2002-10-26T14:41:32]:
- added note that Aldi card are not supported
images/colsel.xbm [rev:1.1, 2002-10-26T14:42:00]:
- Initial revision
epgui/epgmain.c [rev:1.103, 2002-10-26T14:44:47]:
- fixed setlocale: must set locale "C" for LC_ALL
    required for Tcl or parsing of floating point numbers fails
    only set LC_TIME to user-defined value
- added bitmap_colsel for PI listbox column header config button
epgtcl/mainwin.tcl [rev:1.192, 2002-10-26T14:50:52]:
- Split "show networks" configure menu entry into left/middle
- moved .all.netwops.list into .all.sortcuts frame to allow to change the
    listbox's position below the shortcut list -> use grid manager for the frame
- moved "show" menu entries in the configure menu into new sub-menu "Show/Hide"
- merged proc ToggleNetwopListbox and ToggleShortcutListbox into new
    proc ShowOrHideShortcutList
- moved proc UpdateNetwopFilterBar here from dlg_netsel.tcl
- Also:
- added "popup column selection dialog" button to PI listbox column headers
epgtcl/rcfile.tcl [rev:1.2, 2002-10-26T14:50:56]:
- Split "show networks" configure menu entry into left/middle
- added new global showNetwopListboxLeft to rc/ini file
epgtcl/dlg_netsel.tcl [rev:1.2, 2002-10-26T14:51:08]:
- moved proc UpdateNetwopFilterBar into mainwin.tcl
epgtcl/shortcuts.tcl [rev:1.2, 2002-10-26T14:51:36]:
- Split "show networks" configure menu entry into left/middle
- moved .all.netwops.list into .all.sortcuts frame
www/index-de.html [rev:1.44, 2002-10-26T16:20:57]:
- appended "?download" to .tar.gz and .zip links to avoid confusion
www/index.html [rev:1.56, 2002-10-26T16:20:57]:
- appended "?download" to .tar.gz and .zip links to avoid confusion
Makefile.win32 [rev:1.27, 2002-10-27T10:04:59]:
- Split GUI Tcl/Tk "epgui/epgui.tcl" script into smaller parts
- moved into new sub-directory epgtcl/
- added implicit rule to derive .c from .tcl
- tcl2c tool extended
    + included comment removal, formerly done by "egrep -v '^#'"
    + now produces both .c and .h files
    + output and script names are derived from input names
- added new module epgui/loadtcl.c
- renamed epgui/help.tcl into eogtcl/helptexts.tcl
tvsim/tvsim_main.c [rev:1.14, 2002-10-27T10:09:25]:
- Adadpted Tcl/Tk script loading for new version of tcl2c.c
tvsim/vbirec_main.c [rev:1.15, 2002-10-27T10:09:25]:
- Adadpted Tcl/Tk script loading for new version of tcl2c.c
tvsim/tvsim.pod [rev:1.5, 2002-10-27T10:09:54]:
tvsim/vbiplay.pod [rev:1.3, 2002-10-27T10:09:54]:
tvsim/vbirec.pod [rev:1.6, 2002-10-27T10:09:54]:
nxtvepg.pod [rev:1.82, 2002-10-27T10:09:58]:
- Replaced real name with "Th." to avoid that the name shows up in a web search
epgui/epgmain.c [rev:1.104, 2002-10-27T10:13:37]:
- removed "wm withdraw" and "wm deiconify" because it caused problems on WIN32
    (the window was mapped as small empty box and later seen to grow) and is no
    longer required anyway.
- replaced #include for tcl_libs include with extern declaration (simpler)
epgui/pioutput.c [rev:1.37, 2002-10-27T11:16:33]:
- removed "%z" in XML timestamps agai nsince it's a GNU extension.
    print times in GMT instead2s, except for VPS/PDC label
- further optimized PiOutput_PiListboxInsert(): keep all objects permanently
    even if no static content, to avoid re-allocating them for every text line
epgtcl/dlg_netsel.tcl [rev:1.3, 2002-10-27T11:40:18]:
- added offset of 1 pixel around "Official name" entry field to avoid that
    it meshes with the borders of other elements
epgtcl/dlg_xawtvcf.tcl [rev:1.2, 2002-10-27T11:40:27]:
- moved proc XawtvConfigShmAttach into static area
- now calls split off, new proc XawtvConfigDisplayShmAttach if dialog is open
epgtcl/mainwin.tcl [rev:1.193, 2002-10-27T11:40:34]:
- changed binding of Double-Button-1: equiv. Tune-TV
    moved prv. binding to Double-Button-2
- added binding for Key-Up/Down: scroll +/- 1
- fixed mapping of Tune-TV button (was wrong row)
    make clock and reset columnspan 2 only of both sc. and netwops lists are disp.
epgtcl/dlg_filter.tcl [rev:1.2, 2002-10-27T14:51:56]:
- Fixed unresolved ref's to dynamically loaded Tcl procs
- new proc TimeFilterExternalChange, used instead of proc UndoTimeFilter
- changed prefixes from SelectTimeFilter... into UpdateTimeFilter
    because there's a new global proc in mainwin.tcl names SelectTimeFilter
- UpdateTime procs use new proc SelectTimeFilter
epgtcl/dlg_hwcfg.tcl [rev:1.2, 2002-10-27T14:52:04]:
- Fixed unresolved ref's to dynamically loaded Tcl procs
- moved proc HardwareConfigUpdateCardIdx from danymic to static
epgtcl/dlg_netsel.tcl [rev:1.4, 2002-10-27T14:52:11]:
- Fixed unresolved ref's to dynamically loaded Tcl procs
- added stubs for proc SelBoxShiftUp/DownItem
epgtcl/mainwin.tcl [rev:1.194, 2002-10-27T14:52:17]:
- Fixed unresolved ref's to dynamically loaded Tcl procs
- added new proc SelectTimeFilter: split off from dlg_filter.tcl
epgtcl/shortcuts.tcl [rev:1.3, 2002-10-27T14:52:25]:
- Localized shortcut defaults: German and French version
- French version provided by Thierry Menetrier
- German version is currently a plain trnalsation of the generic version
epgui/epgmain.c [rev:1.105, 2002-10-27T14:53:43]:
- ui_init(): Pass LC_TIME setting to Tcl in new global var user_language
- used for localized shortcut defaults
epgui/pifilter.c [rev:1.73, 2002-10-27T14:55:46]:
- Fixed unresolved ref's to dynamically loaded Tcl procs
- replaced reference to proc SelectTimeFilterRelStart with new interface
    proc TimeFilterExternalChange (wrapper arund the old proc)
- replaced reference to proc UndoTimeFilter with discrete implementation:
    set timsel_enabled 0 & call new proc SelectTimeFilter
epgtcl/dlg_filter.tcl [rev:1.3, 2002-10-27T18:48:04]:
- Start time filter: added "ignore date" option
- new global var timsel_nodate
- dialog: new checkbutton; disable date scale when checked
- Also bugfix:
- proc UpdateTimeFilterRelStart not always called when dialog opened
    -> sometimes "time span" was printed instead of "start time"
- allow to resize the dialog horizontally
epgtcl/mainwin.tcl [rev:1.195, 2002-10-27T18:48:11]:
- Start time filter: added "ignore date" option
- SelectTimeFilter: pass new global var timsel_nodate to C_SelectStartTime
epgtcl/shortcuts.tcl [rev:1.4, 2002-10-27T18:48:20]:
- Start time filter: added "ignore date" option
- new global var timsel_nodate
- for backwards compatibility timsel_nodate is not added to the timsel array;
    instead timsel_date is set to -1
epgui/pifilter.c [rev:1.74, 2002-10-27T18:48:28]:
- Start time filter: added "ignore date" option
- added new argument to C_SelectStartTime at objv index 2
    if bool is TRUE; do not set flag NI_DATE_RELDATE;
    set new filter type FILTER_TIME_DAILY instead of FILTER_TIME_ONCE
- merged filter types FILTER_TIME_BEG, FILTER_TIME_END to FILTER_TIME_ONCE
epgdb/epgdbfil.c [rev:1.38, 2002-10-27T18:48:36]:
- Start time filter: added "ignore date" option:
- EpgDbFilterFinishNi(): when NI_DATE_RELDATE is not set, use FILTER_TIME_DAILY
    set timeBegin and timeEnd to "secs of day" instead of absolute times
- EpgDbFilterMatch() handles new filter type FILTER_TIME_DAILY
- merged filter types FILTER_TIME_BEG, FILTER_TIME_END to FILTER_TIME_ONCE
    and removed complicated invert handling
- Bugfix EpgDbFilterInitNi: must not memset() filter context
- prefilters must remain set
epgdb/epgdbfil.h [rev:1.23, 2002-10-27T18:48:42]:
- Start time filter: added "ignore date" option:
- new filter type FILTER_TIME_DAILY
- merged filter types FILTER_TIME_BEG, FILTER_TIME_END to FILTER_TIME_ONCE
www/index.html [rev:1.57, 2002-10-28T20:39:14]:
- bugfix: link to -win.zip actually referred to -tvsim.zip
Makefile [rev:1.48, 2002-11-03T12:14:50]:
- added possibility to put the EPG_DB_DIR into the user's $HOME
- defined a macro INST_DB_PERM to configure dbdir permissions
- clean: remove generated tcl header files too
tcl2c.c [rev:1.4, 2002-11-03T12:15:10]:
- made generated array const (note: with Tcl <= 8.3 this requires some hacks
    to avoid SEGV during eval; see loadtcl.c)
- added #include of the generated header to the generated C files
epgui/epgmain.c [rev:1.106, 2002-11-03T12:15:18]:
- added possibility to put the EPG_DB_DIR into the user's $HOME
    new macro passed from Makefile: EPG_DB_ENV (UNIX only)
- removed redundant extern decl for tcl_libs_tcl_static for Win32
- moved loading of tcl_libs_tcl_static into loadtcl.c
    reordered ui_init() a bit
epgdb/epgdbsav.c [rev:1.49, 2002-11-03T12:16:09]:
- UNIX: removed chmod for dbdir and files
- chmod(0666) for files was not needed anyways (since dir is writable)
- chmod(0777) for directory is done during installation only
- changes suggested by Matthias Brill for multi-user systems
tvsim/tvsim_main.c [rev:1.15, 2002-11-03T12:16:19]:
- replaced extern decl for tcl_libs_tcl_static with #include
- tcl scripts are now converted into const arrays by tcl2c.c
    defined macro TCL_EVAL_CONST() as workaround for Tcl 8.3 which requires
    scripts to be in writable memory
tvsim/vbirec_main.c [rev:1.16, 2002-11-03T12:16:26]:
- removed redundant extern decl for tcl_libs_tcl_static
- tcl scripts are now converted into const arrays by tcl2c.c
    defined macro TCL_EVAL_CONST() as workaround for Tcl 8.3 which requires
    scripts to be in writable memory
epgui/loadtcl.c [rev:1.2, 2002-11-03T12:58:44]:
- tcl scripts are now converted into const arrays by tcl2c.c
    defined macro TCL_EVAL_CONST() as workaround for Tcl 8.3 which requires
    scripts to be in writable memory
- moved all scripts into an array, to allow processing by for() loop
epgtcl/dlg_prov.tcl [rev:1.2, 2002-11-03T16:02:20]:
- use new bind tag TextReadOnly for .provsel text widgets
- bindings like Text minus the ones which allow modification of the content
- before it was put into -state disabled, which prevented copy&paste on WIN32
epgtcl/dlg_ctxmencf.tcl [rev:1.2, 2002-11-03T16:02:42]:
- fix xalarm example: changed -time arg to ${start:%H:%M}
epgtcl/dlg_shortcuts.tcl [rev:1.2, 2002-11-03T16:28:08]:
- Changed shortcut definition: use tag as array index; added "hide" flag
- globally replaced fsc_tag_idx with fsc_hide_idx
- globally replaced shortcut_count with shortcut_order; same with fscedit_count
- edit dialog now selects the last used shortcut
    index can be passed as argument from new shortcut list context menu
- added horizontal scrollbar to "filter pretty print" text widget;
    use new bind tag TextReadOnly
- removed necessity to press "update" after changes in edit dialog
- added "invoke" and "(filter) update" buttons for interaction with main window
- added "hide from main window list" checkbutton
- made shortcut update dialog resizable;
    limit list max. length to 25; added vertical scrollbar
epgtcl/shortcuts.tcl [rev:1.5, 2002-11-03T16:28:15]:
- Changed shortcut definition: use tag as array index; added "hide" flag
- globally replaced fsc_tag_idx with fsc_hide_idx;
    adapted default shortcuts
- globally replaced shortcut_count with shortcut_order;
    renamed many shortcut ref' variables from "index" to "sc_tag"
- changed fsc_prevselection to hold shortcut tag instead of index
- changed proc SelectShortcuts to receive tag and array name as args:
    + useful to set yet unsaved shortcuts from the "edit" dialog
    + added new intermediate proc InvokeSelectedShortcuts: used by mainwin
- Bugfixes:
- shortcut adding: theme, sortcrit & global inversions were "forgotten"
- pretty print: feature "apect=full" and "not encrypted" etc. were printed wrong
    also added "AND" between multiple features in the same class
- pretty print "timsel": say "daily" if date euquals -1
epgtcl/rcfile.tcl [rev:1.3, 2002-11-03T16:28:27]:
- Changed shortcut definition: use tag as array index; added "hide" flag
- added conversion of older shortcuts array formats;
    added consistancy check for references from user-defined columns
- replaced shortcut_count with shortcut_order
epgtcl/mainwin.tcl [rev:1.196, 2002-11-03T16:28:34]:
- new bind tag TextReadOnly: sub-set of Text bindings; concept was formerly
    only used locally for the short-info text; now in several dialogs too
- added context menus to shortcuts and netwops filter lists
- added MouseWheel event handling (WIN32 only)
- changed shortcut definition: use tag as array index; added "hide" flag
    + globally replaced fsc_tag_idx with fsc_hide_idx
    + globally replaced shortcut_count with shortcut_order;
- use new intermediate proc InvokeSelectedShortcuts instead of SelectShortcuts
epgtcl/dlg_udefcols.tcl [rev:1.2, 2002-11-03T16:28:43]:
- Changed shortcut definition: use tag as array index; added "hide" flag
- globally replaced fsc_tag_idx with fsc_hide_idx
- globally replaced shortcut_count with shortcut_order;
    use new helper proc CompleteShortcutOrder to get "hidden" shortcuts' tags
epgctl/debug.c [rev:1.18, 2002-11-04T19:04:21]:
- improved chk_memleakage():
- print summary of non-freed memory (first 10 elements)
- required to put the info into debug output, i.e. allow debugging w/o core
www/provnets.html [rev:1.19, 2002-11-05T21:42:59]:
- TV5 is providing service again
- moved table entry back up to the active providers
- added note that it was inactive
- info provided by anthony@ricou.fr.fm
pod2help.pl [rev:1.18, 2002-11-09T11:10:45]:
- added "FILES" section to internal help
- i.e. do stop at "SEE ALSO" section with conversion instead of "FILES"
epgtcl/dlg_filter.tcl [rev:1.4, 2002-11-09T20:21:43]:
- bugfixes:
- global timsel_nodate was not initialized
- proc UndoTimeFilter: timsel_enabled not declared global
epgtcl/dlg_prov.tcl [rev:1.3, 2002-11-09T20:21:52]:
- fix proc ProvWin_Select:
- still did set TextReadOnly widget's state to disabled
epgtcl/dlg_shortcuts.tcl [rev:1.3, 2002-11-09T20:22:03]:
- Extended shortcut context menu's functionality
- added new global proc DeleteFilterShortcut: delete specified shortcut
    (without use of the edit dialog, as before)
- added new global proc UpdateFilterShortcutByContext: assign current filter
    directly to the specified shortcut (without going through the fscupd dialog)
- added warning when updated filter is identical to old filter setting
- Also:
- removed use of color in listbox to mark "hidden" shortcuts; the colors were
    incompatible with the color scheme on M$ Windows 98
epgtcl/mainwin.tcl [rev:1.197, 2002-11-09T20:22:09]:
- Extended shortcut context menu's functionality
- added selected shortcut's name to the top of the menu
- added "delete" entry
- use new proc CreateListboxContextMenu to create the popup menu
- Also:
- fixed MouseWheel bindings for Win98
epgtcl/shortcuts.tcl [rev:1.6, 2002-11-09T20:22:18]:
- bugfix proc SelectShortcuts: must check if shortcuts in fsc_prevselection
    still exist (bug appeared after deleting a previously selected shortcut)
- bugfix proc SelectShortcuts: do not pass invert_all to C_ResetFilter
- bugfix proc DescribeCurrentFilter: not only check if filter_invert(tag)
    exists, but also vor value != 0
- updated shortcut defaults for France (provided by Thierry)
epgui/epgmain.c [rev:1.107, 2002-11-09T20:36:01]:
- improved -help output and added default -dbdir path
    because it's now likely to be changed via the Makefile
- fix for WIN32: do not xfree() statically allocated defaultDbDir
epgui/pilistbox.c [rev:1.81, 2002-11-09T20:36:07]:
- fixed PiListBox_ScrollLineDown() and ...Up() for wheel mouse:
- if last or first line is already visible, move the cursor towards the end;
    this makes the behaviour equivalent to page-wise scrolling
- the fix is also useful for the arrow buttons in the scrollbars
epgvbi/syserrmsg.c [rev:1.1, 2002-11-10T19:49:30]:
- Initial revision
epgvbi/syserrmsg.h [rev:1.1, 2002-11-10T19:49:31]:
- Initial revision
Nxtvepg.ad [rev:1.1, 2002-11-10T19:49:40]:
- Initial revision
nxtvepg.pod [rev:1.83, 2002-11-10T19:56:59]:
- start time filter: added "ignore date" option
- duration filter: added note that time can be entered into entry widget
- bugfix: link from -dump to Control menu was broken
- added note that daemon is not terminated upon Control->Quit
- FILES: added note about permissions for device files
    suggested by Thomas Hartmann
- FILES: added sections on .Xdefaults (UNIX) and Nxtvepg.ad (WIN32)
- extended FILTER SHORTCUTS section for new context menu
Makefile [rev:1.49, 2002-11-10T19:57:05]:
- added new module epgvbi/syserrmsg: split off from epgdb/epgnetio
- added dependencies for .h files generated from .tcl (for stability)
- added install rule for new file Nxtvepg.ad
- added .SUFFIX rule
- changed bak dir from /e to /c (changed partitions on 40GB disk)
Makefile.win32 [rev:1.28, 2002-11-10T19:57:10]:
- added new module epgvbi/syserrmsg: split off from epgdb/epgnetio
- added dependencies for .h files generated from .tcl (for stability)
- added zip rule for new file Nxtvepg.ad
- added .SUFFIX rule
- changed bak dir from /e to /c (changed partitions on 40GB disk)
pod2help.pl [rev:1.19, 2002-11-10T19:58:25]:
- pre-formatted paragraphs are now indented too between =over and =back
epgui/loadtcl.c [rev:1.3, 2002-11-10T20:05:19]:
- bugfix TCL_EVAL_CONST() for version 8.3:
- must put script inside uplevel #0:
    else defined vars are not global (and vanish)
epgtcl/dlg_acqmode.tcl [rev:1.2, 2002-11-10T20:30:27]:
- Made background colors and PI fonts configurable via X11 resources
- globally renamed variable "textfont" into "font_normal"
epgtcl/dlg_hwcfg.tcl [rev:1.3, 2002-11-10T20:30:35]:
- Made background colors and PI fonts configurable via X11 resources
- small clean-up: replaced #ffffff entry bg with $text_bg
epgtcl/dlg_prov.tcl [rev:1.4, 2002-11-10T20:30:41]:
- Made background colors and PI fonts configurable via X11 resources
- globally renamed variable "textfont" into "font_normal"
- replaced need for font_bold with new proc DeriveFont
epgtcl/dlg_shortcuts.tcl [rev:1.4, 2002-11-10T20:30:48]:
- Made background colors and PI fonts configurable via X11 resources
- globally renamed variable "textfont" into "font_normal"
epgtcl/dlg_udefcols.tcl [rev:1.3, 2002-11-10T20:30:54]:
- Made background colors and PI fonts configurable via X11 resources
- globally renamed variable "textfont" into "font_normal"
- replaced need for font_bold with new proc DeriveFont
epgtcl/dlg_xawtvcf.tcl [rev:1.3, 2002-11-10T20:31:01]:
- Made background colors and PI fonts configurable via X11 resources
- small clean-up: replaced #ffffff entry bg with $text_bg
epgtcl/draw_stats.tcl [rev:1.2, 2002-11-10T20:31:06]:
- Made background colors and PI fonts configurable via X11 resources
- replaced need for font_bold and font_small with new proc DeriveFont
epgtcl/mainwin.tcl [rev:1.198, 2002-11-10T20:31:12]:
- Made background colors and PI fonts configurable via X11 resources
- moved initial global variable set-up into new proc LoadWidgetOptions
- WIN32: read option file Nxtvepg.ad
- instead of var "textfont" use different variables for different windows:
    PI & short-info, help, Xawtv, tk_messageBox
- use new proc DeriveFont to get larger or bold variants of fonts;
    replaced all font variants variables font_pl2_bold, font_pl4_bold etc.
- renamed some globals (e.g. cursor_bg into pi_cursor_bg) since the same
    names are used in the resource file
- column headers: calculate height from font size
epgui/pioutput.c [rev:1.38, 2002-11-10T20:35:13]:
- Made background colors and PI fonts configurable via X11 resources
- replaced Tcl global textfont with pi_font: use different variables for
    fonts in different windows (PI & short-info, help, Xawtv, tk_messageBox)
epgui/pilistbox.c [rev:1.82, 2002-11-10T20:35:23]:
- Made background colors and PI fonts configurable via X11 resources
- renamed some globals (e.g. cursor_bg into pi_cursor_bg) since the same
    names are used in the resource file
epgui/epgmain.c [rev:1.108, 2002-11-10T20:35:33]:
- Made background colors and PI fonts configurable via X11 resources
- main: startup with GUI: added call to Tcl proc LoadWidgetOptions
    was formerly invoked at mainwin.tcl base-level, i.e. during script-eval
epgtcl/dlg_dump.tcl [rev:1.2, 2002-11-15T19:30:25]:
- Split off output file handling of all export types into new proc
- new proc DlgDump_CheckOutputFile
- append default extension to filenames if no "." in name given by the user
- fix use of -defaultextension Tk option: must include "." in extension
- Also: bugfix XML: do not allow empty 0-length filenames
epgtcl/dlg_shortcuts.tcl [rev:1.5, 2002-11-15T19:31:19]:
- small change in proc AddFilterShortcut
- insert new shortcuts after the selected shortcut ($edit_idx)
epgtcl/mainwin.tcl [rev:1.199, 2002-11-15T19:37:54]:
- added Tcl global pi_bold_font (for efficiency of text insertions)
- enlarged default sizes for PI listbox columns because column gap was
    increased from 5 to 10 pixels for larger fonts
- bugfix proc FillColumnSelectionDialog: .all missing in widget paths
epgui/pioutput.c [rev:1.39, 2002-11-15T19:45:32]:
- PI listbox text insertion: measure bold font correctly
- use new Tcl global pi_bold_font
- check text format for tag "bold" -> moved text length measurement behind
    format parsing
- column gap was increased from 5 to 10 pixels for larger fonts
- Support for user-defined columns in HTML output
- added processing of pPiboxColCfg, derived from PI listbox output
    split off into new sub-function PiOutput_DumpHtmlTitleRow()
- use first column for hyperlinks if no title column is available
    split off in new sub-function PiOutput_SelectHyperlinkCol()
nxtvepg.pod [rev:1.84, 2002-11-16T16:56:58]:
- improved chapter on FILTER SHORTCUTS
epgvbi/btdrv4win.c [rev:1.27, 2002-11-17T18:04:52]:
- Added workaround for Hauppauge "WinTV2000" TV application
- image was too dark when app was started after nxtvepg acq
- solution: write BT848_COLOR_CTL_GAMMA register before quitting
- reported by volker.beck@gmx.de and peter.rolf@arcor.de
- Make VBI device errors available to GUI
- added dummy for new function BtDriver_GetLastError()
epgvbi/btdrv.h [rev:1.26, 2002-11-17T18:12:34]:
- Make VBI device errors available to GUI
- added new element failureErrno to struct EPGACQ_BUF
epgvbi/btdrv4dummy.c [rev:1.13, 2002-11-17T18:12:45]:
- Make VBI device errors available to GUI
- added dummy for new function BtDriver_GetLastError()
epgvbi/btdrv4linux.c [rev:1.34, 2002-11-17T18:12:55]:
- Make VBI device errors available to GUI
- added new interface #include syserrmsg.h
- call SystemErrorMessage_Set() for all device errors
    new global pSysErrorText to hold error text
- VBI slave passes error code via new element failureErrno in struct EPGACQ_BUF
- added new function BtDriver_GetLastError()
- changed semantics of BtDriver_TuneChannel(): input source is only set upon
    the first call when the device is kept open; required new global devKeptOpen
    for NetBSD
epgdb/epgnetio.c [rev:1.31, 2002-11-17T18:14:14]:
- Make VBI device errors available to GUI
- split off EpgNetIo_SetErrorText() into new module epgvbi/syserrmsg.c
    because it's used by btdrv4linux.c too
- globally replaced EpgNetIo_SetErrorText() with SystemErrorMessage_Set()
epgdb/epgnetio.h [rev:1.19, 2002-11-17T18:15:19]:
- Make VBI device errors available to GUI
- split off EpgNetIo_SetErrorText() into new module epgvbi/syserrmsg.c
    because it's used by btdrv4linux.c too
epgctl/epgacqclnt.c [rev:1.9, 2002-11-17T18:19:20]:
- Make VBI device errors available to GUI
- globally replaced EpgNetIo_SetErrorText() with SystemErrorMessage_Set()
- the function was moved from epgnetio.c into the new module syserrmsg.c
epgctl/epgacqctl.c [rev:1.77, 2002-11-17T18:19:46]:
- Bug fix EPG scan
- EpgAcqCtl_Suspend(): clear stream buffer upon suspend
- Make VBI device errors available to GUI
- added new function EpgAcqCtl_GetLastError(): pass through driver error
    messages (not supported in net acq mode)
epgctl/epgacqctl.h [rev:1.40, 2002-11-17T18:19:54]:
- Make VBI device errors available to GUI
- added declaration for new function EpgAcqCtl_GetLastError()
epgctl/epgscan.c [rev:1.31, 2002-11-17T18:20:28]:
- Make VBI device errors available to GUI (UNIX only)
- use new btdrv interface function BtDriver_GetLastError() to retrieve msg.
    and print it in the scan output window
- Bugfixes:
- stream queue was cleared although not initialized when acq had to be
    newly started but input channel change failed
- acq suspend did not clear the stream buffer (error was in epgacqctl.c)
- refresh mode: print "db ok" instead of "already known"
epgui/menucmd.c [rev:1.93, 2002-11-17T18:21:59]:
- Make VBI device errors available to GUI (UNIX only)
- upon acq start failure, retrieve error message from driver and display
    to replace the former "Close all other video applications and try again"
- upon EPG scan failure: only print short message with reference to EPG scan
    message window
epgtcl/mainwin.tcl [rev:1.200, 2002-11-17T19:40:38]:
- Made columns configurable for HTML export
- removed call to proc DownloadUserDefinedColumnFilters after PI column change:
    the cache now contains all shortcuts ref'd by user-defined columns
- made proc FillColumnSelectionDialog generic: gets widget path and variable
    names as args; is now used by HTML column config dialog too;
    added new wrapper proc PiListboxColsel_ColUpdate, called by u-def cf. dlg.
epgtcl/rcfile.tcl [rev:1.4, 2002-11-17T19:40:44]:
- Made columns configurable for HTML export
- new rcfile parameters dumphtml_sel, dumphtml_sel_count, dumphtml_use_colsel,
    dumphtml_sel: replacing dumphtml_sel_only
- added consistancy check for dumphtml_colsel, eq. to PI columns
epgtcl/dlg_udefcols.tcl [rev:1.4, 2002-11-17T19:40:57]:
- Made columns configurable for HTML export
- proc DownloadUserDefinedColumnFilters: cache all shortcuts, not only those
    used in PI listbox
- proc UserColsDlg_Delete: also check HTML export config for deleted column
- use proc PiListboxColsel_ColUpdate and DumpHtml_ColUpdate
    instead of proc FillColumnSelectionDialog
epgtcl/dlg_dump.tcl [rev:1.3, 2002-11-17T19:41:06]:
- Made columns configurable for HTML export
- new rcfile parameters dumphtml_sel, dumphtml_sel_count, dumphtml_use_colsel,
    dumphtml_sel: replacing dumphtml_sel_only
- added new configuration buttons in proc PopupDumpHtml;
    added callbacks HtmlDump_ToggleType, HtmlDump_ToggleColsel
- added new dialog PopupHtmlColumnSelection
- new "static" proc DumpHtml_ColUpdate: trigger by user-defined column dialog
epgvbi/cni_tables.c [rev:1.18, 2002-11-17T20:30:53]:
- Added TV5 back into "known providers" table
epgctl/epgscan.c [rev:1.32, 2002-11-17T20:35:39]:
- bugfix EpgScan_EvHandler(): after "data" was found on a non-known provider
    channel, the state was reset to WAIT_DATA once a CNI was found
- WIN32 fix: moved declaration of pErrStr into #ifdef WIN32
epgui/pioutput.c [rev:1.40, 2002-11-17T20:43:20]:
- Made columns configurable for HTML export
- split off new function PiOutput_CfgColumnsCache(): is now used to parse
    HTML column definition too; PiOutput_CfgColumnsClear() gets pointer to cache
- removed function PiOutput_SelectHyperlinkCol(): moved in Tcl level
- moved loop across columns into PiOutput_HtmlTitle()
- added gap between PI title list and descriptions in HTML output
- added new params to C_DumpHtml: <max-count> <hyperlink=col-idx/-1> <colsel>
    hyperlink is column index instead of boolean
- Bugfix PI column type keywords
- array pColTypeKeywords was not NULL terminated
- also moved "INVALID" back to the end of the list
- also fixed funtion names in debug output
epgui/pioutput.c [rev:1.41, 2002-11-19T18:40:36]:
- bugfix PiOutput_HtmlDesc(): <A> link to title did not match anchor
nxtvepg.pod [rev:1.85, 2002-11-19T18:57:10]:
- updated section on EXPORT AS HTML for changes in the dialog options
- moved mention of code for merged database (0x00ff) from -dump to -prov
epgctl/epgversion.h [rev:1.28, 2002-11-19T18:59:32]:
- updated for release 2.4.0
- added macros for the project homepage and mail address
README [rev:1.30, 2002-11-19T20:55:23]:
- added TV5 back to list of French providers
Makefile.win32 [rev:1.29, 2002-11-19T20:56:38]:
- added -9 for win zip archive compression
- added images/*.png to win zip archive
epgvbi/btdrv4win.c [rev:1.28, 2002-11-19T20:57:48]:
- corrections & additions in tuner table, imported from bttv-0.7.100
- added tuner norm handling - still disabled in Tuner_SetFrequency()
    because GUI doesn't support it yet and SECAM multi-norm tuner would not work
- added more debug output in Tuner_SetFrequency()
epgvbi/bt848.h [dsdrv/bt8x8_reg.h, rev:1.8, 2002-11-19T20:57:55]:
- added 3 new tuner types to enum, imported from bttv-0.7.100
epgvbi/winshm.h [rev:1.9, 2002-11-19T20:58:06]:
- adapted comment for tvCurFreq: high byte contains TV norm
tvsim/tvsim_main.c [rev:1.16, 2002-11-19T20:58:21]:
- adapted comment for tvCurFreq: high byte contains TV norm
CHANGES [rev:1.29, 2002-11-19T20:59:51]:
- updated for release 2.4.0
TODO [rev:1.22, 2002-11-19T20:59:51]:
- updated for release 2.4.0
nxtvepg.spec [rev:1.10, 2002-11-19T21:00:17]:
- updated for release 2.4.0
- added TV5 back to list of French providers
www/changelog.html [rev:1.41, 2002-11-19T22:21:11]:
- updated for release 2.4.0
www/man.html [rev:1.23, 2002-11-19T22:21:11]:
- updated for release 2.4.0
www/index-de.html [rev:1.45, 2002-11-19T22:21:26]:
- updated for release 2.4.0
- replaced Linux screenshot (the previous one was VERY old; Thanks to Thierry
    for pointing this out); contains image markers for movies and highlights
    "Harald Schmidt" in bold red
- removed "K!TV" and "c't / moved to sourceforge.net" news flashes
- removed warning about bugs in < 2.2.1 and link to patches
www/index.html [rev:1.58, 2002-11-19T22:21:26]:
- updated for release 2.4.0
- replaced Linux screenshot (the previous one was VERY old; Thanks to Thierry
    for pointing this out); contains image markers for movies and highlights
    "Harald Schmidt" in bold red
- removed "K!TV" and "c't / moved to sourceforge.net" news flashes
- removed warning about bugs in < 2.2.1 and link to patches
www/pre-releases.html [rev:1.16, 2002-11-19T22:21:48]:
- update to release 2.4.0pre5
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_2_4_0 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgui/loadtcl.c [rev:1.4, 2002-11-23T15:12:58]:
- LoadTcl_Init(): fixed debug statement
- upon failure of loading static Tcl script: NULL ptr arg to sprintf
epgui/menucmd.c [rev:1.94, 2002-11-23T15:14:04]:
- WIN32 syntax fix in MenuCmd_StartLocalAcq():
- added #ifndef WIN32 around declaration of pErrStr
epgui/pioutput.c [rev:1.42, 2002-11-23T15:17:08]:
- Fixes in HTML export:
- bugfix: added extension ".png" to file names in IMG SRC tags
- enlarged "time" column from 10% to 20% so that it's certain to be large
    enough with all fonts and window sizes; also enlarged netwop column
    from 15% to 20% for symmetry
- added spaces around "-" in time specs: both in HTML and PI listbox
    (suggested by Thierry)
epgtcl/mainwin.tcl [rev:1.201, 2002-11-23T18:28:39]:
- bugfix proc ResetProgIdx: typo in array unset filter_invert(progidx)
- help text output: added bind tag "TextReadOnly" to allow copy & paste
- enlarged "time" PI listbox column due to added spaces around "-" between
    start and stop time (as suggested by Thierry)
- added new column type "user_def" for user-defined columns: consists of a
    list of all shortcuts used to define the column
epgtcl/dlg_udefcols.tcl [rev:1.5, 2002-11-23T18:28:47]:
- added new column type "user_def" for user-defined columns: consists of a
    list of all shortcuts used to define the column
- fix: automatically replace label "*unnamed*" (not only when label is empty)
    with the column header upon saving, or give a warning
epgtcl/rcfile.tcl [rev:1.5, 2002-11-23T18:28:58]:
- changed format of column header menu references in user-defined columns
- in Tcl array colsel_tabs: instead of the function name they store the
    keyword of a pre-defined column with a "&" prepended
- no format conversion required upon saving the column definition
- during load: only do a consistance check (i.e. check if the referred
    function does exist)
epgtcl/shortcuts.tcl [rev:1.7, 2002-11-23T18:29:04]:
- added new proc SelectShortcutFromTagList: used by new PI listbox column
    header menu in user-defined columns
- also added proc ToggleShortcutByTag: currently unused, commented out
epgtcl/mainwin.tcl [rev:1.202, 2002-11-23T19:48:20]:
- bugfix proc ToggleColumnHeader:
- column selection config button was not removed when column headers hidden
epgui/pioutput.c [rev:1.43, 2002-11-24T09:51:33]:
- bugfix XML output: there must be no linebreak between <title>...</title>
- pointed out by David Klotz in the discussion forum
epgvbi/btdrv4win.c [rev:1.29, 2002-11-24T18:52:43]:
- bugfix Tuner_SetFrequency():
- TUNER_PHILIPS_FQ1216ME norm setting was broken: must mask norm bits before OR
- bug reported by Volker Beck
epgvbi/btdrv4linux.c [rev:1.35, 2002-11-25T19:30:40]:
- syntax fix for NetBSD; reported by Mario
www/index-de.html [rev:1.46, 2002-11-25T20:25:54]:
- major bugfix:
- added group ID to sourceforge logo link -> to get access statistics!
- also:
- added link to changelog for known bugs in 2.4.0
- added FreeBSD to keywords list
- removed some old news items
www/index.html [rev:1.59, 2002-11-25T20:25:54]:
- major bugfix:
- added group ID to sourceforge logo link -> to get access statistics!
- also:
- added link to changelog for known bugs in 2.4.0
- added FreeBSD to keywords list
- removed some old news items
epgvbi/wintuner.c [dsdrv/wintuner.c, rev:1.1, 2002-11-26T19:13:14]:
- Initial revision
epgvbi/wintuner.h [dsdrv/wintuner.h, rev:1.1, 2002-11-26T19:13:32]:
- Initial revision
epgvbi/btdrv4win.c [rev:1.30, 2002-11-26T19:13:37]:
- Split off new module wintuner.c from btdrv4win.c
- moved I2C functions into wintuner.c
- moved tuner table and init and setfreq. funcs into wintuner.c
- moved BtDriver_MatchTunerByParams() into wintuner.c
epgvbi/btdrv.h [rev:1.27, 2002-11-26T19:13:43]:
- Split off new module wintuner.c from btdrv4win.c
- moved BtDriver_MatchTunerByParams() into wintuner.c
epgvbi/bt848.h [dsdrv/bt8x8_reg.h, rev:1.9, 2002-11-26T19:13:48]:
- Split off new module wintuner.c from btdrv4win.c
- moved tuner type enum into wintuner.h, all other wintuner.c
Makefile.win32 [rev:1.30, 2002-11-30T13:44:00]:
- added new module epgvbi/wintuner to nxtvepg and tvsim
epgvbi/wintuner.c [dsdrv/wintuner.c, rev:1.2, 2002-11-30T20:28:11]:
- Updated MT2302 code
- the previous code was appearently from an obsolete DScaler module Tuner.cpp;
    now copied from MT2302.cpp instead
- do not perform I2C detection; hard-wire to 0xC0 for MT2302
- still TODO: m_ExternalIFDemodulator (commented out)
epgtcl/dlg_filter.tcl [rev:1.5, 2002-11-30T20:28:28]:
- Improved handling of start time and duration filter dialogs (more flexible
    parsing; removed requirement to press Return key after every single change;
    made it possible to enter value "23:59" with the scales)
epgtcl/dlg_ctxmencf.tcl [rev:1.3, 2002-11-30T20:28:38]:
- split off generation of example list: new proc ContextMenuGetExamples;
    use new proc ContextMenuCopyExample as callback for example menu
- add -underline option to popup menu
- bugfix proc ContextMenuConfigAddNew: IDs were not unique
epgtcl/rcfile.tcl [rev:1.6, 2002-11-30T21:56:05]:
- bugfix: conversion of col-header menu ref's in user-defined columns
- always replaced menu ref' with "none" because check was broken
epgtcl/dlg_udefcols.tcl [rev:1.6, 2002-11-30T22:00:55]:
- bugfix: initial column header menu did not work: always said "none"
    initially, because check was not yet adapted for "&" reference format
- set focus to label entry field upon switch of user-def column
epgtcl/mainwin.tcl [rev:1.203, 2002-12-01T12:47:04]:
- small cleanup proc SelectDurationFilter:
- do not assign dursel_minstr and maxstr here, as these are used only
    when the duration filter dialog is open
- the update of these vars is now kept inside dlg_filter.tcl
epgctl/epgversion.h [rev:1.29, 2002-12-01T12:48:41]:
- set version to 2.4.1
epgui/wintvcfg.c [rev:1.11, 2002-12-01T14:15:57]:
- Adapted to split off/new module wintuner.c:
- added include wintuner.h
- renamed function BtDriver_MatchTunerByParams() into Tuner_MatchByParams()
epgui/wintvcfg.c [rev:1.12, 2002-12-01T15:26:12]:
- Fixed DScaler tuner mapping table & added new tuners from DScaler 4.00
- mapping bug pointed out by ronceval@free.fr for MT2032
www/changelog.html [rev:1.42, 2002-12-01T19:21:00]:
- updated for release 2.4.1
- fixed date in 2.4.0 release (was 2992) and link to screenshot
www/pre-releases.html [rev:1.17, 2002-12-01T19:21:30]:
- updated for release 2.4.1
www/index-de.html [rev:1.47, 2002-12-01T19:21:50]:
- updated for release 2.4.1
- 2.4.1 is stable, hence removed link to 2.3.1
- added note to feedback to check archive if the question was asked before
www/index.html [rev:1.60, 2002-12-01T19:21:50]:
- updated for release 2.4.1
- 2.4.1 is stable, hence removed link to 2.3.1
- added note to feedback to check archive if the question was asked before
CHANGES [rev:1.30, 2002-12-01T19:22:54]:
- updated for release 2.4.1
TODO [rev:1.23, 2002-12-01T19:22:54]:
- updated for release 2.4.1
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_2_4_1 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
www/tripod-src-index.html [rev:1.12, 2002-12-01T19:43:10]:
- added releases 2.3.1, 2.4.0 and 2.4.1
- removed all tvsim packages except the new 2.4.1
- removed .0 win packages except 2.4.0
www/nefkom-src-index.html [rev:1.12, 2002-12-01T19:45:11]:
- added releases 2.4.0 and 2.4.1
- removed some old stuff
www/tripod-moved.html [rev:1.1, 2002-12-02T20:59:24]:
- Initial revision
www/tripod-moved-de.html [rev:1.1, 2002-12-02T20:59:27]:
- Initial revision
epgui/pilistbox.c [rev:1.83, 2002-12-08T19:25:16]:
- Adapted for change in typedef PiOutput_AppendInfoTextCb_Type
- PiListBox_AppendInfoTextCb(): gets only one pointer instead of up to two
- only one text pointer instead of two:
    short and long info are now separated by a newline character
- semantics change, hence renamed insertSeparator into addSeparator:
    separators are now inserted before printing the text, instead of inbetween
    short and long info: used for multiple texts in merged database instead of
    inbetween short/long info.
epgui/pioutput.c [rev:1.44, 2002-12-08T19:25:28]:
- Implemented redundancy removal for French providers
- Added new functions PiOutput_UnifyShortLong() and PiOutput_SearchLongInfo():
    use to compare each paragraph in short-info with each in long-info
- RTL2 redundancy check was split off and integrated into
    PiOutput_SearchLongInfo()
- Changed typedef PiOutput_AppendInfoTextCb_Type
--> adapted all callbacks of that type: PiOutput_HtmlAppendInfoTextCb(),
    PiOutput_XmlAppendInfoTextCb(), PiOutput_ExtCmdAppendInfoTextCb()
- only one text pointer instead of two:
    short and long info are now separated by a newline character
- semantics change, hence renamed insertSeparator into addSeparator:
    separators are now inserted before printing the text, instead of inbetween
    short and long info: used for multiple texts in merged database instead of
    inbetween short/long info.
- Also fix in PiOutput_ExtCmdAppendInfoTextCb():
- did not replace newline characters; now use "//" between short/long info
    and "////" between different provider's texts
epgui/pioutput.h [rev:1.12, 2002-12-08T19:25:34]:
- Changed typedef PiOutput_AppendInfoTextCb_Type:
- only one text pointer instead of two:
    short and long info are now separated by a newline character
- semantics change, hence renamed insertSeparator into addSeparator:
    separators are now inserted before printing the text, instead of inbetween
    short and long info: used for multiple texts in merged database instead of
    inbetween short/long info.
epgui/epgtabdump.c [epgui/dumptext.c, rev:1.5, 2002-12-08T19:25:42]:
- Adapted for change in typedef PiOutput_AppendInfoTextCb_Type
- EpgTabDumpPiInfoTextCb(): gets only one pointer instead of up to two
- note: short and long info are now separated by a newline character;
    handling newline chars was already implemented, i.e. no change required
- separators are now inserted before printing the text, instead of
    inbetween short and long info - due to semantics change: used for multiple
    texts in merged database instead of short/long info.
epgvbi/wintuner.c [dsdrv/wintuner.c, rev:1.3, 2002-12-08T19:29:15]:
- Bugfix Tuner_SetFrequency() for tuner type TUNER_PHILIPS_SECAM
- config byte was masked, but SECAM value not ORed due to preliminary #if 0
- reported multiply in forum on sourceforge.net
tvsim/tvsim_gui.tcl [rev:1.6, 2002-12-08T19:32:04]:
- Adapted to nxtvepg-2.4.0 color scheme for listboxes and entry widgets
- set text_bg #E9E9EC via option command
epgtcl/dlg_acqmode.tcl [rev:1.3, 2002-12-08T19:59:00]:
epgtcl/dlg_ctxmencf.tcl [rev:1.4, 2002-12-08T19:59:00]:
epgtcl/dlg_filter.tcl [rev:1.6, 2002-12-08T19:59:00]:
epgtcl/dlg_hwcfg.tcl [rev:1.4, 2002-12-08T19:59:00]:
epgtcl/dlg_netname.tcl [rev:1.2, 2002-12-08T19:59:00]:
epgtcl/dlg_netsel.tcl [rev:1.5, 2002-12-08T19:59:00]:
epgtcl/dlg_prov.tcl [rev:1.5, 2002-12-08T19:59:00]:
epgtcl/dlg_shortcuts.tcl [rev:1.6, 2002-12-08T19:59:00]:
epgtcl/dlg_udefcols.tcl [rev:1.7, 2002-12-08T19:59:00]:
epgtcl/dlg_xawtvcf.tcl [rev:1.4, 2002-12-08T19:59:00]:
- Global WIN32 fix for menubuttons:
- 1. make sure every menubutton has the -underline option OR
     if it's label is dynamically changed add -takefocus and -highlightcolor
- 2. if -underline is used add key binding for Alt-KeyPress to the dialog toplevel
- 3. new global variable win_frm_fg to hold highlightcolor
- x. TODO: there's a bug in WIN32: popup can only be opened once; before the
     2nd time a different popup must be opened
epgtcl/mainwin.tcl [rev:1.204, 2002-12-08T19:59:15]:
- Global WIN32 fix for menubuttons:
- 1. make sure every menubutton has the -underline option OR
     if it's label is dynamically changed add -takefocus and -highlightcolor
- 2. if -underline is used add key binding for Alt-KeyPress to the dialog toplevel
- 3. new global variable win_frm_fg to hold highlightcolor
- x. TODO: there's a bug in WIN32: popup can only be opened once; before the
     2nd time a different popup must be opened
- Also:
- use bold font for clock (Thierry)
Makefile [rev:1.50, 2002-12-08T20:15:25]:
- fixes for Nxtvepg.ad: added dependency to install target, added mkdirhier
    pointed out by pingus77@ifrance.com (via mail and 2x forum)
- moved win32 pc.tar from /c/. into /c/transfer/.
epgui/epgmain.c [rev:1.109, 2002-12-08T20:23:39]:
- WIN32 fix for maximizing the main window:
- before, the main window was maximized horizontally too, even though it
    was suppressed via "wm resizable" -> ugly gray space left & right of content
- workaround: do an "update" *before* filling the window with widgets;
    this required to withdraw it any deiconify directly before entering
    the main loop
epgctl/epgversion.h [rev:1.30, 2002-12-08T20:27:37]:
- set version to 2.4.2
www/changelog.html [rev:1.43, 2002-12-08T21:25:53]:
- updated for release 2.4.2
www/index-de.html [rev:1.48, 2002-12-08T21:29:31]:
- updated for release 2.4.2
- fixed link for Thompson web site (pointed out by Thierry)
- feedback section: added more links to mailing
www/index.html [rev:1.61, 2002-12-08T21:29:31]:
- updated for release 2.4.2
- fixed link for Thompson web site (pointed out by Thierry)
- feedback section: added more links to mailing
www/nefkom-src-index.html [rev:1.13, 2002-12-08T21:31:14]:
- updated for release 2.4.2
CHANGES [rev:1.31, 2002-12-08T21:31:41]:
- updated for release 2.4.2
TODO [rev:1.24, 2002-12-08T21:31:51]:
- updated for release 2.4.2
nxtvepg.spec [rev:1.11, 2002-12-08T21:32:01]:
- updated for release 2.4.2
tvsim/vbirec_gui.tcl [rev:1.7, 2002-12-08T21:40:16]:
- Adapted to nxtvepg-2.4.0 color scheme for listboxes and entry widgets
- set text_bg #E9E9EC via option command
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_2_4_2 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgui/pinetbox.c [rev:1.1, 2002-12-05T21:00:28]:
- Initial revision
epgui/pinetbox.h [rev:1.1, 2002-12-05T21:00:30]:
- Initial revision
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_2_5_0_pre0 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
www/pre-releases.html [rev:1.18, 2002-12-08T21:29:56]:
- added 2.5.0pre0: announced on mailing list
tcl2c.c [rev:1.5, 2002-12-08T22:21:12]:
- Fixed debian bug #172263: "FTBFS: seg fault"
- added missing #include <string.h> for strchr()
epgui/pioutput.c [rev:1.45, 2002-12-10T20:25:38]:
- bugfix short-info redundancy removal:
- PiOutput_SearchLongInfo(): check for len>30 was done before checking if
    len>shortInfoLen, hence short short-infos were never removed
- reported by Thierry
epgui/pinetbox.c [rev:1.2, 2002-12-14T09:46:15]:
- Further progress in basic implementation, but still very incomplete
- added consistancy check function, called afer all mod's of content
- made column count and listbox height configurable:
    danymic allocation memory for PI table
- renamed func PiNetBox_ScrollDown() into PiNetBox_MoveTextUp()
- fixed PiNetBox_ScrollPageDown()
- fixed PiNetBox_SelectItem(): can select column too now
- added PiNetBox_GetSelectedNetwop()
- added shells for missing functions
- added new func PiNetBox_Toggle() both to pilistbox and pinetbox
    dynamically changes Tcl callback procs for the selected layout type;
    note: globally renamed C_PiListbox_* into C_PiBox_* and renamed reset and
    refresh funcs from C_Reset_PiListbox into C_PiBox_Reset
epgui/pinetbox.h [rev:1.2, 2002-12-14T09:48:13]:
- Removed declarations for all Tcl callback functions
- invocations are no longer routed via pilistbox.c
- instead the Tcl callback procs are dynamically re-assigned upon layout change
epgui/pinetbox.c [rev:1.3, 2002-12-14T13:09:56]:
- introduced #define NETBOX_ELEM_GAP for scrolling:
- struct NETBOX_ELEM: replaced char with short
- bugfix cur_req_row handling in PiNetBox_MoveTextUp()
- fixed PiNetBox_SelectItem(): check if different elem is selected
epgui/pinetbox.c [rev:1.4, 2002-12-15T16:33:28]:
- Implemented scrolling horizontally though network list
- implemented use of netwop mapping tables
    + new internal PiNetBox_UpdateNetwopMap(): copy Tcl vars
    + new interface PiNetBox_AiStateChange(): notifications about mapping changes
- split off function PiNetbox_FillDownwards() from Reset and CursorDown:
    to be used by all downwards scrolling functions
- implemented PiNetBox_GotoPi(): for following TV channel changes
- moved PiNetBox_Toggle() into Create: toggling is now controlled by
    new meta-module pibox.c
- globally renamed state struct "netbox_state" into "netbox"
epgui/pinetbox.h [rev:1.3, 2002-12-15T16:34:28]:
- Implemented scrolling horizontally though network list
- new interface PiNetBox_AiStateChange(): notifications about mapping changes
- implemented PiNetBox_GotoPi(): for following TV channel changes
- added PiNetBox_GetSelectedPi(): called via new meta-module pibox.c
epgui/pidescr.c [rev:1.1, 2002-12-15T16:34:55]:
- Initial revision
epgui/pidescr.h [rev:1.1, 2002-12-15T16:34:57]:
- Initial revision
epgui/pinetbox.c [rev:1.5, 2002-12-15T19:09:03]:
- fixed PI block consistancy check for netwop mapping  (Still disabled though
    due to missing refresh function)
- implemented PiNetBox_AdjustScrollBar(): netbox.pi_count not correctly
    maintained by the other funcs though; added calls to the function after
    every call to Fill function
- fixed PiNetbox_FillDownwards(): limit delta when the last PI is reached
    (i.e. do not allow empty space at the bottom)
- buxfix in max arg passed to PiFilter_UpdateNetwopList()
epgui/pinetbox.c [rev:1.6, 2002-12-21T16:22:48]:
- Implemented upwards scrolling
- changed handling of partially visible elements at the top: text is no longer
    deleted, instead visible area in text widget is shifted down by
    new function PiNetBox_SetVisible()
- added new elem start_off to struct NETBOX_COL: used when 1st elem is partial
- changed PiNetbox_InsertSpace(), PiNetbox_InsertPi() etc. to use start_off
- new funcs PiNetBox_FillUpwards() and PiNetBox_MoveTextDown()
- prelimiary refresh by PiNetBox_FillAroundPi()
- Also:
- split off func PiNetBox_PickCursorRow() from cursor left/right
- blue background for "NOW" items
epgui/pinetbox.c [rev:1.7, 2002-12-21T19:40:25]:
- Added horizontal scrollbar
- new functions PiNetBox_AdjustHorizontalScrollBar() and
    PiNetBox_ScrollHorizontal() (still empty)
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_2_5_0_pre1 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgui/pinetbox.c [rev:1.8, 2002-12-22T20:58:04]:
- Policy fix: prevent gaps in PI sequence after scrolling
- before, when an overlong PI was at top, some later but less tall PI could
    already be scrolled out at the top; now we avoid such gaps, even if it means
    keeping invisible PI in the database (those were generated already anyways
    when scrolling upwards)
- PiNetBox_MoveTextUp(): added scan for top-most non-deleted element
- increased max_elems from 2 to 3 times the netbox height/3
- vertical scrollbar calc: add invisible elements to pi_off
- More fixes:
- enabled database consistancy check (i.e. compare PI db sequence with listbox)
- fix in consistancy check max_row calculation for empty columns
- PiNetBox_MoveTextDown(): removed wrong assertion
- PiNetBox_FillUpwards(): remove empty lines at listbox top for tighter packing
- PiNetBox_FillAroundPi(): added work-around: start insertion with the oldest
    PI with the same start-time (or the older overall, if in NOW area) to avoid
    obscure placement (esp. in NOW area)
- PiNetBox_ScrollPageDown() and Up(): prevent that delta gets 0
- PiNetBox_Resize() bug: initialize pCol->netwop
epgvbi/btdrv4linux.c [rev:1.36, 2002-12-24T09:14:48]:
- Fixed several error message strings: added spaces and ":" before strerr()
epgui/pinetbox.c [rev:1.9, 2002-12-24T09:55:03]:
- added consistancy check for cursor position
- fix PiNetBox_WithdrawCursor() and PiNetBox_ShowCursor():
    removed obsolete folding of start_row < 0 to 0
- split off new func PiNetBox_RemoveSpace() from _FillUpwards()
- new func PiNetBox_AlignNowItems(): used by _FillUpwards()
- fix PiNetBox_FillDownwards(): call MoveUp even for pPiBlock == NULL
    in case the last PI is visible only partially
- pulled calls of PiNetBox_ShowCursor() and consistancy check
    out of fill functions and one level up (avoids redundant calls in many cases)
- bugfix PiNetBox_PickCursorRow(): used cur_col instead of colIdx func arg
epgui/pinetbox.c [rev:1.10, 2002-12-24T11:44:54]:
- Fixed netwop mapping for special case net_count < col_count
epgui/pinetbox.c [rev:1.11, 2002-12-25T22:50:44]:
- added cur_req_time to struct NETBOX_STATE: updated in cursor up/down, select
- pseudo cursor: place at cur_req_row instead of row 0
- PiNetBox_FillDownwards() improvements:
    + don't put non-NOW items at same height as NOW items
    + make sure elements are placed lower than any other which *ended* earlier;
      before only the directly previous element was compared: not enough, since
      there may have been a shorter programme inbetween
- PiNetBox_FillUpwards() improvements:
    + equiv to downwards fill, place elems higher than any which start later
      than the stop time of the current PI
    + bugfix: cur_idx increment only if < entry count
- PiNetBox_FillAroundPi(): handle cur_req_row; update vert. scrollbar
- Implemented horizontal scrolling:
- added PiNetBox_PickCurPi() and PiNetBox_PickNewPi() to select a PI
    for _FillAround()
- added PiNetBox_ScrollRight() and _ScrollLeft() for _ScrollHorizontal()
epgui/pinetbox.c [rev:1.12, 2002-12-26T21:59:41]:
- Fixed cursor placement (no longer select partially displayed items)
- introduced #define INVALID_CUR_IDX
- added typedef PARTIAL_HANDLING for PiNetBox_PickCursorRow()
- consistancy check: added pi_off and pi_count checks & cursor placement
- PiNetBox_AdjustVerticalScrollBar(): handle invisible elements
- PiNetBox_FillUpwards(): added NOW items offset (forgotten before)
- PiNetBox_FillAroundPi(): included handling of NULL PI
- functions moved (used by refresh & vertical scrolling funcs too):
    PiNetBox_PickCursorRow(), _PickCurPi(), _PickNewPi()
- new func _ScrollIfPartial(): split off from PiNetBox_SelectItem()
- added arg PARTIAL_HANDLING to PiNetBox_PickCursorRow():
    + don't select partials unless allowed
    + this func is now called from all scroll functions (to avoid partial elems)
- new func PiNetBox_ScrollIfPartial(): if partial item selected, scroll
- PiNetBox_PickCurPi(): more lax: allow start <=req.time<stop
- moved _ScrollVertical(), to be close to other vert. scroll funcs
- Also:
- fixed PiNetBox_UpdateNetwopMap() for db without AI block
epgui/pinetbox.c [rev:1.13, 2002-12-27T15:45:58]:
- Completed the last two external interface functions
- implemented PiNetBox_GotoTime()
    -> added new param to EpgDbSearchFirstPiAfter(): time search mode
       as used by the timescale windows (min_start == FALSE)
- completed PiNetBox_GotoPi() for the case that the given PI is from a
    different network than currently displayed
- Also:
- PiNetBox_UpdateInfoText(): clear text widget if no PI is selected
- source code clean-up: globally removed space frome line ends
- PiNetBox_AiStateChange(): removed preliminary work-around: replaced "reset"
    with "refresh" function
epgui/pinetbox.c [rev:1.14, 2002-12-27T19:26:32]:
- Improved cursor placement after scolling
- PiNetBox_ShowCursor(): new param CUR_UPD_HANDLING: save cursor pos and
    selected time in cur_req_row -> done after all vertical movements
- fixed PiNetBox_ShowCursor() for pseudo cursor: must add start_off
- fixed handling of invisible elements in _CursorUp() and _CursorDown():
    new functions _IsPartialElemAtTop(), _IsPartialElemAtBottom()
- changed PiNetBox_PickNewPi() to use RUNNING_AT search mode
- PiNetBox_Refresh() fixed: currently selected element has highest prio to
    be used for FillAround (before the cursor was moved to different elem when
    cur_req_time did not match the selected element)
epgui/pinetbox.c [rev:1.15, 2002-12-27T20:15:49]:
- small fix: rounding fractions delivered by scrollbar
- esp. for the horizontal, because else the slider jumps too much when
    moved leftwards
TODO [rev:1.25, 2002-12-27T20:52:32]:
- update for pre-release 2.5.0pre2
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_2_5_0_pre2 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgui/pinetbox.c [rev:1.16, 2002-12-28T11:29:43]:
- bugfix NOW placement in PiNetBox_FillDownwards():
    time comparison used ">= now" instead of "> now"
- globally replaced use of time(NULL) with new epgdbfil.h function (macro)
    EpgDbFilterGetExpireTime(pPiFilterContext)
epgui/epgmain.c [rev:1.110, 2002-12-28T11:36:30]:
- WIN32: always call SetWorkingDirectoryFromExe() instead of only when demo
    db path is given on command line (requested by Ronceval)
- if demo db does not exist call Usage() instead of fprintf(stderr)
    for WIN32 compatibility
epgui/epgmain.c [rev:1.111, 2002-12-28T12:31:05]:
- Implemented alternate layout for PI listbox
- adapted init & destroy: call new funcs PiBox_Create(), PiBox_Destroy()
    which then initialize/destroy the currently active modules
epgui/dumptext.c [rev:1.6, 2002-12-28T12:31:15]:
- Implemented alternate layout for PI listbox
- split off pidescr.c from pilistbox.c and pioutput.c
-> adapted prefix in function call: PiOutput_ -> PiDescription_
epgui/menucmd.c [rev:1.95, 2002-12-28T12:31:40]:
- Implemented alternate layout for PI listbox
- globally replaced calls to pilistbox.c with new "meta-module" pibox.c
epgui/pidescr.c [rev:1.2, 2002-12-28T12:32:13]:
- added spaces around "-" between start and stop time in description text
epgui/pifilter.c [rev:1.75, 2002-12-28T12:32:39]:
- Implemented alternate layout for PI listbox
- globally replaced calls to pilistbox.c with new "meta-module" pibox.c
- renamed C_ResetPiListbox() into C_PiBox_Reset()
    renamed PiListBox_Refresh() into PiBox_Refresh()
- adapted PiFilter_UpdateNetwopList():
    + read Tcl global var netwop_ai2sel instead of using return from
      Tcl proc UpdateProvCniTable
    + added arguments minIdx, maxIdx: used by pinetwbox to limit network range
epgui/pifilter.h [rev:1.9, 2002-12-28T12:32:46]:
- Implemented alternate layout for PI listbox
- adapted PiFilter_UpdateNetwopList():
    + added arguments minIdx, maxIdx: used by pinetwbox to limit network range
epgui/pilistbox.c [rev:1.84, 2002-12-28T12:32:53]:
- Implemented alternate layout for PI listbox
- split off short/long info output into new module pidescr.c
    + use new func PiDescription_ClearText() instead of widget .all.pi.list.text
- moved EPGDB_STATE into uictrl.c -> renamed PiListBox_UpdateState() into
    PiListBox_ErrorMessage(): gets char string to display
- added new interface func PiListBox_AiStateChange()
- PiListBox_Scroll(): added rounding of fract value passed by scrollbar
- renamed Tcl callback prefixes from C_PiListBox_ into C_PiBox_;
    added dummies for procs only supported by pinetbox.c
- PiListBox_SelectItem(): added wiget name as 3rd argument
    (not used here; only for pinetbox.c)
- removed obsolete func PiListBox_UpdateNowItems() (replaced with use of
    regular refresh func already long ago)
epgui/pilistbox.h [rev:1.15, 2002-12-28T12:32:56]:
- Implemented alternate layout for PI listbox
- split off short/long info output into new module pidescr.c
- moved EPGDB_STATE into uictrl.c -> renamed PiListBox_UpdateState() into
    PiListBox_ErrorMessage(): gets char string to display
- added new interface func PiListBox_AiStateChange()
- removed obsolete func decl PiListBox_UpdateNowItems()
epgui/pioutput.c [rev:1.46, 2002-12-28T12:33:03]:
- Implemented alternate layout for PI listbox
- split off short/long info output into new module pidescr.c
    -> adapted prefix in function calls: PiOutput_ -> PiDescription_
- also split off alphaNumTab: declared global, also used by pioutput.c
- renamed calls to PiListBox_GetSelectedPi() into PiBox_GetSelectedPi()
- Tcl callback proc C_PopupPi: added widget name as argument:
    required for pinetbox.c; simply passed through to Tcl proc CreatePopupPi
- renamed PiOutput_Create() into PiOutput_Init()
epgui/pioutput.h [rev:1.13, 2002-12-28T12:33:07]:
- Implemented alternate layout for PI listbox
- split off short/long info output into new module pidescr.c
    -> removed decls for PiOutput_Append...() funcs
- renamed PiOutput_Create() into PiOutput_Init()
epgui/uictrl.c [rev:1.35, 2002-12-28T12:33:52]:
- Implemented alternate layout for PI listbox
- moved EPGDB_STATE here from pilistbox.cinto uictrl.c
    + added new func UiControl_GetDbStateMsg(): code from PiListBox_UpdateState()
    + moved enum EPGDB_STATE here from pilistbox.h
- adapted UiControl_AiStateChange():
    + call several Tcl procs directly which were before implicitly called
      by PiFilter_UpdateNetwopList()
    + added call to PiBox_AiStateChange(): update netwop list in pinetbox
- adapted function prefixes in calls: changed PiListBox_ into PiBox_
epgui/wintv.c [rev:1.13, 2002-12-28T12:34:27]:
- Implemented alternate layout for PI listbox
- adapted function prefixes in calls: changed PiListBox_ into PiBox_
epgui/xawtv.c [rev:1.29, 2002-12-28T12:34:31]:
- Implemented alternate layout for PI listbox
- adapted function prefixes in calls: changed PiListBox_ into PiBox_
- Also bugfix:
- keep the database locked while calling PiListBox_GotoPi() since
    a pointer to a PI block in the db is passed
epgtcl/dlg_filter.tcl [rev:1.7, 2002-12-28T13:07:30]:
- Implemented alternate layout for PI listbox
- renamed C_RefreshPiListbox into C_PiBox_Refresh
epgtcl/dlg_netname.tcl [rev:1.3, 2002-12-28T13:07:39]:
- Implemented alternate layout for PI listbox
- renamed C_RefreshPiListbox into C_PiBox_Refresh
epgtcl/dlg_netsel.tcl [rev:1.6, 2002-12-28T13:07:48]:
- Implemented alternate layout for PI listbox
- proc UpdateProvCniTable:
    + save mapping tables in netwop_ai2sel netwop_sel2ai instead of netwop_map
    + call proc UpdateRcFile only upon changes
    + no longer return mapping list (C level uses global Tcl vars instead)
- renamed C_RefreshPiListbox into C_PiBox_Refresh
epgtcl/dlg_shortcuts.tcl [rev:1.7, 2002-12-28T13:07:56]:
- Implemented alternate layout for PI listbox
- renamed C_RefreshPiListbox into C_PiBox_Refresh
epgtcl/dlg_udefcols.tcl [rev:1.8, 2002-12-28T13:08:05]:
- Implemented alternate layout for PI listbox
- renamed C_RefreshPiListbox into C_PiBox_Refresh
epgtcl/draw_stats.tcl [rev:1.3, 2002-12-28T13:08:14]:
- Implemented alternate layout for PI listbox
- renamed C_PiListBox_GotoTime into C_PiBox_GotoTime
epgtcl/rcfile.tcl [rev:1.7, 2002-12-28T13:08:33]:
- Implemented alternate layout for PI listbox
- added pibox_type pinetbox_col_count pinetbox_col_width
epgtcl/shortcuts.tcl [rev:1.8, 2002-12-28T13:08:54]:
- Implemented alternate layout for PI listbox
- renamed C_RefreshPiListbox into C_PiBox_Refresh
epgdb/epgdbif.c [rev:1.42, 2002-12-28T13:11:24]:
- Implemented alternate layout for PI listbox
- added new interface funcs EpgDbSearchFirstPiAfter(),
    EpgDbSearchFirstPiBefore(), EpgDbCountPi(), EpgDbCountPrevPi()
epgdb/epgdbif.h [rev:1.26, 2002-12-28T13:11:29]:
- Implemented alternate layout for PI listbox
- added declarations for new interface funcs EpgDbSearchFirstPiAfter(),
    EpgDbSearchFirstPiBefore(), EpgDbCountPi(), EpgDbCountPrevPi()
- added typedef enum EPGDB_TIME_SEARCH_MODE for EpgDbSearchFirstPiAfter()
epgdb/epgdbfil.h [rev:1.24, 2002-12-28T13:11:37]:
- added macro EpgDbFilterGetExpireTime()
    used to replace now = time(NULL) in PI listboxes
epgvbi/btdrv4linux.c [rev:1.37, 2002-12-29T19:24:13]:
- Added workaround for bugs in saa7134-0.2.2 driver
- only enabled when #define SAA7134_0_2_2 is set
- BtDriver_SetInputSource(): skip check for PAL norm and norm change via
    CSTUNER: in the current v4l1-compat module vtuner.flags lackts the video
    norm capability flags & VIDIOCSTUNER always returns an error code
- BtDriver_DecodeFrame(): the 2nd field of every frame is one buffer late
epgvbi/vbidecode.c [rev:1.32, 2002-12-29T19:24:19]:
- Added preliminary support for SAA7134 chip
- only enabled when #define SAA7134 is set
- SAA7134 chip has a different offset and sampling rate than the Bt8x8 chips
- also added debugging support, disabled by compiler switch
www/pre-releases.html [rev:1.19, 2002-12-30T20:52:41]:
- added intro and link to homepage
- added all META tags & DOCTYPE
- updated 2.5.0pre0 to (pre1 and then) pre2
- added patch-saa7134-0.2.2.txt.gz
- added warrany disclaimer & copyright
www/index.html [rev:1.62, 2002-12-30T20:52:46]:
- added Nedstat Basic code (moved here from tripod-moved.html)
www/index-de.html [rev:1.49, 2002-12-30T20:52:53]:
- added Nedstat Basic code (moved here from tripod-moved-de.html)
- fixed date in download intro from 1.12. to 8.12.2002
- fix in feedback section: removed redundant link to forum (copy error)
www/man.html [rev:1.24, 2002-12-30T20:53:05]:
- removed <HR> at page top
www/tripod-moved-de.html [rev:1.2, 2002-12-30T20:53:13]:
- removed Nedstat Basic code (moved to index-de.html)
www/tripod-moved.html [rev:1.2, 2002-12-30T20:53:18]:
- removed Nedstat Basic code (moved to index.html)
epgui/epgmain.c [rev:1.112, 2003-01-03T14:25:40]:
- Severe bugfix RemoveMainIdleEvent():
- SEGV due to logically inverted NULL pointer check for clientData comparison
epgui/pinetbox.c [rev:1.17, 2003-01-03T14:28:15]:
- Implemented refresh functions (NOT complete yet!)
- added new function PiNetBox_RefreshDownwards() and _Upwards()
    + added element upd_time to struct NETBOX_ELEM
      initialized by EpgDbGetPiUpdateTime() in Fill and Refresh funcs
    + added element pi_resync to struct NETBOX_COL: set by PI acq callback
- added hook to PI acq: added new callback func PiNetBox_RefreshEvent()
    + callback is installed with new func EpgDbSetPiAcqCallback() during init
      and AI state change (but never uninstalled - XXX better solution required)
- call PiNetBox_RefreshEvent() from every Tcl func when pi_resync is TRUE
epgui/pinetbox.c [rev:1.18, 2003-01-04T10:57:39]:
- Continued implementation of refresh funcs
- added consistancy assertion to check for gaps > 1 line between elements
- scroll listbox upwards if empty space at top
    new helper funcs: PiNetBox_AppendSpace() [split off from _FillDownwards()],
    PiNetBox_CountEmptyRows()
- skip first PI in upwards refresh (already done by downwards);
- align NOW items (still TODO: tag new NOW items)
    func PiNetBox_TopDownAlign() generalized
- replaced printf()'s with dprintfX()
- upwards refresh: fixed pi_off handling
- upwards refresh: bugfix: adapt pCol->text_rows when elements are removed
    or inserted which are partly beyond netbox.height
- removed unused func PiNetBox_DbRecount()
epgui/pinetbox.c [rev:1.19, 2003-01-04T20:49:41]:
- Continued implementation of refresh funcs
- scroll listbox downwards if empty space at bottom
    added new func PiNetBox_CountEmptyRowsAtBottom()
- added alignment of NOW items for upwards refresh
    + greatly extended PiNetBox_AlignNowItems()
    + when aligning, make sure no gaps remain below NOW items
- improved isMovie flag determination in _InsertPi() [temporary feature only]
- fix PiNetBox_PickCurPi(): make sure PI still matches filter
    improved handling of start_time: handle < expireTime separately
- PiNetBox_PickNewPi(): additionally return info if the selected item is visible
- -> improved refresh: only do fill-around anymore if PI is invisible
    also removed cases where reset is done: only if netbox is empty
- bugfix PiNetBox_RefreshUpwards(): failed to remove expired PI
    if they directly preceded the reference PI
epgui/pinetbox.c [rev:1.20, 2003-01-05T19:15:45]:
- cleaned up global declarations, added comments
    moved nameless structs from refresh funcs to global, named REFRESH_VECT
- bugfix PiNetBox_PickCurPi(): loop across columns did not terminate when
    PI block was found and returned invalid column index
- fix refresh funcs: check if column index is valid (else: was SEGV)
- downwards refresh: added %+d start_off for all dprintf
epgui/pinetbox.c [rev:1.21, 2003-01-05T22:04:03]:
- bugfix PiNetBox_AlignNowItems(): bug in handling start_off < 0
- bugfix PiNetBox_PickCurPi(): last fix was not correct
    use goto to break outer loop too, else colIdx is incremented once too often
epgui/pinetbox.c [rev:1.22, 2003-01-06T13:58:48]:
- Redesigned delta vector handling in refresh functions
- before "curDelta" was the minimum delta vecor of all columns, and it
    was reduced as soon as a column was encountered where items could not
    be shifted by the full delta; also it never became negative.
- now it's been replaced by "maxDelta" which is simply the maximum delta
    vector of all columns; it's no longer reduced when shifting fails due to
    lack of space. It can become negative when items are inserted.
- rationale: sometimes there are cases where a removal influences placement
    more than one item ahead in a different column, i.e. it may be that the
    very next element in a different column cannot be shifted, but the
    following could - or must be shifted, or an excessive gap would result.
dsdrv/saa7134.c [rev:1.1, 2003-01-07T22:06:31]:
- branches:  1.1.1;  1.1.2;  1.1.3;
- Initial revision
dsdrv/saa7134.h [rev:1.1, 2003-01-07T22:06:31]:
- Initial revision
dsdrv/saa7134_reg.h [rev:1.1, 2003-01-07T22:06:31]:
- branches:  1.1.1;
- Initial revision
dsdrv/saa7134_reg.h [rev:1.2, 2003-01-08T21:46:06]:
- Switched RS_CONTROL register access from byte-wise to dword-wise
- added #define SAA7134_RS_CONTROL
- #if 0'ed the SAA7134_RS_CONTROL_0..3 #defines
dsdrv/saa7134.c [rev:1.2, 2003-01-08T21:46:12]:
- Bugfixes: DMA now works (but crashes the machine -> TODO)
- added DumpRegisters() for debugging
- bugfix SAA7134_MAIN_CTRL in SetPageTable(): lower 8 bits must not be cleared
- switched handling of SAA7134_RS_CONTROL from byte-wise to dword-wise
- merged SetBaseOffsets() into SetPageTable()
- initialize more registers to same values as Linux driver
- SAA7134_Init(): totally disabled module by #if 0 #else return FALSE
dsdrv/saa7134.c [rev:1.3, 2003-01-09T06:16:32]:
- bugfix CreatePageTable(): don't divide physical addresses / PAGE_SIZE
- XXX DMA still crashes the machine, but less hard and quick :)
dsdrv/hwmem.c [rev:1.1, 2003-01-09T06:28:45]:
- branches:  1.1.1;
- Initial revision
dsdrv/hwmem.h [rev:1.1, 2003-01-09T06:28:45]:
- Initial revision
dsdrv/hwmem.c [rev:1.2, 2003-01-09T14:42:37]:
- converted from C++ to C
- in difference to other dsdrv modules, this one supports multiple instances;
    therefore a structure is passed as first function arg and used to hold
    static data
dsdrv/hwmem.h [rev:1.2, 2003-01-09T14:42:37]:
- converted from C++ to C
- in difference to other dsdrv modules, this one supports multiple instances;
    therefore a structure is passed as first function arg and used to hold
    static data
dsdrv/saa7134.c [rev:1.4, 2003-01-09T14:50:34]:
- Converted DMA memory alloc from to new hwmem.c interface -> DMA works now!
- hwmem.c was newly imported from DScaler (however not the latest version)
- removed obsolete funcs GetPhysicalAddress(), GetFirstFullPage()
- renamed SAA7134_MemoryInit() into SAA7134_AllocDmaMemory()
    added new func SAA7134_FreeDmaMemory()
dsdrv/saa7134_i2c.c [rev:1.1, 2003-01-09T15:52:34]:
- branches:  1.1.1;
- Initial revision
dsdrv/saa7134_i2c.h [rev:1.1, 2003-01-09T15:52:34]:
- Initial revision
dsdrv/saa7134_i2c.c [rev:1.2, 2003-01-09T21:17:49]:
- ported from C++ to C
dsdrv/saa7134_i2c.h [rev:1.2, 2003-01-09T21:17:49]:
- ported from C++ to C
dsdrv/wintuner.c [rev:1.4, 2003-01-09T21:24:39]:
- Added support for SAA7134 I2C bus:
- Tuner_Init now gets boolean flag: TRUE for SAA7134
- added wrapper functions around I2CBus_Read, _Write, _Probe:
    either call Bt8x8 I2C functions (same module) or SAA7134 (separate module)
- added prefix "Bt8x8" to all Bt8x8 specific I2C functions
epgtcl/dlg_hwcfg.tcl [rev:1.5, 2003-01-09T21:28:11]:
- changed text for hwcf_dsdrv_log checkbutton:
- from "Bt8x8 driver" into "Driver startup"
- because now SAA7134 is supported too next to Bt8x8
dsdrv/saa7134.c [rev:1.5, 2003-01-10T19:57:49]:
- More capture fixes & work-arounds -> works quite well now (w/ good reception)
- added work-around for "line 16" hardware bug: capture 17 lines in each field,
    use lines 0-15 in the top field, lines 1-16 in the lower field
    -> increased VBI_VSTOP to 23-3, VBI_LINES_PER_FIELD to 17
- removed ReadByte() et.al. macros: renamed functions in dsdrv library
- removed I2C related funcs: split off new module saa7134_i2c.c
- added switch ENABLE_CAPTURING to allow disabling capturing for debugging
- changed a few more PCI register settings to match the Linux driver
- ResetHardware(): wait until WASRST flag goes down (guessed flag meaning)
- SAA7134_VbiThread()
    + work-around for "line 16" hardware bug
    + process all fields between last and current (instead of last only)
    + clear processed data with memset() to avoid multiply processing it
    + reduced sleep from 5 to 1 ms
- TODO (XXX)
- there's still only one field per task coming in (upper field in A, lower
    field in B at the correct position); if only one task is used both fields
    arrive in the same task
- find a way to configure a line number offset for field B to avoid
    capturing 17 lines when only 16 are needed
dsdrv/bt8x8_i2c.c [rev:1.1, 2003-01-10T19:58:21]:
- Initial revision
dsdrv/bt8x8_i2c.h [rev:1.1, 2003-01-10T19:58:21]:
- Initial revision
dsdrv/wintuner.c [rev:1.5, 2003-01-10T20:09:31]:
- Split off Bt8x8 I2C functions into new modules bt8x8_i2c.c
- just left the read, write and probe interface funcs, which route the call
    to the appropriate driver module
- Tuner_SetFrequency(): pass an array with all values to be written instead
    of calling write multiply (which didn't work with the SAA7134 driver)
- also: do probe for MT2032 just as for other tuner chips
dsdrv/wintuner.h [rev:1.2, 2003-01-10T20:09:37]:
- Added support for SAA7134 I2C bus:
- Tuner_Init() now gets boolean flag: TRUE for SAA7134
epgvbi/btdrv4win.c [rev:1.31, 2003-01-10T20:15:35]:
- Added support for Philips SAA7134 chip
- the actual driver is in a separate module saa7134.c
- added Philips chip to PCI id list, i.e. they are counted along with BT chips,
    hence renamed BT8X8_CountCards() into BtDriver_CountCards()
- added separate module-global boolean flag "saaDrvLoaded", equiv. btDrvLoaded;
    added else cases for saaDrvLoaded in parallel to btDrvLoaded everywhere:
    call functions in saa7134 driver module
- pass saaDrvLoaded flag to tuner module
- Also:
- moved MaskDataByte() et.al. into dsdrv library
- for Bt8x8: call VbiDecodeSetSamplingRate(0)
epgvbi/btdrv4linux.c [rev:1.38, 2003-01-10T20:38:01]:
- Added support for dynamic adaption of sampling rate (for SAA7134)
- renamed VBI_MAXLINES into VBI_DEFAULT_LINES
- replaced global bufSize with bufLineSize and bufLines;
    adapted BtDriver_DecodeFrame() accordingly
- BtDriver_OpenVbiBuf(): use ioctl VIDIOCGVBIFMT to query for sampling rate
    (equiv. to G_FMT in v4l2; note: ioctl unsupported as of bttv-0.7.100 and
    saa7134-0.2.2, but patch was acceppted by Gerd Knorr at 2002-01-10)
epgvbi/vbidecode.c [rev:1.33, 2003-01-10T20:38:11]:
- Added support for dynamic adaption of sampling rate (for SAA7134)
- removed preliminary SAA7134 switch: obsolete now
- added new function VbiDecodeSetSamplingRate(): sets new global vars
    vtstep and vpsstep; special param 0 sets BTTV sampling rate
- vtscan(), vpsscan(), VbiDecodeLine(): use variables instead of defines
epgvbi/vbidecode.h [rev:1.17, 2003-01-10T20:38:18]:
- Added support for dynamic adaption of sampling rate (for SAA7134)
- added declaration of new func VbiDecodeSetSamplingRate()
dsdrv/bt8x8_reg.h [rev:1.10, 2003-01-10T20:39:51]:
- Changed #defines BT8X8_ReadByte() et.al. for PCI register access
- renamed memoryReadBYTE() into ReadByte(): functions were renamed in libdsdrv
dsdrv/dsdrv34.c [rev:1.5, 2003-01-10T20:45:49]:
- Adapted PCI register access funcs for new SAA7134 driver
- renamed functions memoryReadBYTE() et.al. into ReadByte()
    to avoid that macros have to be used in new SAA7134 driver
- fixed parameter types for some PCI register access funcs
    there were some copy & paste errors: WORD instead DWORD for data param etc.
- added MaskDataByte(), AndDataByte() and OrDataByte(), ...Word(), ...Dword()
    to support SAA7134 driver (removed equiv. fincs from Bt8x8 driver)
dsdrv/dsdrvlib.h [rev:1.6, 2003-01-10T20:45:49]:
- Adapted PCI register access funcs for new SAA7134 driver
- renamed functions memoryReadBYTE() et.al. into ReadByte()
    to avoid that macros have to be used in new SAA7134 driver
- fixed parameter types for some PCI register access funcs
    there were some copy & paste errors: WORD instead DWORD for data param etc.
- added MaskDataByte(), AndDataByte() and OrDataByte(), ...Word(), ...Dword()
    to support SAA7134 driver (removed equiv. fincs from Bt8x8 driver)
dsdrv/hwpci.c [rev:1.3, 2003-01-10T20:46:07]:
- Fixed parameter types for some PCI register access funcs
- there were some copy & paste errors: WORD instead DWORD for data param etc.
dsdrv/hwpci.h [rev:1.3, 2003-01-10T20:46:07]:
- Fixed parameter types for some PCI register access funcs
- there were some copy & paste errors: WORD instead DWORD for data param etc.
epgdb/epgblock.c [rev:1.48, 2003-01-10T21:00:54]:
- Added work-around for cross-compiling WIN32 executables on Linux
- "timezone" is undefined: add #define to map it onto _timezone
COPYRIGHT [rev:1.6, 2003-01-11T11:48:51]:
- updated copyright for 2003
- added copyrights of new SAA7134 and updated I2C support
nxtvepg.pod [rev:1.86, 2003-01-11T11:49:34]:
- Updated copyright for 2003
Makefile [rev:1.51, 2003-01-11T11:49:39]:
- Implemented alternate layout for PI listbox:
    + split off new modules pibox, pinetbox from pilistbox
    + split off new modules pidescr from pioutput
- added temporary #define SAA7134_0_2_2
    to enable workarounds for linux saa7134 driver version 0.2.2
- fixed mkdirhier $(resdir)/app-defaults
- updated "clean" rule (remove win32 cross-compile objects too)
Makefile.win32 [rev:1.31, 2003-01-11T11:49:45]:
- added cross-compile support for Linux
- Implemented alternate layout for PI listbox:
    + split off new modules pibox, pinetbox from pilistbox
    + split off new modules pidescr from pioutput
- added driver support for SAA7134
    + added new module dsdrv/hwmem (DMA memory alloc)
    + added new module saa7134, saa7134_i2c
    + split off new module bt8x8_i2c from wintuner
- changed default target from "all" to "devel", which build only nxtvepg.exe
    and not tvsim.exe et.al.
- updated "clean" rule for epgtcl/
Makefile [rev:1.52, 2003-01-11T13:02:05]:
- Applied Debian patches (from Gerd Knorr, via email 2002-12-09)
- use tclsh to query for version of installed Tcl/Tk libraries
- allow to override some CFLAGS by environment var
- use CFLAGS to compile tcl2c (instead of only -O)
- install rule: replaced mkdirhier with install -d
tcl2c.c [rev:1.6, 2003-01-11T13:02:16]:
- Syntax fixes (some reported by Gerd Knorr, via email 2002-12-09)
- added #include <time.h>, else SEGV on 64-bit architectures
- fixed many typos in description in file header
- removed obsolete typedef bool and defines for TRUE and FALSE
- removed obsolete variable declarations in main
epgui/loadtcl.c [rev:1.5, 2003-01-11T13:02:52]:
- Applied Debian patches (from Gerd Knorr, via email 2002-12-09)
- added #include <string.h>, else SEGV on 64-bit architectures
epgvbi/btdrv4linux.c [rev:1.39, 2003-01-11T14:26:01]:
- NetBSD/FreeBSD ONLY: merged patch from Simon Barner (email 2002-01-07)
- bugfix BtDriver_ScanDevices(): strncpy() used wrong constant
- NetBSD/FreeBSDBtDriver_DecodeFrame(): increased time for alarm
    from 10 to 180: else the app (allegedly) terminated during the EPG scan
    during unused channels between E12 and S2
- BtDriver_TuneChannel(): mute audio after opening /dev/tuner
    BtDriver_CloseDevice(): undo audio mute (ioctl BT848_SAUDIO)
epgvbi/btdrv.h [rev:1.28, 2003-01-11T14:26:44]:
- NetBSD/FreeBSD ONLY:
- added #define MAX_BSD_CARD_NAME_LEN 20 for name of input
epgvbi/vbidecode.c [rev:1.34, 2003-01-11T14:31:20]:
- Work-around until saa7134 driver supports ioctl VIDIOCGVBIFMT:
- VbiDecodeSetSamplingRate(): added #ifdef SAA7134_0_2_2 to set default
    sampling_rate to SAA7134_VT_RATE (when arg 0 is given)
epgdb/epgnetio.c [rev:1.32, 2003-01-11T14:34:36]:
- NetBSD/FreeBSD ONLY: merged patch from Simon Barner (email 2002-01-07)
- added defined(__FreeBSD__) behind defined(__NetBSD__)
epgui/menucmd.c [rev:1.96, 2003-01-11T14:36:19]:
- NetBSD/FreeBSD ONLY: merged patch from Simon Barner (email 2002-01-07)
- added defined(__FreeBSD__) behind defined(__NetBSD__)
epgctl/debug.h [rev:1.16, 2003-01-11T14:37:02]:
- NetBSD/FreeBSD ONLY: merged patch from Simon Barner (email 2002-01-07)
- replaced #include malloc.h with stdlib.h
epgtcl/shortcuts.tcl [rev:1.9, 2003-01-11T15:07:59]:
- fix proc SelectShortcuts:
- before, C_PiBox_Refresh was called twice upon shortcut selections
--> use proc C_InvertFilter directly instead of proc InvertFilter
epgtcl/mainwin.tcl [rev:1.205, 2003-01-11T15:13:09]:
- Implemented alternate layout for PI listbox
- new global config vars pibox_type, pinetbox_col_count, pinetbox_col_width
- renamed all C_PiListBox_ procs into C_PiBox_
    renamed C_RefreshPiListbox into C_PiBox_Refresh; same for Reset
- added preliminary "New layout" button to main window, below shortcuts list
    callback new proc Toggle_PiBoxType
- created new bind tag "TextPiBox": common bindings for listbox and netbox
- added new frame .all.pi.list.nets and horizontal scrollbar .all.pi.list.hsc
    to main window: only mapped when pibox_type != 0
- redesigned network mapping
    + now use two global lists netwop_ai2sel, netwop_sel2ai
- PiBox callbacks get widget as parameter (to identify the current netbox col)
    + proc SelectPi, SelectPiRelease, CreateContextMenu, Create_PopupPi
    + UpdatePiMotionScrollTimer supports scrolling in X and Y direction
    + plus many more specific changes to support netbox
epgtcl/mainwin.tcl [rev:1.206, 2003-01-11T15:15:20]:
- Updated copyright for 2003
dsdrv/bt8x8_i2c.c [rev:1.2, 2003-01-11T19:29:46]:
- Completely replaced the implementation with current DScaler code
- taken from I2CBusForLineInterface.cpp
- adapted interface functions:
    + Bt8x8_I2cWrite(): removed nAddr param, now part of array
    + Bt8x8_I2cProbe(): removed, use write instead
dsdrv/bt8x8_i2c.h [rev:1.2, 2003-01-11T19:29:51]:
- Completely replaced the implementation with current DScaler code
- taken from I2CBusForLineInterface.cpp
- adapted interface functions:
    + Bt8x8_I2cWrite(): removed nAddr param, now part of array
    + Bt8x8_I2cProbe(): removed, use write instead
dsdrv/wintuner.c [rev:1.6, 2003-01-11T19:29:56]:
- added support for TDA9887 "IF demodulator"
    + copied from DScaler, however without the special Pinnacle version
    + only used in conjunction with MT2032
    + new global boolean haveTda9887
- adapted I2C interface functions for changes in bt8x8_i2c.c
    (removed nAddr param from write func, removed probe func altogether)
epgvbi/btdrv4win.c [rev:1.32, 2003-01-11T19:30:05]:
- tiny fix: removed "== TRUE" from boolean expression
dsdrv/saa7134.c [rev:1.6, 2003-01-11T19:30:13]:
- bugfix (SEGV) SAA7134_SetInputSource():
- did not check if pIsTuner == NULL (which is legal!)
- crashed tvsim.exe
epgdb/epgblock.h [rev:1.43, 2003-01-11T19:39:48]:
- Changed the way the PI listbox is notified about incoming PI
- added new enum EPGDB_PI_ACQ_EVENT
- added function pointer EPGDB_PI_ACQ_CB to db context
epgdb/epgdbif.c [rev:1.43, 2003-01-11T19:39:58]:
- Extended interface (again) for alternate PI listbox layout
- added new function EpgDbGetPiUpdateTime
- also: fixed EpgDb_GetStream(): check for NULL pointer param
- Changed the way the PI listbox is notified about incoming PI
- added new function EpgDbSetPiAcqCallback()
epgdb/epgdbif.h [rev:1.27, 2003-01-11T19:40:03]:
- Extended interface (again) for alternate PI listbox layout
- added new function EpgDbGetPiUpdateTime
- Changed the way the PI listbox is notified about incoming PI
- added new function EpgDbSetPiAcqCallback()
epgdb/epgdbmerge.c [rev:1.26, 2003-01-11T19:40:14]:
- Changed the way the PI listbox is notified about incoming PI
- EpgDbMergeInsertPi(): instead of obsolete direct function call to
    PiListBox_DbRecount(), use function pointer pPiAcqCb() in db context stuct
- removed #include "epgui/pilistbox.h"
epgdb/epgdbmgmt.c [rev:1.44, 2003-01-11T19:40:20]:
- Changed the way the PI listbox is notified about incoming PI
- global change: instead of obsolete direct function calls to PiListBox_Db*(),
    use function pointer pPiAcqCb(enum EPGDB_PI_ACQ_EVENT) in db context stuct
- removed #include "epgui/pilistbox.h"
epgctl/mytypes.h [rev:1.19, 2003-01-11T19:41:31]:
- Added typedef sshort: used in pinetbox.c
epgctl/epgversion.h [rev:1.31, 2003-01-11T19:42:23]:
- *** empty log message ***
epgui/pilistbox.c [rev:1.85, 2003-01-11T19:52:24]:
- Changed the way the PI listbox is notified about incoming PI
- added new function PiListBox_HandleAcqEvent()
- made PiListBox_Db* functions static, called by PiListBox_HandleAcqEvent()
- call new func EpgDbSetPiAcqCallback() in _Init() and _AiStateChange()
- Also:
- use new func/macro EpgDbFilterGetExpireTime() instead of time(NULL)
- bugfix PiListBox_GotoTime(): if there were not enough PI to fill the
    listbox and the min_time was > the last PI, the cursor was placed behind
    the last PI
epgui/pilistbox.h [rev:1.16, 2003-01-11T19:52:30]:
- Changed the way the PI listbox is notified about incoming PI
- replaced direct func calls with callbacks (due to alternate PI listbox layout)
- removed declarations for former directly called funcs PiListBox_Db*
epgui/pinetbox.c [rev:1.23, 2003-01-11T19:52:38]:
- Small cleanup: replaced pUiDbContext with macro dbc for consistancy
www/pre-releases.html [rev:1.20, 2003-01-11T20:37:03]:
- updated to 2.5.0pre3
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_2_5_0_pre3 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgvbi/btdrv4win.c [rev:1.33, 2003-01-15T22:02:13]:
- Added PCI IDs for SAA7133 and SAA7135
dsdrv/bt8x8_i2c.c [rev:1.3, 2003-01-19T08:08:05]:
- Adapted to new card interfaces "tvcard.h"
- moved Bt8x8 hardware specific functions into new module bt8x8.c;
    since this module is now used by new TV card module cx2388x.c
- fixed/extended Bt8x8I2c_Read(): did not use nAddr parameter;
    replaced nAddr with writeBuffer which contains device address and maybe more
- changed interface: instead of read/write funcs there's only one new func:
    Bt8x8I2c_GetInterface(): fills struct with function pointers to r/w funcs
    -> added new include tvcard.h
dsdrv/bt8x8_i2c.h [rev:1.3, 2003-01-19T08:08:17]:
- Adapted to new card interfaces "tvcard.h"
- changed interface: instead of read/write funcs there's only one new func:
    Bt8x8I2c_GetInterface(): fills struct with function pointers to r/w funcs
dsdrv/bt8x8_reg.h [rev:1.11, 2003-01-19T08:08:26]:
- renamed module from bt848.h into bt8x8_reg.h
    + to match naming scheme of other cards
- removed macros BT8X8_ReadByte() et.al.: modules now use ReadByte() directly
dsdrv/dsdrv34.c [rev:1.6, 2003-01-19T08:08:35]:
- Removed obsolete DMA functions
- memoryAlloc(), memoryFree()
- switched bt8x8 card river to use new hwmem.c module
dsdrv/dsdrvlib.h [rev:1.7, 2003-01-19T08:08:41]:
- Removed obsolete DMA functions
- memoryAlloc(), memoryFree()
- switched bt8x8 card river to use new hwmem.c module
dsdrv/saa7134.c [rev:1.7, 2003-01-19T08:08:55]:
- fixed odd-field line offset problem & removed old "17-line" workaround:
    solution was to set SAA7134_SOURCE_TIMING to SAA7134_SOURCE_TIMING_DVED
- set SAA7134_MISC_VGATE_MSB to 0x1c as suggested by Gerd Knorr
    (no appearent change in VBI captureing though)
- SAA7134_SetInputSource(): added "norm" param: needed for new Cx2388x card
- changed interface: export only one new func: SAA7134_GetInterface()
    fills struct with function pointers -> added new include tvcard.h (btdrv4win
    now dispatches all calls to card specific functions through these pointers)
dsdrv/saa7134.h [rev:1.2, 2003-01-19T08:09:01]:
- Adapted to new card interfaces "tvcard.h"
- changed interface: export only one new func: SAA7134_GetInterface()
- all previous interface funcs removed (are static now, accessed via func ptrs)
dsdrv/saa7134_i2c.c [rev:1.3, 2003-01-19T08:09:07]:
- Adapted to new card interfaces "tvcard.h"
- changed interface: instead of read/write funcs there's only one new func:
    SAA7134_I2cGetInterface(): fills struct with function pointers to r/w funcs
- made previous interface func static; added new include tvcard.h
dsdrv/saa7134_i2c.h [rev:1.3, 2003-01-19T08:09:12]:
- Adapted to new card interfaces "tvcard.h"
- changed interface: instead of read/write funcs there's only one new func:
    SAA7134_I2cGetInterface(): fills struct with function pointers to r/w funcs
- all previous interface funcs removed (are static now, accessed via func ptrs)
dsdrv/wintuner.c [rev:1.7, 2003-01-19T08:09:21]:
- Adapted to new card interfaces "tvcard.h"
- changed params for Tuner_Init() to support new card Cx2388x:
    replaced bool isSaa7134 with struct TVCARD: pointers to r/w functions
- I2C wrappers: use function pointers instead direct calls to SAA7134
    and Bt8x8 I2C funcs
dsdrv/wintuner.h [rev:1.3, 2003-01-19T08:09:27]:
- Adapted to new card interfaces "tvcard.h"
- changed params for Tuner_Init() to support new card Cx2388x:
    replaced bool isSaa7134 with struct TVCARD: pointers to r/w functions
epgvbi/btdrv4win.c [rev:1.34, 2003-01-19T08:15:13]:
- Split off Bt8x8 hardware specific code into new module bt8x8.c
- this module now just manages the different drivers
- changed interface to drivers to function pointers from include tvcard.h:
    instead of calling BT8x8 and SAA7134 functions directly
- added new driver to card list: Conexant CX23881 (aka Bt811)
- changed SetAcqPriority() into BtDriver_GetAcqPriority();
    added new card interface func XXX_Configure() to pass threadPrio and pllType
- changed params for Tuner_Init() to support new card Cx2388x:
    replaced bool isSaa7134 with struct TVCARD: pointers to r/w functions
- added norm param to BtDriver_SetInputSource()
epgvbi/vbidecode.c [rev:1.35, 2003-01-19T08:15:27]:
- fixed function header comment for VbiDecodeSetSamplingRate()
epgvbi/btdrv4linux.c [rev:1.40, 2003-01-19T08:15:48]:
- Fixes for FreeBSD/NetBSD by Simon Barner (mail 2003-01-14)
- reduced VBI_DEFAULT_LINES from 19 to 16 (bktr driver doesn't deliver more)
- BtDriver_SignalAlarm(): use BtDriver_CloseVbi() to close device
- install alarm signal handler for thread mode too (else: exit upon signal)
- reduced alarm timer back to 10 from 180
- General
- fix BtDriver_DecodeFrame() short read handling: accept buffers > line size
    (i.e. at least one line) again instead of insisting on full frame's data
dsdrv/bt8x8.c [rev:1.1, 2003-01-19T08:16:26]:
- Initial revision
dsdrv/bt8x8.h [rev:1.1, 2003-01-19T08:16:28]:
- Initial revision
dsdrv/cx2388x.c [rev:1.1, 2003-01-19T08:16:37]:
- branches:  1.1.1;  1.1.2;  1.1.3;
- Initial revision
dsdrv/cx2388x.h [rev:1.1, 2003-01-19T08:16:37]:
- Initial revision
dsdrv/cx2388x_reg.h [rev:1.1, 2003-01-19T08:16:37]:
- branches:  1.1.1;
- Initial revision
dsdrv/tvcard.h [rev:1.1, 2003-01-19T08:18:47]:
- Initial revision
Makefile.win32 [rev:1.32, 2003-01-19T08:26:32]:
- moved all windows specific, driver related modules from epgvbi/ into dsdrv/
    and build a library from them: libtvcard.a
- added new source modules to dsdrv: bt8x8, cx2388x
dsdrv/bt8x8_reg.h [rev:1.12, 2003-01-19T10:50:09]:
- Fixed module header description:
- replaced "see according C source file" with actual description for all
    xxx_reg.h files, since these have no corresponding c source file
dsdrv/cx2388x_reg.h [rev:1.2, 2003-01-19T10:50:09]:
- Fixed module header description:
- replaced "see according C source file" with actual description for all
    xxx_reg.h files, since these have no corresponding c source file
dsdrv/saa7134_reg.h [rev:1.3, 2003-01-19T10:50:09]:
- Fixed module header description:
- replaced "see according C source file" with actual description for all
    xxx_reg.h files, since these have no corresponding c source file
dsdrv/hwpci.c [rev:1.4, 2003-01-19T10:50:24]:
- Added special case for Cx2388x card in HwPci_OpenPCICard()
- need to map larger I/O area
dsdrv/cx2388x.c [rev:1.2, 2003-01-19T11:03:51]:
- added debug feature to disable capturing via (otherwise unused) PLL setting
- added #define RISC_CODE_LENGTH: allocate only 4096 instead of 83968 Bytes
- fixed Cx2388x_GetRiscPos() to work equiv to Bt8x8 module
Makefile [rev:1.53, 2003-01-19T11:06:40]:
- set CFLAGS optimization level back to 2 from 6
    (was accidentially increased due to patch)
- added tvsim/*_gui.h files to clean rule
Makefile.freebsd [Makefile.freebsd, rev:1.1, 2003-01-19T11:48:12]:
- Initial revision
Makefile [rev:1.54, 2003-01-19T11:50:25]:
- Added support for FreeBSD: supplied by Simon Barner mail 2003-01-14
- include Makefile.freebsd when uname indicates FreeBSD;
    only variable setup is platform specific, module lists not
- changed add target to use :: to allow FreeBSD to defined additional
    dependencies (printconfig)
dsdrv/saa7134.c [rev:1.8, 2003-01-19T20:51:56]:
- Implemented work-around for "only one VBI field per task" problem:
- capture one dummy video line per task -> now we get 2 VBI fields per task
    (seems like a firmware bug)
- put video data at the end of the VBI buffer; use the VBI page table too
- TODO: improve field query; currently still requires polling with 1 ms
epgctl/epgversion.h [rev:1.32, 2003-01-19T20:52:31]:
- set version to 2.5.0pre5
www/provnets.html [rev:1.20, 2003-01-19T21:10:37]:
- Moved French provider M6 into the "former providers" section
- stopped service after Dec/31/2002
www/index-de.html [rev:1.50, 2003-01-19T21:11:31]:
- Removed dead provider M6 from list for France
www/index.html [rev:1.63, 2003-01-19T21:11:31]:
- Removed dead provider M6 from list for France
www/pre-releases.html [rev:1.21, 2003-01-19T22:03:45]:
- set version to 2.5.0pre5
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_2_5_0_pre5 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
dsdrv/cx2388x.c [rev:1.3, 2003-01-21T21:48:19]:
- bugfix Cx2388x_VbiThread():
- VbiDecodeSetSamplingRate(): rate was wrong: multiply FSC_PAL by 1000000
epgctl/epgversion.h [rev:1.33, 2003-01-21T21:52:03]:
- set version to 2.5.0pre6
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_2_5_0_pre6 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
dsdrv/bt8x8_typ.c [rev:1.1, 2003-01-29T20:11:38]:
- branches:  1.1.1;
- Initial revision
dsdrv/bt8x8_typ.h [rev:1.1, 2003-01-29T20:11:38]:
- Initial revision
dsdrv/cx2388x_typ.c [rev:1.1, 2003-01-29T20:11:38]:
- branches:  1.1.1;
- Initial revision
dsdrv/cx2388x_typ.h [rev:1.1, 2003-01-29T20:11:38]:
- Initial revision
dsdrv/saa7134_typ.c [rev:1.1, 2003-01-29T20:11:38]:
- branches:  1.1.1;
- Initial revision
dsdrv/saa7134_typ.h [rev:1.1, 2003-01-29T20:11:38]:
- Initial revision
dsdrv/cx2388x_reg.h [rev:1.3, 2003-01-29T20:21:22]:
- Imported card type modules from DScaler & TV card config dialog
- removed enum eCX2388xCardId: moved to "typ" module
dsdrv/bt8x8.c [rev:1.2, 2003-01-29T20:36:09]:
- Imported card type modules from DScaler & TV card config dialog
- added include dsdrv/bt8x8_typ.h: added query to Bt8x8Typ_GetInterface()
- removed obsolete Bt8x8_SetInputSource() & interface entry
dsdrv/bt8x8_i2c.c [rev:1.4, 2003-01-29T20:36:16]:
- Imported card type modules from DScaler & TV card config dialog
- pass pTvCard pointer through for calls to pI2cLineBus
- removed global variable I2C_LINE_BUS: to allow support for multiple cards
dsdrv/cx2388x.c [rev:1.4, 2003-01-29T20:36:24]:
- Imported card type modules from DScaler & TV card config dialog
- added include dsdrv/cx2388x_typ.h: added query to Cx2388xTyp_GetInterface()
- removed obsolete Cx2388x_StandardInputSelect() & interface entry
dsdrv/saa7134.c [rev:1.9, 2003-01-29T20:36:47]:
- Imported card type modules from DScaler & TV card config dialog
- added include dsdrv/cx2388x_typ.h: added query to Cx2388xTyp_GetInterface()
- removed obsolete Cx2388x_StandardInputSelect() & interface entry
dsdrv/saa7134_i2c.c [rev:1.4, 2003-01-29T20:37:24]:
- Imported card type modules from DScaler & TV card config dialog
- added pTvCard pointer arg to Read and Write funcs: adapted to interface
    change for Bt8x8 I2C driver (to support multiple cards)
dsdrv/tvcard.h [rev:1.2, 2003-01-29T20:37:31]:
- Imported card type modules from DScaler & TV card config dialog
- added new sub struct TVCARD_CFG: interface to card list module
- removed obsolete SetInputSource() ptr from hw interface
- added new sub struct TVCARD_PARAMS: card ID and PCI IDs
- I2C interface: added pTvCard pointer arg: to support multiple cards
dsdrv/wintuner.c [rev:1.8, 2003-01-29T20:37:38]:
- Imported card type modules from DScaler & TV card config dialog
- replaced bttv tuner table with DScaler func Tuner_GetParams()
- pass pTvCard pointer through to I2C funcs (to support multiple cards)
dsdrv/wintuner.h [rev:1.4, 2003-01-29T20:37:40]:
- Imported card type modules from DScaler & TV card config dialog
- replaced bttv tuner enum with DScaler enum
- added enum eVideoFormat
epgvbi/btdrv4win.c [rev:1.35, 2003-01-29T21:17:07]:
- WIN32: imported card type modules from DScaler & TV card config dialog
- added cardId to struct btCfg
- added VendorId and DeviceId to struct TVCARD_ID for convenience
- BtDriver_SetInputSource(): replaced cardif.ctl->SetInputSource() with
    cardif.cfg->SetVideoSource(); added call to cardif.cfg->IsInputATuner()
- BtDriver_GetInputName(): call tmpCardIf.cfg->GetInputName()
- added new func BtDriver_QueryCardParams(), BtDriver_EnumCards()
- replaced BtDriver_GetCardName() with BtDriver_GetCardNameFromList()
- BtDriver_Configure(): added card & chip type args
epgvbi/btdrv.h [rev:1.29, 2003-01-29T21:17:15]:
- WIN32: imported card type modules from DScaler & TV card config dialog
- BtDriver_Configure(): added card & chip type args
- made BtDriver_GetCardName() for UNIX only
- added BtDriver_GetCardNameFromList(): retrieve card types list for chip type
- added BtDriver_EnumCards(): PCI scan
- added BtDriver_QueryCardParams(): for manual and automatic card config
epgvbi/btdrv4dummy.c [rev:1.14, 2003-01-29T21:17:22]:
- WIN32: imported card type modules from DScaler & TV card config dialog
- adapted BtDriver_Configure(): added dummy card & chip type args
epgvbi/btdrv4linux.c [rev:1.41, 2003-01-29T21:17:29]:
- WIN32: imported card type modules from DScaler & TV card config dialog
- adapted BtDriver_Configure(): added dummy card & chip type args
epgtcl/mainwin.tcl [rev:1.207, 2003-01-29T22:01:04]:
- proc CreateTransientPopup: added optional arg parent
- to be used for sub-dialogs invoked from inside another dialog
epgtcl/dlg_hwcfg.tcl [rev:1.6, 2003-01-29T22:09:49]:
- WIN32: imported card type modules from DScaler & TV card config dialog
- split off card config params into sub-dialog ".tvcard"
- replaced config var "hwcf" with discrete hwcf_cardidx et.al.
    split off card config into new array tvcardcf(cardidx)
- removed hwcfg_tvapp_* cfg vars & dialog elems: INI file parsing is obsolete
epgtcl/dlg_prov.tcl [rev:1.6, 2003-01-29T22:09:59]:
- WIN32: imported card type modules from DScaler & TV card config dialog
- proc PopupEpgScan et.al.: replaced 2-radio xawtv with 3-radio ftable1/2/tvapp
epgtcl/rcfile.tcl [rev:1.8, 2003-01-29T22:10:07]:
- WIN32: imported card type modules from DScaler & TV card config dialog
- removed obsolete vars: hwcfg_tvapp_idx hwcfg_tvapp_path
- replaced hwcfg list with discrete vars: hwcf_cardidx hwcf_input hwcf_acq_prio
- added WIN32 TV card config: array tvcardcf(cardidx)
- added epgscan_opt_ftable
epgui/wintv.c [rev:1.14, 2003-01-29T22:10:27]:
- Bugfix Wintv_FollowTvNetwork():
- keep the database locked while calling PiBox_GotoPi() since
    a pointer to a PI block in the db is passed
epgui/wintvcfg.c [rev:1.13, 2003-01-29T22:10:35]:
- WIN32: imported card type modules from DScaler & TV card config dialog
- removed INI file handling: obsolete due to card config dialog
- removed Tcl callback C_Tvapp_LoadHwConfig
epgui/menucmd.c [rev:1.97, 2003-01-29T22:13:39]:
- WIN32: imported card type modules from DScaler & TV card config dialog
- adapted C_StartEpgScan(): replaced boolean arg xawtv with ftable;
    call TvChannels_SelectFreqTable() here instead of SetHardwareConfig()
- added new WIN32 callbacks C_HwCfgGetTvCardList(), C_HwCfgQueryCardParams()
- changed callback C_HwCfgGetTvCards() for WIN32: return chip type too
Makefile.win32 [rev:1.33, 2003-01-29T22:21:31]:
- Imported card type modules from DScaler & TV card config dialog
- added new modules to TVCARD_CSRC: bt8x8_typ, saa7134_typ, cx2388x_typ
epgdb/epgdbfil.c [rev:1.39, 2003-02-01T14:59:17]:
- Fixed netwop filter handling of PI "netbox"
- added new permanent filter type FILTER_NETWOP_PRE2
    and interface funcs EpgDbFilterInitNetwopPreFilter2(), SetNetwopPreFilter2()
- added query func EpgDbFilterGetNetwopFilter():
    Query which netwops are filtered out after combining & inverting
- added network match cache to filter context struct: netwopCache[]
    maintained by internal func EpgDbFilterUpdateNetwopCache():
    network match logic split off from match func -> performance gain
- EpgDbFilterMatches(): removed "const" from filter context pointer arg
    because the context struct may now be modified due to network match caching
epgdb/epgdbfil.h [rev:1.25, 2003-02-01T15:00:24]:
- Fixed netwop filter handling of PI "netbox"
- added new permanent filter type FILTER_NETWOP_PRE2
    and interface funcs EpgDbFilterInitNetwopPreFilter2(), SetNetwopPreFilter2()
- added query func EpgDbFilterGetNetwopFilter():
    Query which netwops are filtered out after combining & inverting
- added network match cache to filter context struct: netwopCache[]
    maintained by internal func EpgDbFilterUpdateNetwopCache():
    network match logic split off from match func -> performance gain
- also changed type of netwopFilterField[] from uchar to bool
- EpgDbFilterMatches(): removed "const" from filter context pointer arg
    because the context struct may now be modified due to network match caching
epgdb/epgdbif.c [rev:1.44, 2003-02-01T15:00:31]:
- Adapted for interface change in epgdbfil.h
- in all funcs: removed "const" from filter context pointer args
    because it was removed from EpgDbFilterMatches()
epgdb/epgdbif.h [rev:1.28, 2003-02-01T15:00:35]:
- Adapted for interface change in epgdbfil.h
- in all funcs: removed "const" from filter context pointer args
    because it was removed from EpgDbFilterMatches()
epgui/pifilter.c [rev:1.76, 2003-02-01T15:02:54]:
- Fixed netwop filter handling of PI "netbox"
- pinetbox now uses a separate network pre-filter FILTER_NETWOP_PRE2
- PiFilter_UpdateNetwopList(): removed minIdx, maxIdx args
- renamed func into PiFilter_SetNetwopPrefilter(): now called by uictrl.c
epgui/pifilter.h [rev:1.10, 2003-02-01T15:03:00]:
- Fixed netwop filter handling of PI "netbox"
- PiFilter_UpdateNetwopList(): removed minIdx, maxIdx args and
    renamed func into PiFilter_SetNetwopPrefilter()
- removed "const" from decl. of pPiFilterContext
    because the context struct may now be modified in the "match" func (caching)
epgui/pilistbox.c [rev:1.86, 2003-02-01T15:03:06]:
- Fixed netwop filter handling of PI "netbox"
- PiListBox_AiStateChange(): removed call to PiFilter_UpdateNetwopList():
    now called by uictrl.c
- PiListBox_Create(): disable FILTER_NETWOP_PRE2 filter type
epgui/uictrl.c [rev:1.36, 2003-02-01T15:03:52]:
- Fixed netwop filter handling of PI "netbox"
- UiControl_AiStateChange(): added call to PiFilter_SetNetwopPrefilter():
    was previously called from inside PI listboxes, but now those are using
    a separate network pre-filter FILTER_NETWOP_PRE2
epgui/pinetbox.c [rev:1.24, 2003-02-01T15:14:39]:
- Fixed netwop filter handling
- PiNetBox_UpdateNetwopMap(): skips networks which are filtered out,
    appends pre-filtered networks which are added via netwop filter
- added new func PiNetBox_CheckNetwopFilterChange() to check for filter
    chane in reset and refresh funcs
- removed calls to PiFilter_UpdateNetwopList(): now called in uictrl.c;
    instead PiNetBox_UpdateNetwopNames() uses new filter type FILTER_NETWOP_PRE2
    to suppress networks outside of the currently visible range
dsdrv/bt8x8_i2c.c [rev:1.5, 2003-02-01T16:31:53]:
- Added DScaler RCS/CVS IDs from which source code was copied.
dsdrv/bt8x8_reg.h [rev:1.13, 2003-02-01T16:31:53]:
- Added DScaler RCS/CVS IDs from which source code was copied.
dsdrv/cx2388x.c [rev:1.5, 2003-02-01T16:31:53]:
- Added DScaler RCS/CVS IDs from which source code was copied.
dsdrv/saa7134_reg.h [rev:1.4, 2003-02-01T16:31:53]:
- Added DScaler RCS/CVS IDs from which source code was copied.
dsdrv/bt8x8_typ.c [rev:1.2, 2003-02-01T16:32:16]:
- added DScaler RCS/CVS IDs from which source code was copied
- added module header description
dsdrv/cx2388x_typ.c [rev:1.2, 2003-02-01T16:32:16]:
- added DScaler RCS/CVS IDs from which source code was copied
- added module header description
dsdrv/saa7134_typ.c [rev:1.2, 2003-02-01T16:32:16]:
- added DScaler RCS/CVS IDs from which source code was copied
- added module header description
dsdrv/bt8x8_typ.h [rev:1.2, 2003-02-01T16:32:33]:
- Improved module header comment
dsdrv/saa7134_typ.h [rev:1.2, 2003-02-01T16:32:54]:
- Improved module header comment
dsdrv/cx2388x_reg.h [rev:1.4, 2003-02-01T16:33:39]:
- #if 0'ed some incorrect definitions (inconsistant with data sheet)
dsdrv/saa7134_i2c.c [rev:1.5, 2003-02-01T16:35:33]:
- Replaced module header with nxtvepg format
- copyright messages left intact, also DScaler CVS Id
dsdrv/bt8x8_typ.c [rev:1.3, 2003-02-01T23:05:45]:
- Added NULL pointer argument checks to all interface functions
dsdrv/cx2388x_typ.c [rev:1.3, 2003-02-01T23:05:45]:
- Added NULL pointer argument checks to all interface functions
dsdrv/saa7134_typ.c [rev:1.3, 2003-02-01T23:05:45]:
- Added NULL pointer argument checks to all interface functions
dsdrv/wintuner.c [rev:1.9, 2003-02-01T23:15:09]:
- Added DScaler CVS Ids to module header
dsdrv/wintuner.h [rev:1.5, 2003-02-01T23:15:09]:
- Added DScaler CVS Ids to module header
dsdrv/saa7134_i2c.c [rev:1.6, 2003-02-01T23:15:54]:
- Added NULL pointer check to interface functions
dsdrv/cx2388x.c [rev:1.6, 2003-02-01T23:16:18]:
- Cx2388x_AllocDmaMemory(): appended "driver problem" to error message box title
- added err msg to NULL ptr check in interface func
dsdrv/bt8x8.c [rev:1.3, 2003-02-01T23:17:47]:
- Implemented TV app conflict detection
- Bt8x8_GetRISCPosAsInt(): removed while() loop to poll RISC counter;
    instead return error code to VBI thread main loop
- Bt8x8_GetRISCPosAsInt(): check if RISC start addr has changed -> return error
- Bt8x8_VbiThread(): abort loop if TV has overwritten RISC addr pointer
- Bt8x8_Close(): skip card reset if conflict was detected earlier
- Bt8x8_Open(): abort with err message if capturing & DMA is already enabled
- appended "driver problem" to all driver error message box titles
epgvbi/btdrv4win.c [rev:1.36, 2003-02-01T23:21:56]:
- bugfix BtDriver_Load(): must not call BtDriver_Unload() after card open failed
    because card close func must not be called (accesses the card)
- BtDriver_StartAcq(): initialize pVbiBuf->hasFailed to FALSE;
    added check for pVbiBuf != NULL
- appended "driver problem" to all driver error message box titles
dsdrv/hwdrv.c [rev:1.9, 2003-02-01T23:38:37]:
- Merged in changes from DScaler CVS
- changed definition of IOCTLs (adapted for new DSdrv version 4.02)
- HwDrv_SendCommandEx(): suppress debug message for IOCTL_DSDRV_GETPCIINFO:
    i.e. when HwDrv_DoesThisPCICardExist() probes for a non-existing cards
- HwDrv_LoadDriver(): fixed service start error check: added check for
    error code ERROR_PATH_NOT_FOUND to ERROR_FILE_NOT_FOUND
dsdrv/hwmem.c [rev:1.3, 2003-02-01T23:38:51]:
- Merged in changes from DScaler CVS
- changed definition of IOCTLs (adapted for new DSdrv version 4.02)
dsdrv/hwpci.c [rev:1.5, 2003-02-01T23:38:51]:
- Merged in changes from DScaler CVS
- changed definition of IOCTLs (adapted for new DSdrv version 4.02)
dsdrv/hwdrv.c [rev:1.1.1.4, 2003-02-01T23:43:21]:
- r1.15: Suppress error in log file when DoesThisPCICardExist()
         probes for a non-existing card.
- r1.16: Unload the driver when uninstalling.
- r1.17: Changed definition of IOCTLs
dsdrv/hwpci.c [rev:1.1.1.1, 2003-02-01T23:48:37]:
- Original DScaler version
dsdrv/hwmem.c [rev:1.1.1.1, 2003-02-01T23:50:48]:
- Original DScaler version
dsdrv/saa7134.c [rev:1.10, 2003-02-02T12:10:24]:
- appended "driver problem" to error message box titles
- added err msg to NULL ptr check in interface func
- prepended "DScaler" to CVS IDs
dsdrv/bt8x8_typ.c [rev:1.1.1.1, 2003-02-02T12:23:10]:
- Original DScaler BT848Card_Types.cpp Revision 1.30
dsdrv/cx2388x_typ.c [rev:1.1.1.1, 2003-02-02T12:23:27]:
- Original DScaler CX2388xCard_Types.cpp Revision 1.7
dsdrv/saa7134_typ.c [rev:1.1.1.1, 2003-02-02T12:23:36]:
- Original DScaler SAA7134Card_Types.cpp Revision 1.18
dsdrv/saa7134_typ.c [rev:1.1.1.2, 2003-02-02T12:28:51]:
- r1.22: fixed the autodetect
- r1.21: Updated MEDION TV-TUNER 7134 MK2/3
- r1.20: Updated Medion TV-Tuner 7134 MK2/3
- r1.19: Added card support for "MEDION TV-TUNER 7134 MK2/3"
dsdrv/saa7134_typ.c [rev:1.4, 2003-02-02T12:34:48]:
- Merged in changes from DScaler revisions 1.19-1.22:
- bugfix AutoDetectCardType(): SubSystemId was shifted in wrong direction
- added card support for "MEDION TV-TUNER 7134 MK2/3"
dsdrv/saa7134.c [rev:1.1.1.1, 2003-02-02T13:08:39]:
- Original DScaler SAA7134Card.cpp Revision 1.29
dsdrv/saa7134.c [rev:1.1.1.2, 2003-02-02T13:11:31]:
- Upgrade to DScaler Revision 1.33: GUI stuff only
dsdrv/saa7134.c [rev:1.1.2.1, 2003-02-02T13:14:19]:
- Original DScaler SAA7134Source.cpp Revision 1.51
dsdrv/saa7134.c [rev:1.1.2.2, 2003-02-02T13:19:09]:
- Import of SAA7134Source.cpp Revision 1.69
dsdrv/saa7134.c [rev:1.1.3.1, 2003-02-02T13:21:19]:
- Original DScaler SAA7134Provider.cpp Revision 1.10
dsdrv/saa7134_i2c.c [rev:1.1.1.1, 2003-02-02T13:23:49]:
- Original DScaler SAA7134I2CBus.cpp Revision 1.3
dsdrv/cx2388x.c [rev:1.1.1.1, 2003-02-02T13:25:16]:
- Original DScaler CX2388xCard.cpp Revision 1.28
dsdrv/cx2388x.c [rev:1.1.1.2, 2003-02-02T14:12:11]:
- Upgrade to DScaler CX2388xCard.cpp Revision 1.39
dsdrv/cx2388x.c [rev:1.1.2.1, 2003-02-02T14:15:28]:
- Original DScaler CX2388xSource.cpp Revision 1.20
dsdrv/cx2388x.c [rev:1.1.2.2, 2003-02-02T14:21:24]:
- Upgrade to DScaler CX2388xSource.cpp Revision 1.42
dsdrv/cx2388x.c [rev:1.1.3.1, 2003-02-02T14:22:13]:
- Original DScaler CX2388xProvider.cpp Revision 1.3
dsdrv/cx2388x_reg.h [rev:1.1.1.1, 2003-02-02T14:24:27]:
- Original DScaler CX2388x_Defines.h Revision 1.10
dsdrv/saa7134_reg.h [rev:1.1.1.1, 2003-02-02T14:25:59]:
- Original DScaler SAA7134_Defines.h Revision 1.9
dsdrv/cx2388x.c [rev:1.7, 2003-02-02T14:28:51]:
- Imported changes from original DScaler CX2388xCard.cpp Revision 1.39
- StopCapture() made more safe
- updated DScaler CVS tags in the module header
epgtcl/rcfile.tcl [rev:1.9, 2003-02-02T17:36:50]:
- Removed obsolete config variables
- removed tvcard_tvapp_idx tvcard_tvapp_path
- were used in WIN32 TV card input dialog to load INI files of TV apps, now our
    own card config dialog should be comfortable enough, this option is obsolete
epgtcl/dlg_prov.tcl [rev:1.7, 2003-02-02T17:38:26]:
- EPG scan: added variable trace on $tvapp_name while dialog is open
- new proc EpgScan_CheckTvAppStatus: updates status and text of
    "Load from $tvapp_name" freq. tab radio button
- added new proc EpgScan_Quit to clean up
README [rev:1.31, 2003-02-02T19:48:02]:
- updated list of WIN32 driver error messages.
- added SAA7134 to list of supported cards
- added note that Tcl/Tk 8.4. is depreciated
- replaced an obsolete reference to MultiDec with DScaler/K!TV
dsdrv/cx2388x.c [rev:1.8, 2003-02-03T20:03:03]:
- Added debugging features
- added #define DISABLE_PCI_REGISTER_DUMP & new func Cx2388x_DumpRegisters()
- added dprintf in various functions
- Merged changes from DScaler
- Cx2388x_StopCapture(): clear address for the DMA RISC code upon stop
- Cx2388x_ResetHardware(): added HwPci_GetPCIConfig()
- Cx2388x_VbiThread(): check pRiscBasePhysical to detect conflict with TV app
- Cx2388x_Open(): abort with error msg if capturing is already enabled;
    added arg TVCARD to pass through to Cx2388x_ResetHardware()
dsdrv/hwdrv.c [rev:1.10, 2003-02-03T20:03:21]:
- Updated DScaler CVS tag (after earlier diff/merge)
dsdrv/hwmem.c [rev:1.4, 2003-02-03T20:03:21]:
- Updated DScaler CVS tag (after earlier diff/merge)
dsdrv/hwpci.c [rev:1.6, 2003-02-03T20:03:35]:
- merged in HwPci_GetPCIConfig(), HwPci_SetPCIConfig() from DScaler
- updated DScaler CVS tag (after earlier diff/merge)
dsdrv/hwpci.h [rev:1.4, 2003-02-03T20:03:35]:
- merged in HwPci_GetPCIConfig(), HwPci_SetPCIConfig() from DScaler
- updated DScaler CVS tag (after earlier diff/merge)
dsdrv/saa7134.c [rev:1.11, 2003-02-03T20:03:49]:
- updated DScaler CVS tags (after earlier diff/merge)
- SAA7134_Open(): added arg TVCARD (req. for CX23881)
dsdrv/saa7134_typ.c [rev:1.5, 2003-02-03T20:04:12]:
- added new card: Typhoon TV+Radio (DScaler SAA7134Card_Types.cpp r1.23)
- updated DScaler CVS tag (after earlier diff/merge 1.19-1.22)
dsdrv/tvcard.h [rev:1.3, 2003-02-03T20:04:18]:
- TVCARD.TVCARD_CTL.open(): added arg TVCARD (req. for CX23881)
- TVCARD.TVCARD_PARAMS: added elems BusNumber, SlotNumber for CX23881
dsdrv/bt8x8.c [rev:1.4, 2003-02-03T20:04:28]:
- Bt8x8_SetCapture(): clear address for the DMA RISC code upon stop
    to prevent another app from using it and doing DMA to random memory pages
- Bt8x8_Open(): added arg TVCARD (req. for CX23881)
dsdrv/saa7134_typ.c [rev:1.1.1.3, 2003-02-03T20:49:44]:
- r1.23: Added Typhoon TV-Radio 90031
epgctl/epgversion.h [rev:1.34, 2003-02-03T21:00:59]:
- set version to 2.5.0pre7
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_2_5_0_pre7 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
epgui/menucmd.c [rev:1.98, 2003-02-03T21:07:29]:
- Fix for WIN32 TV card config dialog
- proc C_HwCfgGetInputList: added cardType argument: passed through to
    BtDriver_GetInputName(): used by WIN32 driver only
epgtcl/mainwin.tcl [rev:1.208, 2003-02-03T21:12:25]:
- proc Toggle_PiBoxType: call UpdateRcFile to save $pibox_type
epgtcl/dlg_hwcfg.tcl [rev:1.7, 2003-02-03T21:21:38]:
- Various fixes in new WIN32 TV card configuration
- split off new proc HardwareConfigLoad: also called when card config
    sub-dialog is closed to updated card name and input list
- disable card menu if there's only one card
- HardwareConfigCard and HardwareCreateInputMenu: pass additional card_type
    argument to proc C_HwCfgGetInputList
- TvCardConfigAuto and TvCardConfigManual: update tuner name display
epgvbi/btdrv.h [rev:1.30, 2003-02-03T21:22:45]:
- BtDriver_GetInputName(): added arg cardType for WIN32 driver
epgvbi/btdrv4dummy.c [rev:1.15, 2003-02-03T21:22:45]:
- BtDriver_GetInputName(): added arg cardType for WIN32 driver
epgvbi/btdrv4linux.c [rev:1.42, 2003-02-03T21:22:45]:
- BtDriver_GetInputName(): added arg cardType for WIN32 driver
epgvbi/btdrv4win.c [rev:1.37, 2003-02-03T21:23:17]:
- BtDriver_GetCardInterface(): added BusNumber, SlotNumber to pTvCard->params
- BtDriver_GetInputName(): added arg cardType, passed through to XXX_typ.c
    in tmpCardIf.params.cardId
epgui/pidescr.h [rev:1.2, 2003-02-04T19:53:02]:
- removed declaration for PiDescription_PiListboxInsert()
- function never was in this module: belongs into pioutput.c
dsdrv/saa7134.c [rev:1.1.2.3, 2003-02-07T20:55:37]:
- r1.70: removed dependency on BT848_Defines.h:
         replaced TVCARD_UNKNOWN with SAA7134CARDID_UNKNOWN
dsdrv/saa7134.c [rev:1.1.1.3, 2003-02-07T20:57:06]:
- r1.34: changes to support primetv 7133
dsdrv/saa7134_reg.h [rev:1.5, 2003-02-07T21:00:22]:
- added PCI_DEVICE_ID_PHILIPS_SAA7133
dsdrv/saa7134_reg.h [rev:1.1.1.2, 2003-02-07T21:02:18]:
- r1.10: changes to support primetv 7133: added PCI_DEVICE_ID_PHILIPS_SAA7133
tvsim/tvsim.pod [rev:1.6, 2003-02-08T14:28:01]:
- Added newly supported chips to -card list.
tvsim/tvsim_main.c [rev:1.17, 2003-02-08T14:28:16]:
- Adapted for TV card config change in SetHardwareConfig():
- imported SetHardwareConfig() from menucmd.c: replaced var hwcfg with tvcardcf
    which is an array(cardidx) instead of a scalar
- abort with err msg if configuration invalid or missing
- Also:
- TCL_EVAL_CONST: added uplevel #0, same as in debug.h
- renamed proc LoadRcFile into Tvsim_LoadRcFile to avoid confusion
tvsim/tvsim_version.h [rev:1.4, 2003-02-08T14:28:24]:
- Set version to 1.11 due to change in TV cad config (in nxtvepg)
tvsim/tvsim_gui.tcl [rev:1.7, 2003-02-08T14:28:42]:
- adapted for TV card config change: replaced hwcfg with tvcardcf
- renamed proc LoadRcFile into Tvsim_LoadRcFile to avoid confusion with
    nxtvepg's proc of the same name
dsdrv/wintuner.c [rev:1.10, 2003-02-08T14:29:58]:
- removed obsolete #include files (bt8x8_i2c and saa7134_i2c)
dsdrv/dsdrv34.c [rev:1.7, 2003-02-08T14:30:32]:
- Added GetDriverErrorMsg(): moved here from btdrv4win.c
dsdrv/dsdrvlib.h [rev:1.8, 2003-02-08T14:30:32]:
- Added GetDriverErrorMsg(): moved here from btdrv4win.c
dsdrv/hwdrv.c [rev:1.11, 2003-02-08T14:30:46]:
- HwDrv_UnInstallNTDriver: first unload the driver [from DScaler rev. 1.16]
- else installation of a new driver failed if an old version was still running
- ERROR_SERVICE_MARKED_FOR_DELETE
dsdrv/saa7134.c [rev:1.12, 2003-02-08T14:30:55]:
- Fixed field status polling
- before, the slicer status bits were polled, but those were unreliable, b/c
    only set while the 16 lines were sliced (i.e. only for a tiny fraction of
    the field duration)
- now magics are writen into the video DMA buffer in new func ClearFieldMarker()
- SAA7134_VbiThread() loop: use CheckFieldMarkers() for polling for new data
epgvbi/btdrv.h [rev:1.31, 2003-02-08T14:34:21]:
- WIN32 BtDriver_EnumCards(): added arg bool showDrvErr
epgui/menucmd.c [rev:1.99, 2003-02-08T14:35:48]:
- fix C_SetControlMenuStates: disable XMLTV same time as HTML
- proc C_HwCfgGetTvCards: added arg show-drv-err=0/1,
    passed through to BtDriver_EnumCards()
- WIN32: added new func MenuCmd_CheckTvCardConfig(): for statswin.c
    Check if the selected TV card is configured properly
epgui/menucmd.h [rev:1.20, 2003-02-08T14:35:48]:
- WIN32: added new func MenuCmd_CheckTvCardConfig(): for statswin.c
    Check if the selected TV card is configured properly
epgui/pioutput.c [rev:1.47, 2003-02-08T14:37:01]:
- Bugfix PiListBox_ShowCursor():
- replaced use of time(NULL) with new epgdbfil.h function (macro)
    EpgDbFilterGetExpireTime(pPiFilterContext)
- solves bug: more than one PI could be marked "now" under certain circumstances
epgui/statswin.c [rev:1.63, 2003-02-08T14:37:01]:
- WIN32: display warning if TV card not configured
- StatsWin_UpdateDbStatsWin() and StatsWin_UpdateDbStatusLine():
    use new function MenuCmd_CheckTvCardConfig()
Makefile.win32 [rev:1.34, 2003-02-08T14:40:46]:
- Fixed dependencies for tvsim and vbirec
- replaced .c dependencies with TVSIM_TCLSRC/.h
- added rule .tcl -> .h
epgvbi/btdrv4win.c [rev:1.38, 2003-02-08T14:47:51]:
- Bugixes in new TV card configuration:
- bugfix crash BtDriver_SetInputSource(): must not call
    cardif.cfg->IsInputATuner() unless drvLoaded
- BtDriver_QueryCardParams(): added error messages upon failures;
    cleaned up driver loading
- BtDriver_EnumCards(): added arg bool showDrvErr: display driver errors
- BtDriver_Load(): split off loadError, moved into dsdrv34.c
epgvbi/btdrv4win.c [rev:1.39, 2003-02-08T14:51:18]:
- Enabled support for Philips SAA7133 and SAA7130
- cards are supported and already included in saa7134_typ.c
dsdrv/saa7134_typ.c [rev:1.1.1.4, 2003-02-08T14:53:08]:
- r1.24: changes to support primetv 7133: (fixed tuner type and audio crystal)
epgui/pinetbox.c [rev:1.25, 2003-02-08T18:59:37]:
- Fixed "jumping" when cursor was in empty column during refresh
- split off cur_req_time/row handling from PiNetBox_ShowCursor() into new
    function PiNetBox_UpdateCursorReq(): are is new enum CUR_UPD_HANDLING:
    searches suitable PI in other columns if current is empty
- bugfix PiNetBox_PickCurPi(): inverted term in boolean expression prevented
    that any PI were selected from non-selected columns, ever.
- Also: PiNetBox_InsertPi(): added weekday name to output in first row
    (requested by Thierry)
dsdrv/saa7134_typ.c [rev:1.6, 2003-02-09T16:22:42]:
- from DScaler r1.24:
- changes to support primetv 7133 (fixed tuner type and audio crystal)
dsdrv/wintuner.c [rev:1.11, 2003-02-09T16:22:49]:
- DScaler split off tuner enum from Bt848_Defines.h into new module TunerID
    updated DScaler CVS tags
- added new tuner TUNER_PHILIPS_FI1286_NTSC_M_J
dsdrv/wintuner.h [rev:1.6, 2003-02-09T16:22:55]:
- DScaler split off tuner enum from Bt848_Defines.h into new module TunerID
    updated DScaler CVS tags
- added new tuner TUNER_PHILIPS_FI1286_NTSC_M_J
Makefile [rev:1.55, 2003-02-09T16:23:59]:
- added -g to CFLAGS
- added rule .tcl -> .h
- added usage hints to module header (type "make" to compile etc.)
Makefile.win32 [rev:1.35, 2003-02-09T16:24:02]:
- added macro for windres; use different path for cross-compiling
CHANGES.version [rev:1.14, 2003-02-09T16:24:14]:
- added hint to check file permissions & if WIN32 fixes are merged from /d
- added hint for TCL_VER
epgui/pibox.c [rev:1.1, 2003-02-09T17:34:55]:
- Initial revision
epgui/pibox.h [rev:1.1, 2003-02-09T17:34:56]:
- Initial revision
epgui/pibox.c [rev:1.2, 2003-02-09T17:36:44]:
- Implemented error message handling ("db empty" et.al.) in pinetbox.c
- PiBox_ErrorMessage(): replaced debug message with call to new func
    PiNetBox_ErrorMessage()
epgui/pilistbox.c [rev:1.87, 2003-02-09T17:36:51]:
- adapted for pinetbox error message handling
    + durint init: clear possible error message overlay
    + renamed proc PiListBox_PrintHelpHeader into PiBox_DisplayErrorMessage
- bugfix PiListBox_HandleAcqEvent(): call UiControl_CheckDbState() upon
    PI insertion when in error state; was in PiListBox_DbInserted(), but never
    reached there
epgui/pinetbox.h [rev:1.4, 2003-02-09T17:37:03]:
- Implemented error message handling ("db empty" et.al.)
- added declaration for new function PiNetBox_ErrorMessage()
epgtcl/dlg_hwcfg.tcl [rev:1.8, 2003-02-09T18:34:29]:
- WIN32 TV card configuration dialog fixes & improvements
- added param showDrvErr to proc HardwareConfigLoad: passed through to btdrv4win
    to display driver error messages; message is displayed in all cases except
    the automatic PCI scan when the top-level TV card input dialog is opened
- proc PopupTvCardConfig: start another PCI scan if none done yet;
    check config params validity (e.g. tuner index beyond list length)
- close .tvcard sub-dialog when .hwcfg dialog is closed
- bugfix procs TvCardConfigAuto/Manual: check for empty list in result from
    called C interfac proc; display warning if tuner was not identified
epgtcl/mainwin.tcl [rev:1.209, 2003-02-09T19:21:45]:
- Implemented error message handling ("db empty" et.al.) in pinetbox.c
- renamed proc PiListBox_PrintHelpHeader into PiBox_DisplayErrorMessage
- for pibox_type != use create "overlay" text widget .all.pi.list.net_err_text
    which is packed above the netbox widgets; replaced
- added special value {} to text param: destroy overlay text widget
epgui/pinetbox.c [rev:1.26, 2003-02-09T19:36:57]:
- Implemented error message handling ("db empty" et.al.)
- changed boolean variable netbox_init into NETBOX_INIT_STATE netbox_init_state
- added new func PiNetBox_ErrorMessage() called by pibox.c
    uses Tcl proc PiBox_DisplayErrorMessage (former PiListBox_PrintHelpHeader)
- PiNetBox_HandleAcqEvent(): added call to UiControl_CheckDbState()
    if PI inserted and listbox is in error state
- Also:
- bugfix PiNetBox_SelectItem(): don't allow to plce the cursor into an
    unused column when net_count < col_count
epgctl/epgversion.h [rev:1.35, 2003-02-09T19:44:20]:
- set version to 2.5.0pre8
www/index-de.html [rev:1.51, 2003-02-09T22:10:06]:
- Applied patch for FreeBSD from Simon Barner (Sun Feb 9 23:07:30 MET 2003)
- currently only for index-de.html, english translation to follow
- added FreeBSD to keyword list, download links, software requirements,
    RPM links
- prepended filename to all # HREFs to current document
- appended </LI>
- Also:
- replaced Pro7 with Kabel1 in keywords
- extended copyright to 2003
www/index.html [rev:1.64, 2003-02-10T22:07:22]:
- Applied patch for FreeBSD from Simon Barner (Mon Feb 10 01:22:55 2003)
- added FreeBSD to keyword list, download links, software requirements,
    RPM links
- prepended filename to all # HREFs to current document
- appended </LI>
- changed "Booktree" to "Brooktree"
- Also:
- replaced Pro7 with Kabel1 in keywords
- extended copyright to 2003
dsdrv/saa7134_typ.c [rev:1.1.1.5, 2003-02-15T21:32:23]:
- r1.25-1.27: added & updated Manli M-TV002
dsdrv/saa7134_typ.c [rev:1.7, 2003-02-15T21:35:35]:
- From DScaler CVS r1.25-1.27: added & updated Manli M-TV002
epgui/pinetbox.c [rev:1.27, 2003-02-19T20:13:41]:
- Bugfix PiNetBox_Resize():
- must call PiNetBox_UpdateNetwopMap() et.al.
- bug occured when adding support for dynamic addition/removal of columns
dsdrv/bt8x8_reg.h [rev:1.1.1.1, 2003-02-22T10:39:04]:
- Original DScaler Bt848_Defines.h Revision 1.19
dsdrv/bt8x8_reg.h [rev:1.1.1.2, 2003-02-22T10:42:28]:
- DScaler CVS import 1.22
- moved tuner type enum into separate module
- added new Bt8x8 card TVCARD_KWORLD_MPEGTV
dsdrv/bt8x8_typ.c [rev:1.4, 2003-02-22T14:56:59]:
- Added support for ACPI power-up upon card open:
- added new interface function Bt8x8_SupportsAcpi():
    return TRUE for Bt878 and Bt878A
- Added support for MT2032 on Pinnacle cards
- added new interface func GetIffType(): from
- added interface func pointer to TVCARD.cfg struct
dsdrv/cx2388x.c [rev:1.9, 2003-02-22T14:57:07]:
- Added state "management": save/restore PCI register content
- based on new funcs HwPci_InitStateBuf()/HwPci_RestoreState() in dsdrv lib
- added new func Cx2388x_ManageMyState(): save/restore "interesting" registers
dsdrv/cx2388x_typ.c [rev:1.4, 2003-02-22T14:57:23]:
- Added support for ACPI power-up upon card open:
- added dummy interface func SupportsAcpi(): always returns TRUE [Bt8x8 only]
- Added support for MT2032 on Pinnacle cards
- added dummy interface func GetIffType() [used only on Bt8x8 for now]
dsdrv/saa7134.c [rev:1.13, 2003-02-22T14:57:29]:
- Added state "management": save/restore PCI register content
- based on new funcs HwPci_InitStateBuf()/HwPci_RestoreState() in dsdrv lib
- added new func SAA7134_ManageMyState(): save/restore "interesting" registers
dsdrv/saa7134_typ.c [rev:1.8, 2003-02-22T14:57:41]:
- Added support for ACPI power-up upon card open:
- added dummy interface func SupportsAcpi(): always returns TRUE [Bt8x8 only]
- Added support for MT2032 on Pinnacle cards
- added dummy interface func GetIffType() [used only on Bt8x8 for now]
dsdrv/tvcard.h [rev:1.4, 2003-02-22T14:57:47]:
- Added support for ACPI and MT2032 on Pinnacle cards
- struct TVCard.cfg: added interface func GetIffType()
- struct TVCard.cfg: added interface func SupportsAcpi()
dsdrv/dsdrv34.c [rev:1.8, 2003-02-22T14:57:57]:
- Added support for ACPI power-up upon card open:
- pass boolean parameter supportsAcpi through to HwPci_OpenPCICard()
- Added state "management": save/restore PCI register content
- added new funcs HwPci_InitStateBuf()/HwPci_RestoreState()
    maitain copy of register content in internal struct CARD_STATE_BUF
- added ManageDword(), ManageWord(), ManageByte(): derived from DScaler
    PCICard.cpp (however there a FILE is used for storage)
dsdrv/dsdrvlib.h [rev:1.9, 2003-02-22T14:58:05]:
- Added support for ACPI power-up upon card open:
- pass boolean parameter supportsAcpi through to HwPci_OpenPCICard()
- Added state "management": save/restore PCI register content
- added decl for new funcs HwPci_InitStateBuf()/HwPci_RestoreState()
- added decl for new ManageDword(), ManageWord(), ManageByte()
dsdrv/hwpci.c [rev:1.7, 2003-02-22T14:58:13]:
- Added support for ACPI power-up upon card open:
- HwPci_OpenPCICard(): added boolean parameter supportsAcpi:
    query ACPI Status and wake up the card if neccessary
- HwPci_ClosePCICard(): automatically shut down card again
    depending on m_InitialACPIStatus
- added new internal funcs HwPci_GetACPIStatus(), HwPci_SetACPIStatus()
    imported from DScaler CVS
- Added state "management": save/restore PCI register content
- note: this functionality was implemented one level up in dsdrv34.c
dsdrv/hwpci.h [rev:1.5, 2003-02-22T14:58:19]:
- Added support for ACPI power-up upon card open:
- HwPci_OpenPCICard(): added boolean parameter supportsAcpi
dsdrv/wintuner.c [rev:1.12, 2003-02-22T14:58:27]:
- Added support for MT2032 on Pinnacle cards
- added new funcs TDA9887Pinnacle_TunerSet(), TDA9887Pinnacle_Init()
- Tuner_Init(): check for Pinnacle cards with new TVCARD.cfg function
    GetIffType -> set haveTda9887Pinnacle and isTda9887PinnacleMono
- changed semantics of tuner type TUNER_MT2032: use default norm SECAM
    instead of NTSC; adapted tuner name accordingly
- MT2032_Initialize() and MT2032_SetIFFreq(): call different TDA9887 handlers
    for standard and Pinnacle cards
- Also: removed obsolete func Tuner_MatchByParams()
dsdrv/wintuner.h [rev:1.7, 2003-02-22T14:58:33]:
- Tuner_Init(): removed const from TVCARD pointer
- removed obsolete func Tuner_MatchByParams() [TV app INI import was removed]
epgvbi/btdrv4win.c [rev:1.40, 2003-02-22T14:58:51]:
- Added support for ACPI power-up upon card open:
- BtDriver_OpenCard(): use new func cardif.cfg->SupportsAcpi() to query for
    ACPI and pass result to pciGetHardwareResources()
tvsim/tvsim.pod [rev:1.7, 2003-02-22T19:09:21]:
dsdrv/bt8x8.c [rev:1.5, 2003-02-22T19:11:59]:
dsdrv/bt8x8_reg.h [rev:1.14, 2003-02-22T19:11:59]:
dsdrv/bt8x8_typ.c [rev:1.5, 2003-02-22T19:11:59]:
dsdrv/bt8x8_typ.h [rev:1.3, 2003-02-22T19:11:59]:
epgvbi/btdrv4win.c [rev:1.41, 2003-02-22T19:29:16]:
- Corrected "Booktree" into "Brooktree"
epgvbi/btdrv.h [rev:1.32, 2003-02-22T19:29:32]:
- corrected "Booktree" into "Brooktree"
- added module header description
nxtvepg.pod [rev:1.87, 2003-02-22T20:57:52]:
- Updated GETTING STARTED and CONFIGURATION: EPG scan and TV card inupt
- chapters for the new Win32 TV card configuration dialog (including
- card type and tuner auto-detection and SAA7134 support)
README [rev:1.32, 2003-02-22T20:58:22]:
- Corrected "Booktree" into "Brooktree"
epgctl/epgversion.h [rev:1.36, 2003-02-23T20:19:08]:
- set version to 2.5.0pre10
epgui/pdc_themes.c [rev:1.11, 2003-02-24T22:05:09]:
- Corrected French translation for "Winter sports"
- from "Sports hivernales" into "Sports d'hiver"
- provided by Thierry 2003-02-24
epgtcl/mainwin.tcl [rev:1.210, 2003-02-26T20:34:06]:
- New implementation of xawtv EPG display in POP_VTX and POP_VTX2 modes
- extended proc Create_XawtvPopup to support 1- and 2-line overlay modes
- added new app-defaults config vars xawtv_overlay_bg & xawtv_overlay_fg
- proc LoadWidgetOptions: app-defaults file is now loaded by UNIX clients too
    (before only ./Nxtvepg.ad on Win32) because users did not understand they
    had to copy settings to ~/.Xdefaults
epgui/xawtv.c [rev:1.30, 2003-02-26T20:35:01]:
- New implementation of xawtv EPG display in POP_VTX and POP_VTX2 modes
- replaced use of xawtv "vtx" handler with nxtvepg generated overlay popup
    POP_VTX and POP_VTX2; appearence remains unchanged (because the vtx handler
    was removed from xawtv aruond 3.74 when libzvbi was added; replacing vtx
    with a nxtvepg popup was suggested by Gerd Knorr 2002-12-09)
- additional "mode" parameter is passed to Tcl proc Create_XawtvPopup
    which before was used only for POP_EXT
Nxtvepg.ad [rev:1.2, 2003-02-26T20:35:12]:
- New implementation of xawtv EPG display in POP_VTX and POP_VTX2 modes
- added new config vars xawtv_overlay_bg & xawtv_overlay_fg (black & white)
Makefile [rev:1.56, 2003-02-26T20:35:59]:
- New implementation of xawtv EPG display in POP_VTX and POP_VTX2 modes
- added CC define -DX11_APP_DEFAULTS: app-defaults file is now loaded
    by UNIX clients too (before only ./Nxtvepg.ad on Win32) because users
    did not understand they had to copy settings to ~/.Xdefaults
epgui/epgmain.c [rev:1.113, 2003-02-26T20:40:28]:
- ui_init(): UNIX only: added assignment of new #define -DX11_APP_DEFAULTS to
    global Tcl var x11_appdef_path: app-defaults file is now loaded by UNIX
    clients too (before only ./Nxtvepg.ad on Win32) because users
    did not understand they had to copy settings to ~/.Xdefaults
epgui/uictrl.c [rev:1.37, 2003-02-26T21:21:10]:
- added #include <time.h> for newly used time_t in epgdbif.h
- removed obsolete #include "pioutput.h"
epgui/dumpraw.h [rev:1.11, 2003-02-26T21:53:49]:
- Split off all export functions into separate dump*.c modules
- renamed module from epgtxtdump.c into dumpraw.c
- removed declaration of Tcl interface procs: now installed internally
    added new funcs EpgDumpRaw_Init() to install the procs
- renamed EpgTxtDump_Block(), EpgTxtDump_UnknownBlock() into
    EpgDumpRaw_IncomingBlock(), EpgDumpRaw_IncomingUnknown()
epgui/dumptext.c [rev:1.7, 2003-02-26T21:53:56]:
- Split off all export functions into separate dump*.c modules
- renamed module from epgtabdump.c into dumptext.c
    -> globally replaced function prefixes into EpgDumpRaw_...
- added Tcl interface function EpgDumpText_Database(): moved here from menucmd.c
    added new funcs EpgDumpRaw_Init() to install the proc
epgui/dumptext.h [rev:1.3, 2003-02-26T21:54:01]:
- Split off all export functions into separate dump*.c modules
- renamed module from epgtabdump.c into dumptext.c
    -> globally replaced function prefixes into EpgDumpRaw_...
- added new funcs EpgDumpRaw_Init() to install the Tcl callback proc
epgui/epgmain.c [rev:1.114, 2003-02-26T21:54:13]:
- Split off all export functions into separate dump*.c modules
- call init funcs of all new modules
- changed prefixes of some funcs into EpgDumpXXX_
epgui/menucmd.c [rev:1.100, 2003-02-26T21:54:58]:
- Split off all export functions into separate dump*.c modules
- moved MenuCmd_ToggleDumpStream() and MenuCmd_DumpRawDatabase()
    into dumpraw.c (renamed from epgtxtdump.c)
- moved MenuCmd_DumpTabsDatabase() into dumptext.c (former epgtabdump.c)
epgui/pidescr.c [rev:1.3, 2003-02-26T21:55:32]:
- Added func PiDescription_DictifyTitle(): moved here from pioutput.c
- adapted function prefix
epgui/pidescr.h [rev:1.3, 2003-02-26T21:55:32]:
- Added func PiDescription_DictifyTitle(): moved here from pioutput.c
- adapted function prefix
epgui/pifilter.c [rev:1.77, 2003-02-26T21:55:39]:
- Changed function names in calls:
- functions were moved because pioutput.c was split
- renamed PiOutput_DictifyTitle() into PiDescription_...
    renamed PiOutput_CtxMenuAddUserDef() into ShellCmd_...
epgui/pioutput.c [rev:1.48, 2003-02-26T21:55:49]:
- Split off all export functions into separate dump*.c modules
- pioutput.c keeps only pilistbox.c element output functions
    made some of the functions and types global to allow access from dumphtml.c
- moved PiOutput_DictifyTitle() into pidescr.c
- moved PiOutput_GetVpsTimestamp() into epgdbif.c
- split off HTML & XML export into new modules dumphtml.c & dumpxml.c
- split off PiOutput_PopupPi() into dumpraw.c (renamed from epgtxtdump.c)
- split off user-defined context menu entries handling into new shellcmd.c
epgui/pioutput.h [rev:1.14, 2003-02-26T21:55:57]:
- Split off all export functions into separate dump*.c modules
- pioutput.c keeps only pilistbox.c element output functions
    made some of the functions and types global to allow access from dumphtml.c
- moved PiOutput_DumpDatabaseXml() into new module dumpxml.c
    moved PiOutput_CtxMenuAddUserDef() into new module shellcmd.c
    moved PiOutput_DictifyTitle() into pidescr.c
epgtcl/dlg_xawtvcf.tcl [rev:1.5, 2003-02-26T21:59:20]:
- New implementation of xawtv EPG display in POP_VTX and POP_VTX2 modes
- [replaced use of xawtv "vtx" handler with nxtvepg generated overlay popup
    POP_VTX and POP_VTX2; appearence remains unchanged]
- removed obsolete "(subtitles)" from overlay option
epgui/dumphtml.c [rev:1.1, 2003-02-26T21:59:29]:
epgui/dumphtml.h [rev:1.1, 2003-02-26T21:59:31]:
- Initial revision
epgui/dumpxml.c [rev:1.1, 2003-02-26T21:59:34]:
epgui/dumpxml.h [rev:1.1, 2003-02-26T21:59:35]:
- Initial revision
epgui/shellcmd.c [rev:1.1, 2003-02-26T22:00:03]:
epgui/shellcmd.h [rev:1.1, 2003-02-26T22:00:04]:
- Initial revision
epgtcl/mainwin.tcl [rev:1.211, 2003-02-26T22:17:59]:
- proc CreateMainWindow: split off pinetbox column creation into
    new proc CreateListBoxCol: used for dynamic col count changes
- added new proc NetboxColumnHeaderMenu: create drop-down menu for pinetbox
    added new proc NetboxColumnRecount: increase/decrease pinetbox_colcount
    added new procs NetboxColumnJoin/..Dejoin: join pinetbox columns
- proc ColumnHeaderMotion et.al.: added preliminary support for pinetbox resize
    XXX works very bad (jerky) esp. for columns > 1
epgtcl/rcfile.tcl [rev:1.10, 2003-02-26T22:18:04]:
- Implemented network column joining for PI netbox
- added new config var cfnetjoin
epgui/pinetbox.c [rev:1.28, 2003-02-26T22:18:20]:
- Implemented network column joining for PI netbox
- moved "netwop" element from struct NETBOX_COL into NETBOX_ELEM
- removed netbox.net_sel2ai: AI <-> sel mapping is no longer 1:1
- globally replaced pCol->netwop with pElem->netwop
- UpdateNetwopNames(): can include multiple network names in header
- AlignNowItems(): skip alignment if one column has more than 1 NOW elem
- refresh funcs:
- added Tcl callback proc "C_PiNetBox_GetCniList" for configuration
- UpdateNetwopMap(): added handling of new Tcl config var "cfnetjoin"
    based on new helper func BuildJoinMap()
- Also: Refresh(): check if cursor column has become invalid
Makefile [rev:1.57, 2003-02-26T22:38:12]:
- Split off all export functions from pioutput.c into separate dump*.c modules
- split off HTML & XML export into new modules dumphtml.c & dumpxml.c
- split off user-defined context menu entries handling into new shellcmd.c
- renamed epgtxtdump.c into dumpraw.c, epgtabdump.c into dumptext.c
Makefile.win32 [rev:1.36, 2003-02-26T22:38:12]:
- Split off all export functions from pioutput.c into separate dump*.c modules
- split off HTML & XML export into new modules dumphtml.c & dumpxml.c
- split off user-defined context menu entries handling into new shellcmd.c
- renamed epgtxtdump.c into dumpraw.c, epgtabdump.c into dumptext.c
nxtvepg.pod [rev:1.88, 2003-02-26T22:43:18]:
- New implementation of xawtv EPG display in POP_VTX and POP_VTX2 modes
- [replaced use of xawtv "vtx" handler with nxtvepg generated overlay popup
    POP_VTX and POP_VTX2; appearence remains unchanged]
- adapted "TV app. interaction" description
- added example how to dynamically change X11 app-defaults with xrdb -merge
- Also: removed "M6" from French provider list (pointed out by Thierry)
epgdb/epgdbif.c [rev:1.45, 2003-02-27T18:43:07]:
- Added new function EpgDbGetVpsTimestamp()
- Decode VPS/PDC timestamp from Nextview EPG format into standard struct
- moved here from epgui/pioutput.c
epgdb/epgdbif.h [rev:1.29, 2003-02-27T18:43:07]:
- Added new function EpgDbGetVpsTimestamp()
- Decode VPS/PDC timestamp from Nextview EPG format into standard struct
- moved here from epgui/pioutput.c
epgdb/epgstream.c [rev:1.26, 2003-02-27T18:43:22]:
- Split off all export functions into separate dump*.c modules
- renamed epgtxtdump.c into dumpraw.c -> adapted function names
epgctl/debug.h [rev:1.17, 2003-02-27T18:44:21]:
- Replaced #ifdef _TK with _TCL: some modules only use Tcl, but not Tk
epgui/dumpraw.c [rev:1.27, 2003-02-27T18:58:18]:
- Split off all export functions into separate dump*.c modules
- renamed module from epgtxtdump.c into dumpraw.c
    -> globally replaced function prefixes into EpgDumpRaw_...
- added Tcl interface functions: moved here from menucmd.c
    added new funcs EpgDumpRaw_Init() to install the procs
- replaced helper func DecodePil() with new epgdbif.c::EpgDbGetVpsTimestamp()
- moved PiOutput_PopupPi() here from pioutput.c
epgui/epgmain.c [rev:1.115, 2003-02-27T19:33:40]:
- main() daemon mode: added EpgAcqCtl_GetLastError() output if acq start fails
epgvbi/btdrv4linux.c [rev:1.43, 2003-02-27T19:45:29]:
- Added compatibility with devfs where v4l devices are below /dev/v4l/
- added new function BtDriver_GetDevicePath(), new enum type BTDRV_DEV_TYPE
- globally replaced sprintf(devName, VIDEONAME "%u", i) with new function
- Also: BtDriver_GetLastError(): improved VBI device access error messages
nxtvepg.pod [rev:1.89, 2003-02-27T20:17:55]:
- FILES UNIX: added note that /dev/vbi #s must be same as video #s
    and example how to use bttv insmod params to do this
- FILES UNIX: added item /dev/v4l/vbi0: used with devfs
- added lots of hyperlinks to FILES section
nxtvepg.spec [rev:1.12, 2003-02-27T20:40:59]:
- Improved by copying from xawtv-3.85
- added app-defaults/Nxtvepg
- set permissions for /usr/tmp/nxtvdb to 777
- set "Release" to 0 instead of 1 (it's probably a build index for distribs)
- change keyword Copyright into License
epgtcl/mainwin.tcl [rev:1.212, 2003-03-02T10:26:43]:
- PopupHelp: added "chapters" menu to the help popup
- NetboxColumnHeaderMenu: moved control functions into sub-menu;
    added time & date sub-menus
- fixed ColumnHeaderMotion: cursor stayed in "right border" shape after moving
    the pointer out of the header box through the right border
    -> added new proc ColumnHeaderLeave, bound to <Leave> event
- fixed ColumnHeaderMotion for PI netbox: resize only one column during motion;
    other columns are resized upon button release event -> avoid jittering
epgui/pidescr.c [rev:1.4, 2003-03-02T10:32:41]:
- Bugfix PiDescription_SearchLongInfo:
- func result type was bool instead of uint
- symptom: short-info was sometimes truncated
epgui/pidescr.h [rev:1.4, 2003-03-02T10:33:15]:
- indentation fix
epgctl/epgversion.h [rev:1.37, 2003-03-02T20:55:32]:
- set version to 2.5.0pre12
nxtvepg.pod [rev:1.90, 2003-03-03T18:56:20]:
- added more hyperlinks to the OPTIONS chapter
- renamed "Context menu" section in Configuration chapter into
    "Context menu extensions" because there were two headers with the same name
    which produced broken HTML hyperlinks (bug was reported by Thierry)
epgtcl/dlg_prov.tcl [rev:1.8, 2003-03-03T20:05:51]:
- dlg_prov.tcl
- Bugfix PopupProviderMergeOpt:
- wrong toplevel window path was given to CreateTransientPopup
epgtcl/rcfile.tcl [rev:1.11, 2003-03-04T21:29:52]:
- Implemented user-configurable PI netbox elements
- added I/O of config list pinetbox_rows
- added I/O of array pinetbox_rows_nonl: stored in list pinetbox_rows_nonl_l
epgtcl/mainwin.tcl [rev:1.213, 2003-03-04T21:30:16]:
- Implemented user-configurable PI netbox elements
- proc CreateMainWindow: split off pi listbox text tag definitions into new
    proc AssignPiTextTags, now also used for pinetbox column widgets
- use PopupColumnSelection for link from pinetbox column header config button,
    i.e. now pilistbox and pinetbox are identical
- define config var pinetbox_rows together with pilistbox_cols
- PopupColumnSelection: extended to allow working on pinetbox_rows
    if pibox_type == 1; added "join row" checkbutton
- added new proc UpdatePiListboxColumParams as wrapper to C_PiOutput_CfgColumns
    additionally calls C_PiNetBox_Invalidate for pibox_type == 1
epgtcl/dlg_netsel.tcl [rev:1.7, 2003-03-04T21:30:26]:
- proc SelBoxCreate improved:
- reduced padding between command buttons from 10 to 5 px
- replaced "after idle [list SelBoxButtonPress $lbox none]" with
    generated <<ListboxSelect>> events (used in init, add and remove)
    -> this allows these events to be caught by the upper layer
epgtcl/dlg_shortcuts.tcl [rev:1.8, 2003-03-04T21:30:34]:
- Implemented user-configurable PI netbox elements
- replaced calls to proc C_PiOutput_CfgColumns with wrapper
    UpdatePiListboxColumParams: differes betwwen pibox_type internally
epgtcl/dlg_udefcols.tcl [rev:1.9, 2003-03-04T21:30:41]:
- Implemented user-configurable PI netbox elements
- added handling for pinetbox_rows in parallel to pilistbox_cols (and
    dumphtml_colsel) depending on pibox_type
- replaced calls to proc C_PiOutput_CfgColumns with wrapper
    UpdatePiListboxColumParams: differes betwwen pibox_type internally
epgui/pilistbox.c [rev:1.88, 2003-03-04T21:30:58]:
- Implemented user-configurable PI netbox elements
- PiListBox_Create: added call to Tcl proc UpdatePiListboxColumns
    moved here from PiOutput_Init() because it has to be repeated after
    box type changes
epgui/pinetbox.c [rev:1.29, 2003-03-04T21:31:24]:
- Implemented user-configurable PI netbox elements
- PiNetBox_InsertPi(): moved content into pioutput.c::PiOutput_PiNetBoxInsert()
- added new func PiNetBox_Invalidate(): forces a subsequent refresh to
    redraw all elements
- PiNetBox_GetCniList(): added check for netbox_init_state;
    changed Tcl proc name from PiBox_GetCniList() into PiNetBox_...
- PiNetBox_Create(): added call to Tcl proc UpdatePiListboxColumns:
    moved here from PiOutput_Init() because it has to be repeated after
    box type changes
epgui/pioutput.c [rev:1.49, 2003-03-04T21:31:34]:
- Implemented user-configurable PI netbox elements
- added new interface func PiOutput_PiNetBoxInsert():
    derived from equiv. listbox func PiOutput_PiListboxInsert()
- added TCLOBJ_WID_NET to pre-defined Tcl objects
- added new element skipNewline to struct PIBOX_COL_CFG
- PiOutput_CfgColumnsCache() and PiOutput_CfgPiColumns(): added handling for
    config vars pibox_type, pinetbox_rows and pinetbox_rows_nonl
- PiOutput_Init(): moved call to Tcl proc UpdatePiListboxColumns into pi##box.c
    because it has to be repeated after box type changes
epgui/pioutput.h [rev:1.15, 2003-03-04T21:31:40]:
- Implemented user-configurable PI netbox elements
- added declaration for new function PiOutput_PiNetBoxInsert()
- added new element skipNewline to struct PIBOX_COL_CFG
dsdrv/saa7134.c [rev:1.1.1.4, 2003-03-09T11:12:48]:
- r1.35: Fixed broken manage state lines
tvsim/vbiplay.c [rev:1.7, 2003-03-09T19:27:50]:
- in call to WinSharedMemClient_Init(): replace TV card index param value
    #0 with TVAPP_CARD_REQ_ALL so that nxtvepg catches the output regardless
    of it's card setting
- added more debug output
dsdrv/bt8x8_i2c.c [rev:1.6, 2003-03-09T19:28:10]:
- Bt8x8I2c_Read(): fixed declaration of "idx": from uint to (signed) size_t
- Read and Write: added check for NULL pointer params
dsdrv/bt8x8_typ.c [rev:1.6, 2003-03-09T19:28:26]:
- Added new interface func IsInputSVideo() [used by CX23881]
dsdrv/saa7134_typ.c [rev:1.9, 2003-03-09T19:28:30]:
- Added new interface func IsInputSVideo() [used by CX23881]
dsdrv/cx2388x.c [rev:1.10, 2003-03-09T19:28:49]:
- First working version
- fix VBI_PACKET_SIZE: from 511 to apx. 1500/4
    else data from two physical lines were packed into one 2044 bytes line buffer
- fix Cx2388x_GetRiscPos(): use CX2388X_VBI_GP_CNT instead of VIDY counter
- Cx2388x_SetGeoSize(): replaced with "720 pixels" code branch from DScaler
- increased CX2388X_VERT_DELAY_EVEN from 0x24 to 0x44
    fixed more settings according to DScaler register dump
- Cx2388x_ResetHardware(): removed audio setup, also from CX23881's SRAM
    -> use freed space to enlarge VBI FIFO buffers (in cx23881_reg.h)
- removed ENABLE_CAPTURING_VIA_PLL_CONFIG debug feature
dsdrv/cx2388x_reg.h [rev:1.5, 2003-03-09T19:28:59]:
- added define CX2388X_VBI_GP_CNT
- removed audio SRAM setup
    -> use freed space to enlarge VBI FIFO buffers from 5 to 8
- increased SRAM_INSTRUCTION_QUEUE_SIZE from 0xC0 to 0x100
dsdrv/cx2388x_typ.c [rev:1.5, 2003-03-09T19:29:07]:
- added new card CX2388xCARD_HAUPPAUGE_PCI_FM
- changed label of card #0 from "Unknown" into "*Unknown*"
- AutoDetectTuner: added Hauppauge tuner detection
    copied array m_Tuners_hauppauge[] from bt8x8_typ.c
- added new interface func IsInputSVideo()
dsdrv/saa7134.c [rev:1.14, 2003-03-09T19:29:37]:
- Updated DScaler SAA7134Card.cpp CVS id
dsdrv/wintuner.c [rev:1.13, 2003-03-09T19:29:44]:
- moved content of I2CBus_Read() and I2CBus_Probe() into calling functions
    + this should fix MT2032_GetRegister()
    + only Write function remains (to keep debug output)
- Init() and SetFrequency(): added check for NULL pointers
epgdb/epgblock.c [rev:1.49, 2003-03-09T19:29:53]:
- Bugfix ApplyEscapes():
- diacritical mark handling was broken: used character from "under" the escape,
    i.e. from the regular text string, but should have used the character
    supplied with the escape data payload
- symptom was in France: text "D'CONSEILL'" instead of "DCONSEILL"
    because provider "M6" sends space chars at the position of the esc codes
epgui/pidescr.c [rev:1.5, 2003-03-09T19:30:03]:
- PiDescription_UpdateText():
- always include weekday in output (before only if start > 12h from now)
- was requested by Thierry
epgtcl/dlg_hwcfg.tcl [rev:1.9, 2003-03-09T19:30:16]:
- Sorted and splitted tuner type menu in WIN32 TV card dialog
- save tuner names from proc C_HwCfgGetTunerList in array tvcard_tuner_names
- split off tuner type menu creation into new proc CreateTunerMenu
    + use sub-menus for different vendors (Philips, Temic etc.)
    + new helper proc SortTunerNames
- removed duplicate check for parameter validity
dsdrv/tvcard.h [rev:1.5, 2003-03-09T19:31:22]:
- struct TVCARD_CFG: added new interface func IsInputSVideo() [used by CX23881]
epgctl/epgversion.h [rev:1.38, 2003-03-09T20:37:11]:
- set version to 2.5.0pre13
dsdrv/cx2388x_typ.c [rev:1.6, 2003-03-11T12:32:47]:
- Fixed assert conditions in dummy functions
dsdrv/saa7134_typ.c [rev:1.10, 2003-03-11T12:32:47]:
- Fixed assert conditions in dummy functions
dsdrv/bt8x8_typ.c [rev:1.7, 2003-03-11T12:32:54]:
- Bugfix last check-in:
- added new interface func IsInputSVideo() to interface struct
- was forgotten in pre-release 2.5.0pre15
epgctl/epgversion.h [rev:1.39, 2003-03-11T12:47:21]:
- set version to 2.5.0pre14
epgvbi/cni_tables.c [rev:1.19, 2003-03-13T09:26:23]:
- removed French channel "M6" from list of known providers
    was reported to haved ceased Nextview EPG transmission after 2002-12-31
epgvbi/cni_tables.c [rev:1.20, 2003-03-13T13:11:51]:
- updated according to EBU TR 231 v12a/2002 (tech_info_tr231_12a_02.pdf)
- bugfix: some Italian channels had duplicates in Ireland section
- changed 3sat NI from ETSI value 0x49C7 to current broadcast value 0xD107
epgctl/epgscan.c [rev:1.33, 2003-03-13T13:13:00]:
- Bugfix state WAIT_NI_OR_EPG:
- state wasn't changed to WAIT_EPG after NI arrived
epgctl/epgacqclnt.c [rev:1.10, 2003-03-14T12:33:58]:
- Split off all export functions into separate dump*.c modules
- renamed epgtxtdump.c into dumpraw.c -> adapted function names
nxtvepg.pod [rev:1.91, 2003-03-14T13:03:30]:
- Updated description of "column" config for new network column layout
- renamed "Select columns" menu into "Select attributes"
- renamed "user-defined columns" into "Compound attributes"
- moved general description from config section into a separate chapter
- Added description of "List layout" configuration option
epgui/pinetbox.c [rev:1.30, 2003-03-14T13:28:55]:
- Implemented pseudo-cursor for empty columns
- added new column type enum: NETBOX_CURTYPE
- PiNetBox_ShowCursor(): if column empty search nearest PI around cursor pos.
    with new helper func PiNetBox_SearchPrevNext() -> display prev/next
- PiNetBox_WithdrawCursor(): undo all different cursor types
- Other fixes:
- PiNetBox_ScrollIfPartial(), IsPartialElemAtTop(), IsPartialElemAtBottom():
    + search for first partial or invisble element
    + before the cursor could "jump over" a partially visible onto an invisible
    + PiNetBox_FillUpwards(): param TRUE replaced by FALSE since we know the
      exact number of lines that must be scrolled to make the elem visible
- PiNetBox_ScrollMoveto(): added special handling of partially visible elems
    for (newPiOff == 0) && (netbox.pi_off == 0)
- PiNetBox_ScrollVertical(): use CUR_REQ_DOWN/UP instead of GOTO
- PiNetBox_GotoPi(): improved handling of scrolling to the right
images/hatch.xbm [rev:1.1, 2003-03-14T14:05:46]:
- Initial revision
epgtcl/dlg_netsel.tcl [rev:1.8, 2003-03-14T14:57:24]:
- Adapted proc SelBoxCreate button packing:
- use anchor "c" instead of "nw" to allow wider buttons in the same row
epgtcl/dlg_udefcols.tcl [rev:1.10, 2003-03-14T15:06:40]:
- "Usability" adaptions for use in new netbox layout:
- removed mention of "column" from title and labels
    + renamed the dialog into "Attribute composition & display format"
    + renamed help link into "Attribute composition"
- always offer to append newly defined element to listbox, not only new ones
- added new proc PreloadUserDefinedColumns: called during start-up if usercols
    array is empty to create an example
epgtcl/mainwin.tcl [rev:1.214, 2003-03-14T15:06:51]:
- proc AssignPiTextTags: added tags cur_pseudo, cur_pseudo_overlay
- renamed config menus "Select columns...", "User-defined columns..." for use
    in netbox layout into "Select attributes...", ""Attribute composition..."
- added new "List layout" config menu entry;
    added show/hide checkbutton to hide layout switch button
- improved default settings:
    + added "weekday" to default pinetbox_rows & pinetbox_rows_nonl(weekday)
    + proc ApplyRcSettingsToMenu: call new proc PreloadUserDefinedColumns
- PopupColumnSelection:
    + renamed "join row" button into "No new line after element"
    + added hint and link to PopupUserDefinedColumns
    + made dialog resizable
epgui/epgmain.c [rev:1.116, 2003-03-14T15:06:56]:
- Implemented pseudo-cursor for empty columns
- added loading of bitmap hatch.xbm
epgdb/epgdbfil.c [rev:1.40, 2003-03-14T18:53:11]:
- Added possibility for multiple text search filters in filter context
- moved substring search params into dynamically allocated struct:
    new type EPGDB_FILT_SUBSTR, used to build a simple linked list
- merged filter types FILTER_SUBSTR_TITLE and FILTER_SUBSTR_DESCR;
    replaced by boolean search options scopeTitle, scopeDesc
- added new EpgDbFilterDestroySubstrContext(): free linked list,
    called in DestroyContext() and EpgDbFilterDisable(FILTER_SUBSTR)
- EpgDbFilterCopyContext(): copy linked substr param list
- EpgDbFilterMatches(): implement OR across all links substr searches
epgdb/epgdbfil.h [rev:1.26, 2003-03-14T18:53:53]:
- Added possibility for multiple text search filters in filter context
- moved substring search params into dynamically allocated struct:
    new type EPGDB_FILT_SUBSTR, used to build a simple linked list
- merged filter types FILTER_SUBSTR_TITLE and FILTER_SUBSTR_DESCR;
    replaced by boolean search options scopeTitle, scopeDesc
    added to EpgDbFilterSetSubStr()
epgui/pifilter.c [rev:1.78, 2003-03-14T18:54:00]:
- Added possibility for multiple text search filters in filter context
- merged filter types FILTER_SUBSTR_TITLE and FILTER_SUBSTR_DESCR
- SelectSubStr(): pass scope_title, scope_descr as params
- CreateContextMenu(): Adapted "undo": print substr text only if just one
    substr filter is active
epgui/pifilter.c [rev:1.79, 2003-03-14T19:59:19]:
- CreateContextMenu: added "undo global invert" option
epgtcl/mainwin.tcl [rev:1.215, 2003-03-14T19:59:58]:
- Added new proc ResetGlobalInvert
epgdb/epgdbfil.c [rev:1.41, 2003-03-14T20:01:14]:
- Fixed global inversion in EpgDbFilterMatches()
- use variable to temporarily keep track of failed matches, because matches
    cannot be aborted with "goto failed" until all possible "failed_pre"
    matches are through
- before, even expired PI could appear
- FILTER_EDIT_RAT: goto failed_pre if no editorial rating given for PI,
    to make handling equivalent with parental rating
nxtvepg.pod [rev:1.92, 2003-03-15T13:46:21]:
- added description of config option "Show layout button"
- added link to "air times" restriction from "List layout" switch
epgtcl/rcfile.tcl [rev:1.12, 2003-03-15T18:17:46]:
- LoadRcFile: added flag "isDaemon":
    + skip UI config variable post-processing in daemon mode
    + UpdateRcFile: invoke separate proc for daemon
- UpdateRcFile: use temporary file for new data -> moved on top of old one
    to lower the risk of trashing the rc file if there's an error
- added new proc UpdateDaemonRcFile: merge changed settings into rc file
- added new config variable showLayoutButton in load and store
epgui/epgmain.c [rev:1.117, 2003-03-15T18:21:44]:
- Pass additional argument "isDaemon" to Tcl proc LoadRcFile
- to skip UI config variable post-processing in daemon mode and
    to invoke new proc UpdateDaemonRcFile instead of regular one
dsdrv/cx2388x_typ.c [rev:1.1.1.2, 2003-03-16T18:25:09]:
- r1.10: Added support for Hauppauge WinTV PCI-FM : patch from Tom Zoerner
- r1.8+9: Fixes for PlayHD
dsdrv/cx2388x_reg.h [rev:1.1.1.2, 2003-03-16T18:25:17]:
- CVS import r1.11: added card type CX2388xCARD_HAUPPAUGE_PCI_FM
dsdrv/cx2388x_typ.c [rev:1.7, 2003-03-16T18:26:31]:
- Update with DScaler CVS CX2388xCard_Types.cpp,v 1.10
- [already in main branch] Added support for Hauppauge WinTV PCI-FM
- Fixes for PlayHD
epgui/pifilter.c [rev:1.80, 2003-03-16T21:33:05]:
- Bugfix SelectNi: must not enable all FILTER_PERM filters
- because not all perms are used all the time (e.g. FILTER_NETWOP_PRE2)
- also not needed because perm filters are not reset in EpgDbFilterInitNi()
epgui/epgmain.c [rev:1.118, 2003-03-16T21:40:53]:
- Improved error msg display during start-up
- ui_init(): set font for tk_messageBox (overridden later)
- withdraw main window for UNIX too
epgui/pinetbox.c [rev:1.31, 2003-03-16T21:44:49]:
- Fix: call PiNetBox_WithdrawCursor before clearing the listbox's data
- i.e. before calling PiNetBox_ClearRows() and PiNetBox_UpdateNetwopMap()
epgtcl/shortcuts.tcl [rev:1.10, 2003-03-16T22:27:52]:
- Added control for multiple substr searches in GUI level
- globally adapted for new substr param format in shortcuts: vargs is now a
    list of param sets instead of a single set of 5 params (also changed param
    order and added 2 params for future extensions)
- adapted for proc interface changes:
    + C_SelectSubStr now gets params in a list (to simplify passing history el.s)
    + C_SelectSubStr now gets the complete stack of substr searches instead
      of each substr set one by one
    + to disable/reset filter: reset substr_stack instead of pattern
epgtcl/rcfile.tcl [rev:1.13, 2003-03-16T22:28:03]:
- Added control for multiple substr searches in GUI level
- format of substr params in shortcuts & substr_history changed -> added
    auto-conversion: vargs is now a list of param sets instead of a simple list
    of 5 params; also changed order and added 2 params for future extensions
- Also:
- added nxtvepg_rc_compat: refuse to load rc files from newer, incompatible
    versions in LoadRcFile
epgtcl/mainwin.tcl [rev:1.216, 2003-03-16T22:28:09]:
- Added control for multiple substr searches in GUI level
- handle new global substr_stack: holds all currently enabled substr param sets
- SubstrUpdateFilter: push new param set onto the stack
- SubstrSetFilter: gets params as list, to simplify passing an stack member
- added new func SubstrUndoFilter: bound to checkbuttons in substr history
    popup menus
- FilterMenuAdd_Title: append substr_stack contents, add checkbutton
    in front to display if this string is currently used or not
epgtcl/dlg_filter.tcl [rev:1.8, 2003-03-16T22:28:16]:
- Added control for multiple substr searches in GUI level
- added new global substr_stack: holds all currently enabled substr param sets
- adapted params to procs:
    + use ResetSubstr to clear the substr filter (clears substr_stack)
    + added boolean param to SubstrUpdateFilter
- SubStrPopupHistoryMenu: append substr_stack contents, add checkbutton
    in front to display if this string is currently used or not
epgui/pifilter.c [rev:1.81, 2003-03-16T22:28:30]:
- Added control for multiple substr searches in GUI level
- params for C_SelectSubStr changed: now gets list of all substr param sets
    instead of just one; passing zero string disables the substr filter
- also changed param order (test ist now at first pos.) and added 2 dummies
    for future extensions in TODO
- adapted call to Tcl proc SubstrSetFilter in CreateContextMenu():
    now gets params in a list (to simplify passing an substr_stack member)
epgvbi/btdrv4linux.c [rev:1.44, 2003-03-16T22:29:42]:
- BtDriver_DecodeFrame() adapted for v4l2 API:
- if read on VBI device returns EBUSY, abort acquisition
nxtvepg.pod [rev:1.93, 2003-03-16T22:31:35]:
- Updated filter chapter for new multi-substring search capability
epgctl/epgversion.h [rev:1.40, 2003-03-16T22:32:41]:
- set version to 2.5.0pre15
dsdrv/hwdrv.c [rev:1.12, 2003-03-16T22:52:19]:
- Syntax fix:
- removed "WINAPI" in declarations for pointers to hold function addresses
    loaded from advapi32.dll -> no more compiler warning
epgui/pinetbox.c [rev:1.32, 2003-03-19T16:16:56]:
- Bugfix PiNetBox_SearchPrevNext()
- make sure that pPrevPi and pNextPi don't point to the same PI
epgdb/epgdbfil.c [rev:1.42, 2003-03-19T16:17:12]:
- Matches against both FILTER_SERIES and FILTER_SUBSTR are combined with OR
epgdb/epgstream.c [rev:1.27, 2003-03-19T16:17:28]:
- Improved debug output for hamming errors in BP
epgvbi/btdrv4win.c [rev:1.42, 2003-03-19T16:17:42]:
- Bugfix BtDriver_QueryCardParams():
- did not set btCfg.cardIdx before opening the card -> card could be opened
    with wrong device params -> kernel crash with "page fault in unmapped area"
    when switching from Bt8x8 to Cx23881 because the latter required larger
    memory map
- changed BtDriver_OpenCard(): use new arg cardIdx instead of global btCfg
    same change for BtDriver_GetCardInterface()
- Also: replaced "Bt8x8" with "TV card" in error messages
dsdrv/dsdrv34.c [rev:1.9, 2003-03-19T16:18:14]:
- replaced "Bt8x8" with "TV card" in error messages
- UnloadDriver(): reset boolean CardOpened to FALSE
epgvbi/hamming.c [rev:1.9, 2003-03-19T16:18:24]:
- Replace parity errors with 0xA0 instead of 0x20
epgtcl/rcfile.tcl [rev:1.14, 2003-03-19T16:18:58]:
- Bugfix proc UpdateRcFile and UpdateDaemonRcFile for WIN32
- file rename fails with "file not found" for WIN32, reason unknown
    -> do rename only for UNIX; on WIN32 back to simple overwrite
epgtcl/shortcuts.tcl [rev:1.11, 2003-03-19T16:19:16]:
- Bugfix proc SelectShortcuts
- before adding new substr params, remove identical ones from the stack
nxtvepg.pod [rev:1.94, 2003-03-19T16:19:32]:
- reordered filter menu description: order by importance, not menu order
- added note that SERIES and THEME or SUBSTR are combined by logical OR
README [rev:1.33, 2003-03-19T16:21:29]:
- improved description of compilation procedure for Windows
    also moved beneath installation procedure
- updated WIN32 driver error message descriptions; removed remaining "Bt8x8"
- added note for ws2_32.dll on Windows 95
epgctl/epgversion.h [rev:1.41, 2003-03-19T16:51:40]:
- set version to 2.5.0pre16
www/index-de.html [rev:1.52, 2003-03-19T18:33:55]:
- added note about Windows support for saa7134 and cx23881 in upcoming 2.5.0
- fixed some of the HTML4.01 syntax errors reported by
    http://validator.w3.org/check
www/index.html [rev:1.65, 2003-03-19T18:33:55]:
- added note about Windows support for saa7134 and cx23881 in upcoming 2.5.0
- fixed some of the HTML4.01 syntax errors reported by
    http://validator.w3.org/check
www/index-de.html [rev:1.53, 2003-03-19T18:46:17]:
- More syntax fixes
- changed order of <A NAME=...><H3>: <H3> must be outside acc. to HTML4.01
www/index.html [rev:1.66, 2003-03-19T18:46:17]:
- More syntax fixes
- changed order of <A NAME=...><H3>: <H3> must be outside acc. to HTML4.01
www/provnets.html [rev:1.21, 2003-03-19T19:12:47]:
- fixed some of the HTML4.01 syntax errors reported by
    http://validator.w3.org/check
www/nxtvepg.css [rev:1.4, 2003-03-19T19:13:08]:
- fixed some of the CSS syntax errors reported by
    http://jigsaw.w3.org/css-validator/validator
- removed redundant PRE rule
- removed foreground color for PRE (didn't apply before due to misspelling)
COPYRIGHT [rev:1.7, 2003-03-22T14:37:05]:
- added Tcl/Tk library license.terms
    due to inclusion of script libraries in source tarball
- updated driver copyrights for cx23881 and saa7134
Makefile.win32 [rev:1.37, 2003-03-22T14:42:25]:
- small fix in epgtcl/tcl_libs.tcl target: replaced * with *.tcl
dsdrv/saa7134.c [rev:1.15, 2003-03-22T14:42:37]:
- added conflict detection (with other TV apps): equiv. bt8x8 driver
    + in VBI thread: use new func CheckDmaConflict()
    + in open: check DMA and REGION bits
- design fix DMA buffer organization: swapped fields SAA7134_RS_BA1/BA2
    + possible due to change in SAA7134_TASK_CONDITIONS from 0xd to 0xe
    + obsoletes work-around for VBI line indices which are passed to decoder
epgvbi/btdrv4linux.c [rev:1.45, 2003-03-22T14:43:23]:
- debug output improved:
- suppress VIDIOCGVBIFMT if errno == EINVAL (for v4l1 bttv)
epgvbi/syserrmsg.c [rev:1.2, 2003-03-22T14:44:25]:
- WIN32 fix for socket error messages displayed to user
- FormatMessage() does not handle those error codes, use switch instead
epgdb/epgnetio.c [rev:1.33, 2003-03-22T14:44:41]:
- WIN32 debug output improved in WinSocketStrError()
- FormatMessage() does not handle those error codes -> suppress warning
- return error # in string if FormatMessage() fails
epgctl/epgversion.h [rev:1.42, 2003-03-22T14:46:10]:
- set version to 2.5.0
CHANGES [rev:1.32, 2003-03-22T15:52:55]:
- updated for release 2.5.0
TODO [rev:1.26, 2003-03-22T15:53:22]:
- updated for release 2.5.0
nxtvepg.spec [rev:1.13, 2003-03-22T15:53:42]:
- updated for release 2.5.0
epgui/pinetbox.c [rev:1.33, 2003-03-22T16:03:03]:
- switched DEBUG_PINETBOX_CONSISTANCY OFF for 2.5.0 release
epgui/pinetbox.c [rev:1.34, 2003-03-22T17:14:37]:
- fix PiNetBox_ErrorMessage():
- update pos. of horizontal slider when switching from error to normal state
nxtvepg.pod [rev:1.95, 2003-03-22T17:14:41]:
- fix: removed obsolete references to WIN32 TV app config loading
- both in "Getting Started" and "TV app. interaction" config
www/changelog.html [rev:1.44, 2003-03-22T18:29:05]:
- updated for release 2.5.0
- fixed some HTML4.01 syntax errors reported by http://validator.w3.org/check
    + changed order of <A NAME=...><H3>: <H3> must be outside acc. to HTML4.01
    + enclose attribute parameters in quotes ""
    + fixed unbalanced <P></P>, enclosed all text in <P>...</P>
www/index-de.html [rev:1.54, 2003-03-22T18:29:15]:
- updated for release 2.5.0
- added link to new screenshot-grid1.png (warning: PNG not GIF)
- updated link to linux bttv driver, added saa7134
www/index.html [rev:1.67, 2003-03-22T18:29:15]:
- updated for release 2.5.0
- added link to new screenshot-grid1.png (warning: PNG not GIF)
- updated link to linux bttv driver, added saa7134
www/man.html [rev:1.25, 2003-03-22T18:29:31]:
- updated for release 2.5.0
www/tripod-src-index.html [rev:1.13, 2003-03-22T18:32:40]:
- updated for releases 2.4.2 & 2.5.0
- fixed charset in META tags acc. to HTML4.01 validator
- removed obsolete release source tarballs and win32 zip files
www/nefkom-src-index.html [rev:1.14, 2003-03-22T18:32:51]:
- updated for release 2.5.0
- fixed charset in META tags acc. to HTML4.01 validator
- removed obsolete release source tarballs and win32 zip files
www/pre-releases.html [rev:1.22, 2003-03-22T18:34:16]:
- updated for release 2.5.0
- removed beta release links
- added 2.5.0-win-dbg: executable with debugging enabled
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_2_5_0 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
Makefile.solaris [rev:1.1, 2003-03-22T18:38:56]:
- Initial revision
epgtcl/dlg_netsel.tcl [rev:1.9, 2003-03-31T19:14:32]:
- Network selection dialog:
- improved message for "Copy" menu when no providers available
- "no other providers available" was confusing for users
epgtcl/dlg_acqmode.tcl [rev:1.4, 2003-03-31T19:15:21]:
- Added WM_DELETE_WINDOW handler for dialogs with "Abort" warning
- handler is invoked when user closes window with "X" button in window titlebar
- call the same proc as with "Abort" button
epgtcl/dlg_ctxmencf.tcl [rev:1.5, 2003-03-31T19:15:21]:
- Added WM_DELETE_WINDOW handler for dialogs with "Abort" warning
- handler is invoked when user closes window with "X" button in window titlebar
- call the same proc as with "Abort" button
epgtcl/dlg_hwcfg.tcl [rev:1.10, 2003-03-31T19:15:21]:
- Added WM_DELETE_WINDOW handler for dialogs with "Abort" warning
- handler is invoked when user closes window with "X" button in window titlebar
- call the same proc as with "Abort" button
epgtcl/dlg_netname.tcl [rev:1.4, 2003-03-31T19:15:21]:
- Added WM_DELETE_WINDOW handler for dialogs with "Abort" warning
- handler is invoked when user closes window with "X" button in window titlebar
- call the same proc as with "Abort" button
epgtcl/dlg_shortcuts.tcl [rev:1.9, 2003-03-31T19:15:21]:
- Added WM_DELETE_WINDOW handler for dialogs with "Abort" warning
- handler is invoked when user closes window with "X" button in window titlebar
- call the same proc as with "Abort" button
epgtcl/dlg_udefcols.tcl [rev:1.11, 2003-03-31T19:15:21]:
- Added WM_DELETE_WINDOW handler for dialogs with "Abort" warning
- handler is invoked when user closes window with "X" button in window titlebar
- call the same proc as with "Abort" button
epgtcl/dlg_prov.tcl [rev:1.9, 2003-03-31T19:17:24]:
- Added WM_DELETE_WINDOW handler for dialogs with "Abort" warning
- handler is invoked when user closes window with "X" button in window titlebar
- call the same proc as with "Abort" button
- Win32 EPG scan: TV app interaction improved
- when TV app is configured, auto-enable "use TV app" channel table option
epgtcl/dlg_xawtvcf.tcl [rev:1.6, 2003-04-01T20:52:51]:
- Use WIN32 TV app selection popdown for UNIX too
- to select between xawtv and xawdecode
- initialize wintvapp_idx with -1 instead of 0: overwritten by RC file, else
    proc UpdateTvappName selects TV app with new proc C_Tvapp_GetDefaultApp
- proc XawtvConfigPopup: moved "if !$is_unix" to add TV app menu for UNIX
    except for the path entry field
- proc XawtvConfigSave: moved "if !$is_unix" to enable tv app checks for UNIX
- Also:
- added WM_DELETE_WINDOW handler for dialogs with "Abort" warning
- split off new proc XawtvConfigQuit for cleanup upon abort
epgtcl/rcfile.tcl [rev:1.15, 2003-04-01T20:56:00]:
- Added workaround for default shortcuts bug on 2.5.0:
- search & replace defective default shortcut
epgtcl/shortcuts.tcl [rev:1.12, 2003-04-01T20:56:03]:
- bugfix French default shortcut: format for substr filter was wrong
epgtcl/mainwin.tcl [rev:1.217, 2003-04-01T20:56:10]:
- disabled show/hide option "Show column headers" for netbox layout
- moved "wm deiconify" from epgmain.c into new proc DisplayMainWindow
- change .all.pi to expand horizontally too
- proc Toggle_PiBoxType:
    + added "update" to prevent X11 errors
    + make window horizontally resizable in netbox layout
- proc ShortInfoResized:
    + fixed "disappearing status line" problem: added wm geometry . ""
      window is now resized only by changing widget -height and -width
    + added detection for WIN32 maximized windows
    + added prevention for recursion; do update inside protextion
    + added horizontal resizing (grid layout only) (UNIX only)
- WIN32 bugfix NetboxColumnHeaderMenu: check if sub-menu already exists
epgui/epgmain.c [rev:1.119, 2003-04-01T20:56:50]:
- fix WIN32: DEBUG_SWITCH_TCL_BGERR proc bgerror moved below LoadTcl_Init()
- wm deiconify moved into new Tcl proc DisplayMainWindow
- added WintvCfg_Init() for UNIX too (xawtv rc file handling moved there)
epgui/menucmd.c [rev:1.101, 2003-04-01T20:59:10]:
- Xawtv rc file handling moved from xawtv.c into wintvcfg.c
- removed Xawtv_GetFreqTab(), use WIN32 WintvCfg_GetFreqTab() for all platforms
epgui/wintvcfg.c [rev:1.14, 2003-04-01T20:59:51]:
- Added xawtv rc file handling -> added TV app selection for UNIX too
- added TV apps xawtv and xawdecode to list;
    moved INI file names from #defines into TV app list struct
- WintvCfg_GetPath(): paths can be relative $HOME
- changed all channel freq and name handlers: get already assembled path
    -> adapted shells GetStationNames(), GetFreqTab(), TestChanTab()
- added WintvCfg_GetXawtvFreqTab() and WintvCfg_GetXawtvStationNames():
    used both for xawtv and xawdecode
- UNIX only: added new func WintvCfg_GetDefaultApp()
epgui/xawtv.c [rev:1.31, 2003-04-01T21:00:01]:
- Split off rc file handling: moved into wintvcfg.c
- removed obsolete Xawtv_Enabled(), Xawtv_OpenRcFile(), Xawtv_AddFreqToBuf()
- moved Xawtv_GetFreqTab(), Xawtv_GetStationNames into wintvcfg.c
- Removed pre-condition for TV app interaction
- Xawtv_Init() and Xawtv_InitConfig(): removed call to Xawtv_Check()
- removed obsolete functions Xawtv_Check() and Xawtv_Enabled()
epgui/pinetbox.c [rev:1.35, 2003-04-03T20:06:50]:
- Prevent that scrolled-out elements come back into view upon refresh
- PiNetBox_MoveTextUp() and PiNetBox_MoveTextDown() leave one invisible element
epgtcl/mainwin.tcl [rev:1.218, 2003-04-03T20:30:35]:
- Grid layout: added +/- buttons to control column count
- as suggested in sourceforge.net forum March/25/2003
- below column selection "colcfg" button, callback proc NetboxColumnRecount
- adjusted grid rows in all other .all.pi.* widgets >= row 1
epgtcl/mainwin.tcl [rev:1.219, 2003-04-04T21:02:01]:
- Added bindings for middle mouse button in TextPiBox
- for scrolling the listbox by dragging with the middle mouse button
- new procs DragListboxStart, DragListboxMotion and DragListboxStop
www/index-de.html [rev:1.55, 2003-04-05T12:19:31]:
- Added "M6" back into list of French providers.
www/index.html [rev:1.68, 2003-04-05T12:19:31]:
- Added "M6" back into list of French providers.
www/provnets.html [rev:1.22, 2003-04-05T12:22:28]:
- Moved "M6" back from list of "dead" providers into list of actives
- re-surfaced end of March 2003, reported by Thierry 29 Mar 2003
www/nefkom-src-index.html [rev:1.15, 2003-04-05T12:22:47]:
- updated date and file size of nxdemodb.epg.gz
README [rev:1.34, 2003-04-05T12:31:27]:
- Added "M6" back into list of French providers.
nxtvepg.pod [rev:1.96, 2003-04-05T12:31:27]:
- Added "M6" back into list of French providers.
epgvbi/cni_tables.c [rev:1.21, 2003-04-05T12:32:45]:
- Added "M6" back into list of known providers
epgvbi/ttxdecode.c [rev:1.53, 2003-04-05T12:33:56]:
- Added one line of debug output in TtxDecode_AddVpsData()
epgtcl/mainwin.tcl [rev:1.220, 2003-04-05T13:03:06]:
- PI Listbox "panning" improved
- proc DisplayMainWindow: set min window minsize for min. short-info height
- proc PanningMotion: removed obsolete workaround for UNIX window management
    + no longer required since we clear the user-changed geometry now
    + UNIX and WIN32 now behave the same (panning only shifts the border between
      listbox and short-info; total window height is unchanged)
CHANGES [rev:1.33, 2003-04-05T13:47:58]:
- updated for release 2.5.1pre0
TODO [rev:1.27, 2003-04-05T13:47:58]:
- updated for release 2.5.1pre0
epgctl/epgversion.h [rev:1.43, 2003-04-05T13:48:23]:
- set version to 2.5.1pre0
www/pre-releases.html [rev:1.23, 2003-04-05T13:51:02]:
- updated for pre-release 2.5.1pre0
- added changelog; added link to discussion forum
- added source tarball and win-zip
www/provnets.html [rev:1.23, 2003-04-06T19:23:59]:
- added "Preview" column which notes how many days are covered in advance
- extended note for M6: preview was reduced from 7 to 3 days
epgui/epgmain.c [rev:1.120, 2003-04-06T19:30:00]:
- Added +/- bitmaps: displayed below "colcfg" bitmap in grid layout
- include images/col_plus.xbm and col_minus.xbm
epgui/pinetbox.c [rev:1.36, 2003-04-06T19:42:24]:
- Major bugfix: reference PI inserted in wrong column when scrolling horizontally
- when the column with the cursor was scrolled out, the element selected
    as "reference" was inserted into the wrong column because it wasn't
    corrected by the column delta: affected PiNetBox_ScrollRight() and
    PiNetBox_ScrollLeft()
- fix: moved "colIdx -= delta" behind (former) PickCurPi() function
- split off new function PiNetBox_PickCurPi() from the above two functions;
    globally renamed previous PickCurPi function into PiNetBox_PickVisiblePi()
- added an assertion to consistancy check func to check if elements are in
    the wrong column (i.e. check if netwop is mapped to the column)
- Also:
- added some debug output in FillDown and FillUp functions
- replaced WithdrawCursor() in PiNetBox_Resize() with cur_type=INVISIBLE
epgvbi/ttxdecode.c [rev:1.54, 2003-04-09T20:44:05]:
- bugfix TtxDecode_GetStatistics():
- result value *pVbiLineCount was not initialized
- removed this function parameter (not useful)
epgvbi/ttxdecode.h [rev:1.28, 2003-04-09T20:44:05]:
- bugfix TtxDecode_GetStatistics():
- result value *pVbiLineCount was not initialized
- removed this function parameter (not useful)
epgctl/epgacqctl.c [rev:1.78, 2003-04-09T20:44:17]:
- bugfix TtxDecode_GetStatistics():
- result value *pVbiLineCount was not initialized
- removed this function parameter (not useful)
epgctl/epgscan.c [rev:1.34, 2003-04-09T20:45:37]:
- bugfix full-band scan (i.e. w/o TV app)
- TtxDecode_GetStatistics()'s return value vbiLineCount was used
    although it was never implemented
- removed this function parameter and it's use (not useful)
epgtcl/mainwin.tcl [rev:1.221, 2003-04-12T13:33:43]:
- Allow alternate X11 display for TV application
- proc Create_XawtvPopup: additional first arg: X11 display name
COPYRIGHT [rev:1.8, 2003-04-12T13:34:25]:
- added copyright for zvbi slicer: by Michael H. Schimek
- added copyright for "column selection" icon
nxtvepg.pod [rev:1.97, 2003-04-12T13:35:17]:
- Allow alternate X11 display for TV application
- describe -tvdisplay option in OPTIONS section
- improved -display description
epgui/menucmd.c [rev:1.102, 2003-04-12T13:36:05]:
- removed obsolete include xawtv.h (forgotten in last check-in)
epgui/epgmain.c [rev:1.121, 2003-04-12T13:36:58]:
- Allow alternate X11 display for TV application
- added command line option -tvdisplay
- option string is passed to Xawtv_Init()
epgui/wintvcfg.c [rev:1.15, 2003-04-12T13:37:13]:
- Updated module header description:
- removed reference to obsolete INI file parsers
epgui/xawtv.c [rev:1.32, 2003-04-12T13:37:20]:
- Allow alternate X11 display for TV application
- Xawtv_Init() optionally gets display name: calls Tk_CreateWindow()
- added new halper function Xawtv_GetTvDisplay(): selects between alternate
    TV app display or main window's display -> gloabally used in all funcs
- pass display name to Tcl proc Create_XawtvPopup
- updated module header description: removed ref. to obsolete INI file parsers;
    also removed obsolete typedef DYN_FREQ_BUF
epgui/xawtv.h [rev:1.6, 2003-04-12T13:37:28]:
- Allow alternate X11 display for TV application
- Xawtv_Init() optionally gets display name: calls Tk_CreateWindow()
- Also:
- removed obsolete function declaration Xawtv_GetFreqTab()
epgvbi/zvbidecoder.c [rev:1.1, 2003-04-12T13:59:00]:
- Initial revision
epgvbi/zvbidecoder.h [rev:1.1, 2003-04-12T13:59:02]:
- Initial revision
Makefile [rev:1.58, 2003-04-12T17:50:35]:
- added support for NetBSD by Mario Kemper;
    renamed Makefile.freebsd to Makefile.bsd
- added -DZVBI_DECODER: new alternative VBI slicer from libzvbi-0.2.4
    added new module epgvbi/zvbidecoder
- added new module epgui/wintvcfg: xawtv rc file parser split off from xawtv.c
- improved documentation for -DSAA7134_0_2_2
Makefile.bsd [rev:1.2, 2003-04-12T17:50:42]:
- Added support for NetBSD by Mario Kemper
- renamed Makefile.freebsd to Makefile.bsd
- Also: added new define -DX11_APP_DEFAULTS
Makefile.win32 [rev:1.38, 2003-04-12T17:50:48]:
- added -DZVBI_DECODER: new alternative VBI slicer from libzvbi-0.2.4
- added new module epgvbi/zvbidecoder for nxtvepg.exe and tvsim.exe
epgvbi/btdrv4linux.c [rev:1.46, 2003-04-12T17:51:05]:
- Added support for new VBI slicer from libzvbi-0.2.4
- enabled by preprocessor switch -DZVBI_DECODER
- Also:
- pass VBI start line index to VBI slicers: 2nd arg to VbiDecodeSetSamplingRate
- ignore failure of VIDIOCSTUNER (for compatibility with saa7134 driver)
epgvbi/vbidecode.c [rev:1.36, 2003-04-12T17:51:13]:
- VbiDecodeSetSamplingRate(): added new arg startLine: VBI start line index
    changed VPS line from 9 to (9 + vbiStartLine) = 16
- disable module is #define ZVBI_DECODER is set (new VBI slicer)
epgvbi/vbidecode.h [rev:1.18, 2003-04-12T17:51:21]:
- VbiDecodeSetSamplingRate(): added new arg startLine: VBI start line index
dsdrv/saa7134.c [rev:1.16, 2003-04-12T17:52:19]:
- VbiDecodeSetSamplingRate(): added new arg startLine: VBI start line index
dsdrv/cx2388x.c [rev:1.11, 2003-04-12T17:52:27]:
- VbiDecodeSetSamplingRate(): added new arg startLine: VBI start line index
dsdrv/bt8x8.c [rev:1.6, 2003-04-12T17:53:31]:
- Added support for new VBI slicer from libzvbi-0.2.4
- enabled by preprocessor switch -DZVBI_DECODER
- VbiDecodeSetSamplingRate(): added new arg startLine: VBI start line index
CHANGES [rev:1.34, 2003-04-12T19:24:40]:
- updated for release 2.5.1pre1
TODO [rev:1.28, 2003-04-12T19:24:40]:
- updated for release 2.5.1pre1
epgctl/epgversion.h [rev:1.44, 2003-04-12T19:28:22]:
- set version to 2.5.1pre1
www/pre-releases.html [rev:1.24, 2003-04-12T19:30:16]:
- updated for pre-release 2.5.1pre1
Makefile [rev:1.59, 2003-04-20T22:10:19]:
- Added rule to check TCL_LIBRARY_PATH and TK_LIBRARY_PATH
- else a wrong tcl library path causes only a runtime error in epgmain.c:
    invalid command name "tcl_findLibrary"
- define a make variable TCL_LIBRARY_PATH instead of a string in DEFS only
Makefile.bsd [rev:1.3, 2003-04-20T22:10:19]:
- Added rule to check TCL_LIBRARY_PATH and TK_LIBRARY_PATH
- else a wrong tcl library path causes only a runtime error in epgmain.c:
    invalid command name "tcl_findLibrary"
- define a make variable TCL_LIBRARY_PATH instead of a string in DEFS only
epgctl/epgversion.h [rev:1.45, 2003-04-21T10:16:31]:
- set version to 2.5.1
epgtcl/mainwin.tcl [rev:1.222, 2003-04-21T10:27:38]:
- Fixed proc PiBox_DisplayErrorMessage for grid layout:
- rowspan for "overlay" text widget had to be increased by 2
- to accomodate for the addition of +/- buttons
epgui/pifilter.c [rev:1.82, 2003-04-21T10:31:20]:
- fixed PiFilter_Expire():
- rounding expire time down to full minute, in case the handler is called late
- so that programmes which end in that minute do always expire
epgtcl/mainwin.tcl [rev:1.223, 2003-04-21T18:57:55]:
- fix proc AdjustTextWidgetProportions:
- must set new listbox height for both layouts ($pibox_height)
    i.e. even the invisible ones
- else after a layout toggle the listbox text widget will have a wrong size
    but the C level will use the new height
CHANGES [rev:1.35, 2003-04-21T19:35:08]:
- updated for release 2.5.1
- took out ZVBI decoder for the release
TODO [rev:1.29, 2003-04-21T19:35:37]:
- updated for release 2.5.1
nxtvepg.spec [rev:1.14, 2003-04-21T19:35:58]:
- updated for release 2.5.1
images/col_minus.xbm [rev:1.1, 2003-04-21T19:37:59]:
- Initial revision
images/col_plus.xbm [rev:1.1, 2003-04-21T19:38:02]:
- Initial revision
www/changelog.html [rev:1.45, 2003-04-21T19:40:14]:
- updated for release 2.5.1
www/index-de.html [rev:1.56, 2003-04-21T19:40:14]:
- updated for release 2.5.1
www/index.html [rev:1.69, 2003-04-21T19:40:14]:
- updated for release 2.5.1
www/man.html [rev:1.26, 2003-04-21T19:40:14]:
- updated for release 2.5.1
www/nefkom-src-index.html [rev:1.16, 2003-04-21T19:40:14]:
- updated for release 2.5.1
www/tripod-src-index.html [rev:1.14, 2003-04-21T19:40:14]:
- updated for release 2.5.1
#>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> RELEASE_2_5_1 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<
